<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GenosDB Interactive Course - Powered by Grok</title>
    <style>
        /* Grok Style: Clean, modern, with blue accents inspired by xAI/Grok */
        :root {
            --primary-blue: #1e90ff;
            --secondary-blue: #00bfff;
            --text-color: #ffffff;
            --bg-color: #121212;
            --accent-color: #ff4500;
            --card-bg: #1e1e1e;
            --border-color: #333333;
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            --font-mono: 'Courier New', Courier, monospace;
            --font-sans: 'Arial', sans-serif;
        }
        body.light-mode {
            --text-color: #000000;
            --bg-color: #f0f0f0;
            --accent-color: #ff4500;
            --card-bg: #ffffff;
            --border-color: #dddddd;
            --shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-sans);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }
        h1, h2, h3 {
            color: var(--primary-blue);
            font-family: var(--font-mono);
        }
        a {
            color: var(--secondary-blue);
            text-decoration: underline;
            transition: color 0.3s;
        }
        a:hover {
            color: var(--primary-blue);
        }
        code, pre {
            background: var(--card-bg);
            color: var(--accent-color);
            padding: 10px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: var(--font-mono);
            box-shadow: var(--shadow);
            transition: background 0.3s;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        #mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 20;
        }
        #mode-toggle button {
            background: var(--card-bg);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.3s, color 0.3s;
        }
        #mode-toggle button:hover {
            background: var(--primary-blue);
            color: #ffffff;
        }
        .progress-container {
            position: sticky;
            top: 0;
            z-index: 10;
            background: var(--bg-color);
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
            transition: background 0.3s;
        }
        #progress-bar {
            width: 100%;
            height: 8px;
            background: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }
        #progress-fill {
            height: 100%;
            background: linear-gradient(to right, var(--primary-blue), var(--secondary-blue));
            width: 0;
            transition: width 0.5s ease-in-out;
        }
        .lesson {
            margin-bottom: 40px;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            box-shadow: var(--shadow);
            display: none;
            transition: background 0.3s, border 0.3s;
            background: var(--card-bg);
        }
        .lesson.active {
            display: block;
        }
        .quiz {
            margin-top: 20px;
            padding: 16px;
            background: var(--border-color);
            border-radius: 8px;
            transition: background 0.3s;
        }
        .quiz label {
            display: block;
            margin: 12px 0;
            cursor: pointer;
        }
        button {
            background: var(--primary-blue);
            color: #ffffff;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s, transform 0.2s;
        }
        button:hover {
            background: var(--secondary-blue);
            transform: translateY(-2px);
        }
        #badges {
            display: flex;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .badge {
            background: var(--primary-blue);
            color: #ffffff;
            padding: 8px 16px;
            margin: 8px 8px 8px 0;
            border-radius: 20px;
            box-shadow: var(--shadow);
            display: none;
            transition: background 0.3s;
        }
        .badge.unlocked {
            display: inline-block;
        }
        #certificate {
            display: none;
            text-align: center;
            margin-top: 50px;
            padding: 40px;
            border: 2px solid var(--primary-blue);
            border-radius: 12px;
            box-shadow: var(--shadow);
            background: var(--card-bg);
            transition: background 0.3s, border 0.3s;
        }
        #certificate h2 {
            color: var(--secondary-blue);
        }
        /* Responsive Design */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .lesson {
                padding: 16px;
            }
            button {
                width: 100%;
                padding: 12px;
            }
            #mode-toggle {
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body class="dark-mode">
    <div id="mode-toggle">
        <button onclick="toggleMode()">Toggle Mode</button>
    </div>
    <div class="container">
        <h1>GenosDB Interactive Course</h1>
        <p>Welcome to the ultimate GenosDB learning adventure! Powered by Grok. Complete lessons, earn badges, and get certified. Progress is saved locally.</p>
        
        <div class="progress-container">
            <div id="progress-bar"><div id="progress-fill"></div></div>
            <p id="progress-text">Progress: 0%</p>
        </div>
        
        <div id="badges">
            <span class="badge" id="badge-install">üì¶ Installer Badge</span>
            <span class="badge" id="badge-init">‚öôÔ∏è Init Master</span>
            <span class="badge" id="badge-core">üß© Core Methods Pro</span>
            <span class="badge" id="badge-query">üîç Query Wizard</span>
            <span class="badge" id="badge-advanced">üå≥ Graph Explorer</span>
            <span class="badge" id="badge-clear">üóëÔ∏è Cleaner</span>
            <span class="badge" id="badge-rtc">üì° P2P Pioneer</span>
            <span class="badge" id="badge-complete">üèÜ GenosDB Guru</span>
        </div>
        
        <!-- Lessons -->
        <div id="lesson-1" class="lesson active">
            <h2>Lesson 1: Introduction and Installation</h2>
            <p>GenosDB is a minimalist graph database with P2P support and real-time querying. Let's start by installing it.</p>
            <pre><code>npm install genosdb</code></pre>
            <div class="quiz">
                <h3>Quiz: How do you install GenosDB?</h3>
                <form id="quiz-1">
                    <label><input type="radio" name="q1" value="a"> pip install genosdb</label>
                    <label><input type="radio" name="q1" value="b"> npm install genosdb</label>
                    <label><input type="radio" name="q1" value="c"> gem install genosdb</label>
                    <button type="button" onclick="checkQuiz(1)">Submit</button>
                </form>
                <p id="quiz-1-result"></p>
            </div>
            <button onclick="completeLesson(1)">Complete Lesson 1</button>
        </div>
        
        <div id="lesson-2" class="lesson">
            <h2>Lesson 2: Importing and Initializing</h2>
            <p>Import via NPM or CDN, then initialize with await gdb(name, options).</p>
            <pre><code>import { gdb } from "genosdb";
const db = await gdb("my-db");</code></pre>
            <p>Options include rtc for P2P, password for security, etc.</p>
            <div class="quiz">
                <h3>Quiz: What enables P2P?</h3>
                <form id="quiz-2">
                    <label><input type="radio" name="q2" value="a"> { rtc: true }</label>
                    <label><input type="radio" name="q2" value="b"> { p2p: on }</label>
                    <label><input type="radio" name="q2" value="c"> { network: true }</label>
                    <button type="button" onclick="checkQuiz(2)">Submit</button>
                </form>
                <p id="quiz-2-result"></p>
            </div>
            <button onclick="completeLesson(2)">Complete Lesson 2</button>
        </div>
        
        <div id="lesson-3" class="lesson">
            <h2>Lesson 3: Core Methods - put, get, link, remove</h2>
            <p>Use put to insert/update, get to retrieve, link for relationships, remove to delete.</p>
            <pre><code>const id = await db.put({ type: "User", name: "Ana" });
await db.link(sourceId, targetId);</code></pre>
            <div class="quiz">
                <h3>Quiz: What does db.put return?</h3>
                <form id="quiz-3">
                    <label><input type="radio" name="q3" value="a"> void</label>
                    <label><input type="radio" name="q3" value="b"> Node ID</label>
                    <label><input type="radio" name="q3" value="c"> Object</label>
                    <button type="button" onclick="checkQuiz(3)">Submit</button>
                </form>
                <p id="quiz-3-result"></p>
            </div>
            <button onclick="completeLesson(3)">Complete Lesson 3</button>
        </div>
        
        <div id="lesson-4" class="lesson">
            <h2>Lesson 4: Querying with map</h2>
            <p>Use map for queries and real-time updates.</p>
            <pre><code>const { results } = await db.map({ query: { type: "user" } });</code></pre>
            <div class="quiz">
                <h3>Quiz: What enables real-time in map?</h3>
                <form id="quiz-4">
                    <label><input type="radio" name="q4" value="a"> Providing a callback</label>
                    <label><input type="radio" name="q4" value="b"> { realtime: true }</label>
                    <label><input type="radio" name="q4" value="c"> Both</label>
                    <button type="button" onclick="checkQuiz(4)">Submit</button>
                </form>
                <p id="quiz-4-result"></p>
            </div>
            <button onclick="completeLesson(4)">Complete Lesson 4</button>
        </div>
        
        <div id="lesson-5" class="lesson">
            <h2>Lesson 5: Advanced Queries with $edge</h2>
            <p>Use $edge for recursive graph traversal.</p>
            <pre><code>await db.map({ query: { type: "Folder", $edge: { type: "File" } } });</code></pre>
            <div class="quiz">
                <h3>Quiz: What does $edge do?</h3>
                <form id="quiz-5">
                    <label><input type="radio" name="q5" value="a"> Filters starting nodes</label>
                    <label><input type="radio" name="q5" value="b"> Traverses descendants</label>
                    <label><input type="radio" name="q5" value="c"> Sorts results</label>
                    <button type="button" onclick="checkQuiz(5)">Submit</button>
                </form>
                <p id="quiz-5-result"></p>
            </div>
            <button onclick="completeLesson(5)">Complete Lesson 5</button>
        </div>
        
        <div id="lesson-6" class="lesson">
            <h2>Lesson 6: Clearing the Database</h2>
            <p>Use clear() to remove all nodes.</p>
            <pre><code>await db.clear();</code></pre>
            <div class="quiz">
                <h3>Quiz: What does db.clear() return?</h3>
                <form id="quiz-6">
                    <label><input type="radio" name="q6" value="a"> Array of nodes</label>
                    <label><input type="radio" name="q6" value="b"> Promise<void></label>
                    <label><input type="radio" name="q6" value="c"> Boolean</label>
                    <button type="button" onclick="checkQuiz(6)">Submit</button>
                </form>
                <p id="quiz-6-result"></p>
            </div>
            <button onclick="completeLesson(6)">Complete Lesson 6</button>
        </div>
        
        <div id="lesson-7" class="lesson">
            <h2>Lesson 7: P2P with GenosRTC</h2>
            <p>Enabled with rtc: true. Use db.room for peers, channels, streams.</p>
            <pre><code>db.room.on("peer:join", (peerId) => { ... });</code></pre>
            <div class="quiz">
                <h3>Quiz: How to enable GenosRTC?</h3>
                <form id="quiz-7">
                    <label><input type="radio" name="q7" value="a"> { rtc: true }</label>
                    <label><input type="radio" name="q7" value="b"> db.enableRTC()</label>
                    <label><input type="radio" name="q7" value="c"> import rtc</label>
                    <button type="button" onclick="checkQuiz(7)">Submit</button>
                </form>
                <p id="quiz-7-result"></p>
            </div>
            <button onclick="completeLesson(7)">Complete Lesson 7</button>
        </div>
        
        <div id="certificate">
            <h2>Congratulations! You're Certified in GenosDB.</h2>
            <p>You've mastered the API. Share this certification!</p>
        </div>
    </div>
    
    <script>
        const totalLessons = 7;
        const answers = {1: 'b', 2: 'a', 3: 'b', 4: 'c', 5: 'b', 6: 'b', 7: 'a'};
        const badges = ['badge-install', 'badge-init', 'badge-core', 'badge-query', 'badge-advanced', 'badge-clear', 'badge-rtc'];
        
        function loadProgress() {
            const progress = JSON.parse(localStorage.getItem('genosdb-progress')) || [];
            progress.forEach(lesson => {
                document.getElementById(`lesson-${lesson}`).classList.add('active');
                document.getElementById(badges[lesson-1]).classList.add('unlocked');
                if (lesson < totalLessons) {
                    document.getElementById(`lesson-${lesson+1}`).classList.add('active');
                }
            });
            updateProgress(progress.length);
            if (progress.length === totalLessons) {
                document.getElementById('certificate').style.display = 'block';
                document.getElementById('badge-complete').classList.add('unlocked');
            }
        }
        
        function updateProgress(completed) {
            const percent = (completed / totalLessons) * 100;
            document.getElementById('progress-fill').style.width = `${percent}%`;
            document.getElementById('progress-text').textContent = `Progress: ${Math.round(percent)}%`;
        }
        
        function completeLesson(lesson) {
            let progress = JSON.parse(localStorage.getItem('genosdb-progress')) || [];
            if (!progress.includes(lesson)) {
                progress.push(lesson);
                localStorage.setItem('genosdb-progress', JSON.stringify(progress.sort((a,b)=>a-b)));
                document.getElementById(badges[lesson-1]).classList.add('unlocked');
                if (lesson < totalLessons) {
                    document.getElementById(`lesson-${lesson+1}`).classList.add('active');
                }
                updateProgress(progress.length);
                if (progress.length === totalLessons) {
                    document.getElementById('certificate').style.display = 'block';
                    document.getElementById('badge-complete').classList.add('unlocked');
                }
            }
        }
        
        function checkQuiz(lesson) {
            const form = document.getElementById(`quiz-${lesson}`);
            const selected = form.querySelector('input:checked')?.value;
            const result = document.getElementById(`quiz-${lesson}-result`);
            if (selected === answers[lesson]) {
                result.textContent = 'Correct! üéâ';
                result.style.color = 'var(--primary-blue)';
            } else {
                result.textContent = 'Try again! ‚ùå';
                result.style.color = 'red';
            }
        }
        
        function toggleMode() {
            document.body.classList.toggle('light-mode');
            localStorage.setItem('mode', document.body.classList.contains('light-mode') ? 'light' : 'dark');
        }
        
        // Load saved mode
        if (localStorage.getItem('mode') === 'light') {
            document.body.classList.add('light-mode');
        }
        
        loadProgress();
    </script>
</body>
</html>
