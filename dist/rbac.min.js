var hM=Object.defineProperty;var hZ=($,Y)=>{for(var Q in Y)hM($,Q,{get:Y[Q],enumerable:!0,configurable:!0,set:(X)=>Y[Q]=()=>X})};var G8={};hZ(G8,{zeroPadValue:()=>{{return q0}},zeroPadBytes:()=>{{return s8}},wordlists:()=>{{return _M}},version:()=>{{return QY}},verifyTypedData:()=>{{return dJ}},verifyMessage:()=>{{return NY}},verifyAuthorization:()=>{{return jJ}},uuidV4:()=>{{return WY}},toUtf8String:()=>{{return k0}},toUtf8CodePoints:()=>{{return fX}},toUtf8Bytes:()=>{{return i}},toTwos:()=>{{return r8}},toQuantity:()=>{{return B0}},toNumber:()=>{{return XY}},toBigInt:()=>{{return U8}},toBeHex:()=>{{return w0}},toBeArray:()=>{{return X0}},stripZerosLeft:()=>{{return _X}},solidityPackedSha256:()=>{{return cJ}},solidityPackedKeccak256:()=>{{return mJ}},solidityPacked:()=>{{return SY}},showThrottleMessage:()=>{{return l0}},sha512:()=>{{return g$}},sha256:()=>{{return C0}},scryptSync:()=>{{return P8}},scrypt:()=>{{return A8}},ripemd160:()=>{{return B8}},resolveProperties:()=>{{return z0}},resolveAddress:()=>{{return D0}},recoverAddress:()=>{{return v8}},randomBytes:()=>{{return x0}},pbkdf2:()=>{{return _0}},parseUnits:()=>{{return GQ}},parseEther:()=>{{return yX}},namehash:()=>{{return E$}},mask:()=>{{return t0}},makeError:()=>{{return l}},lock:()=>{{return F4}},keccak256:()=>{{return v}},isValidName:()=>{{return gJ}},isKeystoreJson:()=>{{return lY}},isHexString:()=>{{return g}},isError:()=>{{return t}},isCrowdsaleJson:()=>{{return nY}},isCallException:()=>{{return O$}},isBytesLike:()=>{{return q8}},isAddressable:()=>{{return F9}},isAddress:()=>{{return KJ}},id:()=>{{return y0}},hexlify:()=>{{return q}},hashMessage:()=>{{return v9}},hashAuthorization:()=>{{return f9}},getUint:()=>{{return x$}},getNumber:()=>{{return _}},getIndexedAccountPath:()=>{{return PM}},getIcapAddress:()=>{{return zJ}},getDefaultProvider:()=>{{return LM}},getCreateAddress:()=>{{return d$}},getCreate2Address:()=>{{return OJ}},getBytesCopy:()=>{{return O0}},getBytes:()=>{{return C}},getBigInt:()=>{{return S}},getAddress:()=>{{return P}},getAccountPath:()=>{{return AM}},fromTwos:()=>{{return a8}},formatUnits:()=>{{return MQ}},formatEther:()=>{{return bX}},ensNormalize:()=>{{return yQ}},encryptKeystoreJsonSync:()=>{{return e9}},encryptKeystoreJson:()=>{{return $Y}},encodeRlp:()=>{{return i0}},encodeBytes32String:()=>{{return h7}},encodeBase64:()=>{{return MY}},encodeBase58:()=>{{return f$}},dnsEncode:()=>{{return TY}},defineProperties:()=>{{return T}},defaultPath:()=>{{return iY}},decryptKeystoreJsonSync:()=>{{return EX}},decryptKeystoreJson:()=>{{return TX}},decryptCrowdsaleJson:()=>{{return oY}},decodeRlp:()=>{{return t8}},decodeBytes32String:()=>{{return k7}},decodeBase64:()=>{{return ZY}},decodeBase58:()=>{{return JY}},dataSlice:()=>{{return r}},dataLength:()=>{{return a0}},copyRequest:()=>{{return _8}},concat:()=>{{return k}},computeHmac:()=>{{return S8}},computeAddress:()=>{{return y8}},checkResultErrors:()=>{{return mX}},authorizationify:()=>{{return _9}},assertPrivate:()=>{{return h0}},assertNormalize:()=>{{return _$}},assertArgumentCount:()=>{{return w$}},assertArgument:()=>{{return z}},assert:()=>{{return L}},accessListify:()=>{{return d0}},ZeroHash:()=>{{return LY}},ZeroAddress:()=>{{return b8}},WordlistOwlA:()=>{{return PZ}},WordlistOwl:()=>{{return V9}},Wordlist:()=>{{return mY}},WeiPerEther:()=>{{return I4}},WebSocketProvider:()=>{{return U9}},Wallet:()=>{{return K9}},VoidSigner:()=>{{return d9}},Utf8ErrorFuncs:()=>{{return QQ}},UnmanagedSubscriber:()=>{{return W$}},UndecodedEventLog:()=>{{return c9}},TypedDataEncoder:()=>{{return T0}},Typed:()=>{{return n}},TransactionResponse:()=>{{return G$}},TransactionReceipt:()=>{{return a$}},TransactionDescription:()=>{{return cQ}},Transaction:()=>{{return j0}},StructFragment:()=>{{return Z$}},SocketSubscriber:()=>{{return o9}},SocketProvider:()=>{{return kY}},SocketPendingSubscriber:()=>{{return GX}},SocketEventSubscriber:()=>{{return UX}},SocketBlockSubscriber:()=>{{return MX}},SigningKey:()=>{{return E0}},Signature:()=>{{return Z0}},Result:()=>{{return $8}},QuickNodeProvider:()=>{{return W9}},PocketProvider:()=>{{return gY}},ParamType:()=>{{return J0}},NonceManager:()=>{{return OX}},NetworkPlugin:()=>{{return c8}},Network:()=>{{return p}},NamedFragment:()=>{{return s$}},N:()=>{{return H4}},MulticoinProviderPlugin:()=>{{return sQ}},Mnemonic:()=>{{return d8}},MinInt256:()=>{{return C4}},MessagePrefix:()=>{{return SQ}},MaxUint256:()=>{{return q4}},MaxInt256:()=>{{return E4}},LogDescription:()=>{{return mQ}},Log:()=>{{return x8}},LangEn:()=>{{return M8}},JsonRpcSigner:()=>{{return i9}},JsonRpcProvider:()=>{{return R0}},JsonRpcApiProvider:()=>{{return n9}},IpcSocketProvider:()=>{{return RM}},Interface:()=>{{return D8}},InfuraWebSocketProvider:()=>{{return WX}},InfuraProvider:()=>{{return N$}},Indexed:()=>{{return AY}},HDNodeWallet:()=>{{return o0}},HDNodeVoidWallet:()=>{{return D9}},GasCostPlugin:()=>{{return Y9}},FunctionFragment:()=>{{return J8}},Fragment:()=>{{return g8}},FixedNumber:()=>{{return e0}},FetchUrlFeeDataNetworkPlugin:()=>{{return xY}},FetchResponse:()=>{{return E8}},FetchRequest:()=>{{return e}},FetchCancelSignal:()=>{{return GY}},FeeDataNetworkPlugin:()=>{{return aQ}},FeeData:()=>{{return m9}},FallbackProvider:()=>{{return yY}},FallbackFragment:()=>{{return F8}},EventPayload:()=>{{return D$}},EventLog:()=>{{return r$}},EventFragment:()=>{{return X8}},EtherscanProvider:()=>{{return hY}},EtherscanPlugin:()=>{{return ZX}},EtherSymbol:()=>{{return T4}},ErrorFragment:()=>{{return v0}},ErrorDescription:()=>{{return pQ}},EnsResolver:()=>{{return U$}},EnsPlugin:()=>{{return Q9}},ContractUnknownEventPayload:()=>{{return p9}},ContractTransactionResponse:()=>{{return t$}},ContractTransactionReceipt:()=>{{return uQ}},ContractFactory:()=>{{return oQ}},ContractEventPayload:()=>{{return jY}},Contract:()=>{{return K8}},ConstructorFragment:()=>{{return V8}},CloudflareProvider:()=>{{return fY}},ChainstackProvider:()=>{{return G9}},BrowserProvider:()=>{{return S$}},BlockscoutProvider:()=>{{return vY}},Block:()=>{{return PY}},BaseWallet:()=>{{return B$}},BaseContract:()=>{{return m8}},AnkrProvider:()=>{{return Z9}},AlchemyProvider:()=>{{return M9}},AbstractSigner:()=>{{return u8}},AbstractProvider:()=>{{return p8}},AbiCoder:()=>{{return O8}}});var QY="6.14.1";var kM=function($,Y,Q){const X=Y.split("|").map((Z)=>Z.trim());for(let Z=0;Z<X.length;Z++)switch(Y){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof $===Y)return}const J=new Error(`invalid value for type ${Y}`);throw J.code="INVALID_ARGUMENT",J.argument=`value.${Q}`,J.value=$,J};async function z0($){const Y=Object.keys($);return(await Promise.all(Y.map((X)=>Promise.resolve($[X])))).reduce((X,J,Z)=>{return X[Y[Z]]=J,X},{})}function T($,Y,Q){for(let X in Y){let J=Y[X];const Z=Q?Q[X]:null;if(Z)kM(J,Z,X);Object.defineProperty($,X,{enumerable:!0,value:J,writable:!1})}}var I9=function($){if($==null)return"null";if(Array.isArray($))return"[ "+$.map(I9).join(", ")+" ]";if($ instanceof Uint8Array){let Q="0x";for(let X=0;X<$.length;X++)Q+="0123456789abcdef"[$[X]>>4],Q+="0123456789abcdef"[$[X]&15];return Q}if(typeof $==="object"&&typeof $.toJSON==="function")return I9($.toJSON());switch(typeof $){case"boolean":case"symbol":return $.toString();case"bigint":return BigInt($).toString();case"number":return $.toString();case"string":return JSON.stringify($);case"object":{const Y=Object.keys($);return Y.sort(),"{ "+Y.map((Q)=>`${I9(Q)}: ${I9($[Q])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"};function t($,Y){return $&&$.code===Y}function O$($){return t($,"CALL_EXCEPTION")}function l($,Y,Q){let X=$;{const Z=[];if(Q){if(("message"in Q)||("code"in Q)||("name"in Q))throw new Error(`value will overwrite populated values: ${I9(Q)}`);for(let M in Q){if(M==="shortMessage")continue;const G=Q[M];Z.push(M+"="+I9(G))}}if(Z.push(`code=${Y}`),Z.push(`version=${QY}`),Z.length)$+=" ("+Z.join(", ")+")"}let J;switch(Y){case"INVALID_ARGUMENT":J=new TypeError($);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":J=new RangeError($);break;default:J=new Error($)}if(T(J,{code:Y}),Q)Object.assign(J,Q);if(J.shortMessage==null)T(J,{shortMessage:X});return J}function L($,Y,Q,X){if(!$)throw l(Y,Q,X)}function z($,Y,Q,X){L($,Y,"INVALID_ARGUMENT",{argument:Q,value:X})}function w$($,Y,Q){if(Q==null)Q="";if(Q)Q=": "+Q;L($>=Y,"missing argument"+Q,"MISSING_ARGUMENT",{count:$,expectedCount:Y}),L($<=Y,"too many arguments"+Q,"UNEXPECTED_ARGUMENT",{count:$,expectedCount:Y})}function _$($){L(bM.indexOf($)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:$}})}function h0($,Y,Q){if(Q==null)Q="";if($!==Y){let X=Q,J="new";if(Q)X+=".",J+=" "+Q;L(!1,`private constructor; use ${X}from* methods`,"UNSUPPORTED_OPERATION",{operation:J})}}var bM=["NFD","NFC","NFKD","NFKC"].reduce(($,Y)=>{try{if("test".normalize(Y)!=="test")throw new Error("bad");if(Y==="NFD"){const Q=String.fromCharCode(233).normalize("NFD"),X=String.fromCharCode(101,769);if(Q!==X)throw new Error("broken")}$.push(Y)}catch(Q){}return $},[]);var bZ=function($,Y,Q){if($ instanceof Uint8Array){if(Q)return new Uint8Array($);return $}if(typeof $==="string"&&$.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const X=new Uint8Array(($.length-2)/2);let J=2;for(let Z=0;Z<X.length;Z++)X[Z]=parseInt($.substring(J,J+2),16),J+=2;return X}z(!1,"invalid BytesLike value",Y||"value",$)};function C($,Y){return bZ($,Y,!1)}function O0($,Y){return bZ($,Y,!0)}function g($,Y){if(typeof $!=="string"||!$.match(/^0x[0-9A-Fa-f]*$/))return!1;if(typeof Y==="number"&&$.length!==2+2*Y)return!1;if(Y===!0&&$.length%2!==0)return!1;return!0}function q8($){return g($,!0)||$ instanceof Uint8Array}function q($){const Y=C($);let Q="0x";for(let X=0;X<Y.length;X++){const J=Y[X];Q+=kZ[(J&240)>>4]+kZ[J&15]}return Q}function k($){return"0x"+$.map((Y)=>q(Y).substring(2)).join("")}function a0($){if(g($,!0))return($.length-2)/2;return C($).length}function r($,Y,Q){const X=C($);if(Q!=null&&Q>X.length)L(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:X,length:X.length,offset:Q});return q(X.slice(Y==null?0:Y,Q==null?X.length:Q))}function _X($){let Y=q($).substring(2);while(Y.startsWith("00"))Y=Y.substring(2);return"0x"+Y}var yZ=function($,Y,Q){const X=C($);L(Y>=X.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(X),length:Y,offset:Y+1});const J=new Uint8Array(Y);if(J.fill(0),Q)J.set(X,Y-X.length);else J.set(X,0);return q(J)};function q0($,Y){return yZ($,Y,!0)}function s8($,Y){return yZ($,Y,!1)}var kZ="0123456789abcdef";function a8($,Y){const Q=x$($,"value"),X=BigInt(_(Y,"width"));if(L(Q>>X===eY,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:$}),Q>>X-C8){const J=(C8<<X)-C8;return-((~Q&J)+C8)}return Q}function r8($,Y){let Q=S($,"value");const X=BigInt(_(Y,"width")),J=C8<<X-C8;if(Q<eY){Q=-Q,L(Q<=J,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:$});const Z=(C8<<X)-C8;return(~Q&Z)+C8}else L(Q<J,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:$});return Q}function t0($,Y){const Q=x$($,"value"),X=BigInt(_(Y,"bits"));return Q&(C8<<X)-C8}function S($,Y){switch(typeof $){case"bigint":return $;case"number":return z(Number.isInteger($),"underflow",Y||"value",$),z($>=-q9&&$<=q9,"overflow",Y||"value",$),BigInt($);case"string":try{if($==="")throw new Error("empty string");if($[0]==="-"&&$[1]!=="-")return-BigInt($.substring(1));return BigInt($)}catch(Q){z(!1,`invalid BigNumberish string: ${Q.message}`,Y||"value",$)}}z(!1,"invalid BigNumberish value",Y||"value",$)}function x$($,Y){const Q=S($,Y);return L(Q>=eY,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:$}),Q}function U8($){if($ instanceof Uint8Array){let Y="0x0";for(let Q of $)Y+=vZ[Q>>4],Y+=vZ[Q&15];return BigInt(Y)}return S($)}function _($,Y){switch(typeof $){case"bigint":return z($>=-q9&&$<=q9,"overflow",Y||"value",$),Number($);case"number":return z(Number.isInteger($),"underflow",Y||"value",$),z($>=-q9&&$<=q9,"overflow",Y||"value",$),$;case"string":try{if($==="")throw new Error("empty string");return _(BigInt($),Y)}catch(Q){z(!1,`invalid numeric string: ${Q.message}`,Y||"value",$)}}z(!1,"invalid numeric value",Y||"value",$)}function XY($){return _(U8($))}function w0($,Y){let X=x$($,"value").toString(16);if(Y==null){if(X.length%2)X="0"+X}else{const J=_(Y,"width");L(J*2>=X.length,`value exceeds width (${J} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:$});while(X.length<J*2)X="0"+X}return"0x"+X}function X0($){const Y=x$($,"value");if(Y===eY)return new Uint8Array([]);let Q=Y.toString(16);if(Q.length%2)Q="0"+Q;const X=new Uint8Array(Q.length/2);for(let J=0;J<X.length;J++){const Z=J*2;X[J]=parseInt(Q.substring(Z,Z+2),16)}return X}function B0($){let Y=q(q8($)?$:X0($)).substring(2);while(Y.startsWith("0"))Y=Y.substring(1);if(Y==="")Y="0";return"0x"+Y}var eY=BigInt(0),C8=BigInt(1),q9=9007199254740991,vZ="0123456789abcdef";var yM=function($){if($Q==null){$Q={};for(let Q=0;Q<YQ.length;Q++)$Q[YQ[Q]]=BigInt(Q)}const Y=$Q[$];return z(Y!=null,"invalid base58 value","letter",$),Y};function f$($){const Y=C($);let Q=U8(Y),X="";while(Q)X=YQ[Number(Q%xX)]+X,Q/=xX;for(let J=0;J<Y.length;J++){if(Y[J])break;X=YQ[0]+X}return X}function JY($){let Y=vM;for(let Q=0;Q<$.length;Q++)Y*=xX,Y+=yM($[Q]);return Y}var YQ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",$Q=null,vM=BigInt(0),xX=BigInt(58);function ZY($){$=atob($);const Y=new Uint8Array($.length);for(let Q=0;Q<$.length;Q++)Y[Q]=$.charCodeAt(Q);return C(Y)}function MY($){const Y=C($);let Q="";for(let X=0;X<Y.length;X++)Q+=String.fromCharCode(Y[X]);return btoa(Q)}class D${filter;emitter;#$;constructor($,Y,Q){this.#$=Y,T(this,{emitter:$,filter:Q})}async removeListener(){if(this.#$==null)return;await this.emitter.off(this.filter,this.#$)}}var gM=function($,Y,Q,X,J){z(!1,`invalid codepoint at offset ${Y}; ${$}`,"bytes",Q)},gZ=function($,Y,Q,X,J){if($==="BAD_PREFIX"||$==="UNEXPECTED_CONTINUE"){let Z=0;for(let M=Y+1;M<Q.length;M++){if(Q[M]>>6!==2)break;Z++}return Z}if($==="OVERRUN")return Q.length-Y-1;return 0},mM=function($,Y,Q,X,J){if($==="OVERLONG")return z(typeof J==="number","invalid bad code point for replacement","badCodepoint",J),X.push(J),0;return X.push(65533),gZ($,Y,Q,X,J)},mZ=function($,Y){if(Y==null)Y=QQ.error;const Q=C($,"bytes"),X=[];let J=0;while(J<Q.length){const Z=Q[J++];if(Z>>7===0){X.push(Z);continue}let M=null,G=null;if((Z&224)===192)M=1,G=127;else if((Z&240)===224)M=2,G=2047;else if((Z&248)===240)M=3,G=65535;else{if((Z&192)===128)J+=Y("UNEXPECTED_CONTINUE",J-1,Q,X);else J+=Y("BAD_PREFIX",J-1,Q,X);continue}if(J-1+M>=Q.length){J+=Y("OVERRUN",J-1,Q,X);continue}let U=Z&(1<<8-M-1)-1;for(let W=0;W<M;W++){let V=Q[J];if((V&192)!=128){J+=Y("MISSING_CONTINUE",J,Q,X),U=null;break}U=U<<6|V&63,J++}if(U===null)continue;if(U>1114111){J+=Y("OUT_OF_RANGE",J-1-M,Q,X,U);continue}if(U>=55296&&U<=57343){J+=Y("UTF16_SURROGATE",J-1-M,Q,X,U);continue}if(U<=G){J+=Y("OVERLONG",J-1-M,Q,X,U);continue}X.push(U)}return X};function i($,Y){if(z(typeof $==="string","invalid string value","str",$),Y!=null)_$(Y),$=$.normalize(Y);let Q=[];for(let X=0;X<$.length;X++){const J=$.charCodeAt(X);if(J<128)Q.push(J);else if(J<2048)Q.push(J>>6|192),Q.push(J&63|128);else if((J&64512)==55296){X++;const Z=$.charCodeAt(X);z(X<$.length&&(Z&64512)===56320,"invalid surrogate pair","str",$);const M=65536+((J&1023)<<10)+(Z&1023);Q.push(M>>18|240),Q.push(M>>12&63|128),Q.push(M>>6&63|128),Q.push(M&63|128)}else Q.push(J>>12|224),Q.push(J>>6&63|128),Q.push(J&63|128)}return new Uint8Array(Q)}var cM=function($){return $.map((Y)=>{if(Y<=65535)return String.fromCharCode(Y);return Y-=65536,String.fromCharCode((Y>>10&1023)+55296,(Y&1023)+56320)}).join("")};function k0($,Y){return cM(mZ($,Y))}function fX($,Y){return mZ(i($,Y))}var QQ=Object.freeze({error:gM,ignore:gZ,replace:mM});function XQ($){async function Y(Q,X){L(X==null||!X.cancelled,"request cancelled before sending","CANCELLED");const J=Q.url.split(":")[0].toLowerCase();L(J==="http"||J==="https",`unsupported protocol ${J}`,"UNSUPPORTED_OPERATION",{info:{protocol:J},operation:"request"}),L(J==="https"||!Q.credentials||Q.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let Z=null;const M=new AbortController,G=setTimeout(()=>{Z=l("request timeout","TIMEOUT"),M.abort()},Q.timeout);if(X)X.addListener(()=>{Z=l("request cancelled","CANCELLED"),M.abort()});const U=Object.assign({},$,{method:Q.method,headers:new Headers(Array.from(Q)),body:Q.body||void 0,signal:M.signal});let W;try{W=await fetch(Q.url,U)}catch(H){if(clearTimeout(G),Z)throw Z;throw H}clearTimeout(G);const V={};W.headers.forEach((H,K)=>{V[K.toLowerCase()]=H});const O=await W.arrayBuffer(),D=O==null?null:new Uint8Array(O);return{statusCode:W.status,statusMessage:W.statusText,headers:V,body:D}}return Y}var mW=XQ({});async function uZ($,Y){try{const Q=$.match(dM);if(!Q)throw new Error("invalid data");return new E8(200,"OK",{"content-type":Q[1]||"text/plain"},Q[2]?ZY(Q[3]):iM(Q[3]))}catch(Q){return new E8(599,"BAD REQUEST (invalid data: URI)",{},null,new e($))}}var dZ=function($){async function Y(Q,X){try{const J=Q.match(lM);if(!J)throw new Error("invalid link");return new e(`${$}${J[2]}`)}catch(J){return new E8(599,"BAD REQUEST (invalid IPFS URI)",{},null,new e(Q))}}return Y},ZQ=function($){if($==null)throw new Error("missing signal; should not happen");return $.checkSignal(),$},pZ=function(){return(new Date()).getTime()},iM=function($){return i($.replace(/%([0-9a-f][0-9a-f])/gi,(Y,Q)=>{return String.fromCharCode(parseInt(Q,16))}))},nM=function($){return new Promise((Y)=>setTimeout(Y,$))},pM=12,uM=250,cZ=XQ(),dM=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),lM=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),hX=!1,JQ={data:uZ,ipfs:dZ("https://gateway.ipfs.io/ipfs/")},lZ=new WeakMap;class GY{#$;#Y;constructor($){this.#$=[],this.#Y=!1,lZ.set($,()=>{if(this.#Y)return;this.#Y=!0;for(let Y of this.#$)setTimeout(()=>{Y()},0);this.#$=[]})}addListener($){L(!this.#Y,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#$.push($)}get cancelled(){return this.#Y}checkSignal(){L(!this.cancelled,"cancelled","CANCELLED",{})}}class e{#$;#Y;#Q;#X;#J;#M;#Z;#G;#z;#W;#K;#L;#U;#V;#O;get url(){return this.#M}set url($){this.#M=String($)}get body(){if(this.#Z==null)return null;return new Uint8Array(this.#Z)}set body($){if($==null)this.#Z=void 0,this.#G=void 0;else if(typeof $==="string")this.#Z=i($),this.#G="text/plain";else if($ instanceof Uint8Array)this.#Z=$,this.#G="application/octet-stream";else if(typeof $==="object")this.#Z=i(JSON.stringify($)),this.#G="application/json";else throw new Error("invalid body")}hasBody(){return this.#Z!=null}get method(){if(this.#X)return this.#X;if(this.hasBody())return"POST";return"GET"}set method($){if($==null)$="";this.#X=String($).toUpperCase()}get headers(){const $=Object.assign({},this.#Q);if(this.#z)$.authorization=`Basic ${MY(i(this.#z))}`;if(this.allowGzip)$["accept-encoding"]="gzip";if($["content-type"]==null&&this.#G)$["content-type"]=this.#G;if(this.body)$["content-length"]=String(this.body.length);return $}getHeader($){return this.headers[$.toLowerCase()]}setHeader($,Y){this.#Q[String($).toLowerCase()]=String(Y)}clearHeaders(){this.#Q={}}[Symbol.iterator](){const $=this.headers,Y=Object.keys($);let Q=0;return{next:()=>{if(Q<Y.length){const X=Y[Q++];return{value:[X,$[X]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#z||null}setCredentials($,Y){z(!$.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#z=`${$}:${Y}`}get allowGzip(){return this.#Y}set allowGzip($){this.#Y=!!$}get allowInsecureAuthentication(){return!!this.#$}set allowInsecureAuthentication($){this.#$=!!$}get timeout(){return this.#J}set timeout($){z($>=0,"timeout must be non-zero","timeout",$),this.#J=$}get preflightFunc(){return this.#W||null}set preflightFunc($){this.#W=$}get processFunc(){return this.#K||null}set processFunc($){this.#K=$}get retryFunc(){return this.#L||null}set retryFunc($){this.#L=$}get getUrlFunc(){return this.#O||cZ}set getUrlFunc($){this.#O=$}constructor($){this.#M=String($),this.#$=!1,this.#Y=!0,this.#Q={},this.#X="",this.#J=300000,this.#V={slotInterval:uM,maxAttempts:pM},this.#O=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#Z?q(this.#Z):"null"}>`}setThrottleParams($){if($.slotInterval!=null)this.#V.slotInterval=$.slotInterval;if($.maxAttempts!=null)this.#V.maxAttempts=$.maxAttempts}async#D($,Y,Q,X,J){if($>=this.#V.maxAttempts)return J.makeServerError("exceeded maximum retry limit");if(L(pZ()<=Y,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:X}),Q>0)await nM(Q);let Z=this.clone();const M=(Z.url.split(":")[0]||"").toLowerCase();if(M in JQ){const W=await JQ[M](Z.url,ZQ(X.#U));if(W instanceof E8){let V=W;if(this.processFunc){ZQ(X.#U);try{V=await this.processFunc(Z,V)}catch(O){if(O.throttle==null||typeof O.stall!=="number")V.makeServerError("error in post-processing function",O).assertOk()}}return V}Z=W}if(this.preflightFunc)Z=await this.preflightFunc(Z);const G=await this.getUrlFunc(Z,ZQ(X.#U));let U=new E8(G.statusCode,G.statusMessage,G.headers,G.body,X);if(U.statusCode===301||U.statusCode===302){try{const W=U.headers.location||"";return Z.redirect(W).#D($+1,Y,0,X,U)}catch(W){}return U}else if(U.statusCode===429){if(this.retryFunc==null||await this.retryFunc(Z,U,$)){const W=U.headers["retry-after"];let V=this.#V.slotInterval*Math.trunc(Math.random()*Math.pow(2,$));if(typeof W==="string"&&W.match(/^[1-9][0-9]*$/))V=parseInt(W);return Z.clone().#D($+1,Y,V,X,U)}}if(this.processFunc){ZQ(X.#U);try{U=await this.processFunc(Z,U)}catch(W){if(W.throttle==null||typeof W.stall!=="number")U.makeServerError("error in post-processing function",W).assertOk();let V=this.#V.slotInterval*Math.trunc(Math.random()*Math.pow(2,$));if(W.stall>=0)V=W.stall;return Z.clone().#D($+1,Y,V,X,U)}}return U}send(){return L(this.#U==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#U=new GY(this),this.#D(0,pZ()+this.timeout,0,this,new E8(0,"",{},null,this))}cancel(){L(this.#U!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const $=lZ.get(this);if(!$)throw new Error("missing signal; should not happen");$()}redirect($){const Y=this.url.split(":")[0].toLowerCase(),Q=$.split(":")[0].toLowerCase();L(this.method==="GET"&&(Y!=="https"||Q!=="http")&&$.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify($)})`});const X=new e($);if(X.method="GET",X.allowGzip=this.allowGzip,X.timeout=this.timeout,X.#Q=Object.assign({},this.#Q),this.#Z)X.#Z=new Uint8Array(this.#Z);return X.#G=this.#G,X}clone(){const $=new e(this.url);if($.#X=this.#X,this.#Z)$.#Z=this.#Z;if($.#G=this.#G,$.#Q=Object.assign({},this.#Q),$.#z=this.#z,this.allowGzip)$.allowGzip=!0;if($.timeout=this.timeout,this.allowInsecureAuthentication)$.allowInsecureAuthentication=!0;return $.#W=this.#W,$.#K=this.#K,$.#L=this.#L,$.#V=Object.assign({},this.#V),$.#O=this.#O,$}static lockConfig(){hX=!0}static getGateway($){return JQ[$.toLowerCase()]||null}static registerGateway($,Y){if($=$.toLowerCase(),$==="http"||$==="https")throw new Error(`cannot intercept ${$}; use registerGetUrl`);if(hX)throw new Error("gateways locked");JQ[$]=Y}static registerGetUrl($){if(hX)throw new Error("gateways locked");cZ=$}static createGetUrlFunc($){return XQ($)}static createDataGateway(){return uZ}static createIpfsGatewayFunc($){return dZ($)}}class E8{#$;#Y;#Q;#X;#J;#M;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#X?q(this.#X):"null"}>`}get statusCode(){return this.#$}get statusMessage(){return this.#Y}get headers(){return Object.assign({},this.#Q)}get body(){return this.#X==null?null:new Uint8Array(this.#X)}get bodyText(){try{return this.#X==null?"":k0(this.#X)}catch($){L(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch($){L(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const $=this.headers,Y=Object.keys($);let Q=0;return{next:()=>{if(Q<Y.length){const X=Y[Q++];return{value:[X,$[X]],done:!1}}return{value:void 0,done:!0}}}}constructor($,Y,Q,X,J){this.#$=$,this.#Y=Y,this.#Q=Object.keys(Q).reduce((Z,M)=>{return Z[M.toLowerCase()]=String(Q[M]),Z},{}),this.#X=X==null?null:new Uint8Array(X),this.#J=J||null,this.#M={message:""}}makeServerError($,Y){let Q;if(!$)$=`${this.statusCode} ${this.statusMessage}`,Q=`CLIENT ESCALATED SERVER ERROR (${$})`;else Q=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${$})`;const X=new E8(599,Q,this.headers,this.body,this.#J||void 0);return X.#M={message:$,error:Y},X}throwThrottleError($,Y){if(Y==null)Y=-1;else z(Number.isInteger(Y)&&Y>=0,"invalid stall timeout","stall",Y);const Q=new Error($||"throttling requests");throw T(Q,{stall:Y,throttle:!0}),Q}getHeader($){return this.headers[$.toLowerCase()]}hasBody(){return this.#X!=null}get request(){return this.#J}ok(){return this.#M.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:$,error:Y}=this.#M;if($==="")$=`server response ${this.statusCode} ${this.statusMessage}`;let Q=null;if(this.request)Q=this.request.url;let X=null;try{if(this.#X)X=k0(this.#X)}catch(J){}L(!1,$,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:Y,info:{requestUrl:Q,responseBody:X,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}var h$=function($){let Y=T9;while(Y.length<$)Y+=Y;return BigInt("1"+Y.substring(0,$))},UY=function($,Y,Q){const X=BigInt(Y.width);if(Y.signed){const J=E9<<X-E9;if(L(Q==null||$>=-J&&$<J,"overflow","NUMERIC_FAULT",{operation:Q,fault:"overflow",value:$}),$>T8)$=a8(t0($,X),X);else $=-a8(t0(-$,X),X)}else{const J=E9<<X;L(Q==null||$>=0&&$<J,"overflow","NUMERIC_FAULT",{operation:Q,fault:"overflow",value:$}),$=($%J+J)%J&J-E9}return $},kX=function($){if(typeof $==="number")$=`fixed128x${$}`;let Y=!0,Q=128,X=18;if(typeof $==="string")if($==="fixed");else if($==="ufixed")Y=!1;else{const Z=$.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);z(Z,"invalid fixed format","format",$),Y=Z[1]!=="u",Q=parseInt(Z[2]),X=parseInt(Z[3])}else if($){const Z=$,M=(G,U,W)=>{if(Z[G]==null)return W;return z(typeof Z[G]===U,"invalid fixed format ("+G+" not "+U+")","format."+G,Z[G]),Z[G]};Y=M("signed","boolean",Y),Q=M("width","number",Q),X=M("decimals","number",X)}z(Q%8===0,"invalid FixedNumber width (not byte aligned)","format.width",Q),z(X<=80,"invalid FixedNumber decimals (too large)","format.decimals",X);const J=(Y?"":"u")+"fixed"+String(Q)+"x"+String(X);return{signed:Y,width:Q,decimals:X,name:J}},aM=function($,Y){let Q="";if($<T8)Q="-",$*=oM;let X=$.toString();if(Y===0)return Q+X;while(X.length<=Y)X=T9+X;const J=X.length-Y;X=X.substring(0,J)+"."+X.substring(J);while(X[0]==="0"&&X[1]!==".")X=X.substring(1);while(X[X.length-1]==="0"&&X[X.length-2]!==".")X=X.substring(0,X.length-1);return Q+X},oM=BigInt(-1),T8=BigInt(0),E9=BigInt(1),sM=BigInt(5),C9={},T9="0000";while(T9.length<80)T9+=T9;class e0{format;#$;#Y;#Q;_value;constructor($,Y,Q){h0($,C9,"FixedNumber"),this.#Y=Y,this.#$=Q;const X=aM(Y,Q.decimals);T(this,{format:Q.name,_value:X}),this.#Q=h$(Q.decimals)}get signed(){return this.#$.signed}get width(){return this.#$.width}get decimals(){return this.#$.decimals}get value(){return this.#Y}#X($){z(this.format===$.format,"incompatible format; use fixedNumber.toFormat","other",$)}#J($,Y){return $=UY($,this.#$,Y),new e0(C9,$,this.#$)}#M($,Y){return this.#X($),this.#J(this.#Y+$.#Y,Y)}addUnsafe($){return this.#M($)}add($){return this.#M($,"add")}#Z($,Y){return this.#X($),this.#J(this.#Y-$.#Y,Y)}subUnsafe($){return this.#Z($)}sub($){return this.#Z($,"sub")}#G($,Y){return this.#X($),this.#J(this.#Y*$.#Y/this.#Q,Y)}mulUnsafe($){return this.#G($)}mul($){return this.#G($,"mul")}mulSignal($){this.#X($);const Y=this.#Y*$.#Y;return L(Y%this.#Q===T8,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#J(Y/this.#Q,"mulSignal")}#z($,Y){return L($.#Y!==T8,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#X($),this.#J(this.#Y*this.#Q/$.#Y,Y)}divUnsafe($){return this.#z($)}div($){return this.#z($,"div")}divSignal($){L($.#Y!==T8,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#X($);const Y=this.#Y*this.#Q;return L(Y%$.#Y===T8,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#J(Y/$.#Y,"divSignal")}cmp($){let Y=this.value,Q=$.value;const X=this.decimals-$.decimals;if(X>0)Q*=h$(X);else if(X<0)Y*=h$(-X);if(Y<Q)return-1;if(Y>Q)return 1;return 0}eq($){return this.cmp($)===0}lt($){return this.cmp($)<0}lte($){return this.cmp($)<=0}gt($){return this.cmp($)>0}gte($){return this.cmp($)>=0}floor(){let $=this.#Y;if(this.#Y<T8)$-=this.#Q-E9;return $=this.#Y/this.#Q*this.#Q,this.#J($,"floor")}ceiling(){let $=this.#Y;if(this.#Y>T8)$+=this.#Q-E9;return $=this.#Y/this.#Q*this.#Q,this.#J($,"ceiling")}round($){if($==null)$=0;if($>=this.decimals)return this;const Y=this.decimals-$,Q=sM*h$(Y-1);let X=this.value+Q;const J=h$(Y);return X=X/J*J,UY(X,this.#$,"round"),new e0(C9,X,this.#$)}isZero(){return this.#Y===T8}isNegative(){return this.#Y<T8}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat($){return e0.fromString(this.toString(),$)}static fromValue($,Y,Q){const X=Y==null?0:_(Y),J=kX(Q);let Z=S($,"value");const M=X-J.decimals;if(M>0){const G=h$(M);L(Z%G===T8,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:$}),Z/=G}else if(M<0)Z*=h$(-M);return UY(Z,J,"fromValue"),new e0(C9,Z,J)}static fromString($,Y){const Q=$.match(/^(-?)([0-9]*)\.?([0-9]*)$/);z(Q&&Q[2].length+Q[3].length>0,"invalid FixedNumber string value","value",$);const X=kX(Y);let J=Q[2]||"0",Z=Q[3]||"";while(Z.length<X.decimals)Z+=T9;L(Z.substring(X.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:$}),Z=Z.substring(0,X.decimals);const M=BigInt(Q[1]+J+Z);return UY(M,X,"fromString"),new e0(C9,M,X)}static fromBytes($,Y){let Q=U8(C($,"value"));const X=kX(Y);if(X.signed)Q=a8(Q,X.width);return UY(Q,X,"fromBytes"),new e0(C9,Q,X)}}var rM=function($){let Y=$.toString(16);while(Y.length<2)Y="0"+Y;return"0x"+Y},iZ=function($,Y,Q){let X=0;for(let J=0;J<Q;J++)X=X*256+$[Y+J];return X},nZ=function($,Y,Q,X){const J=[];while(Q<Y+1+X){const Z=oZ($,Q);J.push(Z.result),Q+=Z.consumed,L(Q<=Y+1+X,"child data too short","BUFFER_OVERRUN",{buffer:$,length:X,offset:Y})}return{consumed:1+X,result:J}},oZ=function($,Y){L($.length!==0,"data too short","BUFFER_OVERRUN",{buffer:$,length:0,offset:1});const Q=(X)=>{L(X<=$.length,"data short segment too short","BUFFER_OVERRUN",{buffer:$,length:$.length,offset:X})};if($[Y]>=248){const X=$[Y]-247;Q(Y+1+X);const J=iZ($,Y+1,X);return Q(Y+1+X+J),nZ($,Y,Y+1+X,X+J)}else if($[Y]>=192){const X=$[Y]-192;return Q(Y+1+X),nZ($,Y,Y+1,X)}else if($[Y]>=184){const X=$[Y]-183;Q(Y+1+X);const J=iZ($,Y+1,X);Q(Y+1+X+J);const Z=q($.slice(Y+1+X,Y+1+X+J));return{consumed:1+X+J,result:Z}}else if($[Y]>=128){const X=$[Y]-128;Q(Y+1+X);const J=q($.slice(Y+1,Y+1+X));return{consumed:1+X,result:J}}return{consumed:1,result:rM($[Y])}};function t8($){const Y=C($,"data"),Q=oZ(Y,0);return z(Q.consumed===Y.length,"unexpected junk after rlp payload","data",$),Q.result}var sZ=function($){const Y=[];while($)Y.unshift($&255),$>>=8;return Y},rZ=function($){if(Array.isArray($)){let X=[];if($.forEach(function(Z){X=X.concat(rZ(Z))}),X.length<=55)return X.unshift(192+X.length),X;const J=sZ(X.length);return J.unshift(247+J.length),J.concat(X)}const Y=Array.prototype.slice.call(C($,"object"));if(Y.length===1&&Y[0]<=127)return Y;else if(Y.length<=55)return Y.unshift(128+Y.length),Y;const Q=sZ(Y.length);return Q.unshift(183+Q.length),Q.concat(Y)};function i0($){let Y="0x";for(let Q of rZ($))Y+=aZ[Q>>4],Y+=aZ[Q&15];return Y}var aZ="0123456789abcdef";function MQ($,Y){let Q=18;if(typeof Y==="string"){const X=tZ.indexOf(Y);z(X>=0,"invalid unit","unit",Y),Q=3*X}else if(Y!=null)Q=_(Y,"unit");return e0.fromValue($,Q,{decimals:Q,width:512}).toString()}function GQ($,Y){z(typeof $==="string","value must be a string","value",$);let Q=18;if(typeof Y==="string"){const X=tZ.indexOf(Y);z(X>=0,"invalid unit","unit",Y),Q=3*X}else if(Y!=null)Q=_(Y,"unit");return e0.fromString($,{decimals:Q,width:512}).value}function bX($){return MQ($,18)}function yX($){return GQ($,18)}var tZ=["wei","kwei","mwei","gwei","szabo","finney","ether"];function WY($){const Y=C($,"randomBytes");Y[6]=Y[6]&15|64,Y[8]=Y[8]&63|128;const Q=q(Y);return[Q.substring(2,10),Q.substring(10,14),Q.substring(14,18),Q.substring(18,22),Q.substring(22,34)].join("-")}var k$=function($){return Y5.get($)},eZ=function($,Y){Y5.set($,Y)},VY=function($,Y){const Q=new Error(`deferred error during ABI decoding triggered accessing ${$}`);throw Q.error=Y,Q},gX=function($,Y,Q){if($.indexOf(null)>=0)return Y.map((X,J)=>{if(X instanceof $8)return gX(k$(X),X,Q);return X});return $.reduce((X,J,Z)=>{let M=Y.getValue(J);if(!(J in X)){if(Q&&M instanceof $8)M=gX(k$(M),M,Q);X[J]=M}return X},{})};function mX($){const Y=[],Q=function(X,J){if(!Array.isArray(J))return;for(let Z in J){const M=X.slice();M.push(Z);try{Q(M,J[Z])}catch(G){Y.push({path:M,error:G})}}};return Q([],$),Y}var $5=function($){let Y=X0($);if(L(Y.length<=b0,"value out-of-bounds","BUFFER_OVERRUN",{buffer:Y,length:b0,offset:Y.length}),Y.length!==b0)Y=O0(k([vX.slice(Y.length%b0),Y]));return Y},b0=32,vX=new Uint8Array(b0),tM=["then"],UQ={},Y5=new WeakMap;class $8 extends Array{#$;constructor(...$){const Y=$[0];let Q=$[1],X=($[2]||[]).slice(),J=!0;if(Y!==UQ)Q=$,X=[],J=!1;super(Q.length);Q.forEach((G,U)=>{this[U]=G});const Z=X.reduce((G,U)=>{if(typeof U==="string")G.set(U,(G.get(U)||0)+1);return G},new Map);if(eZ(this,Object.freeze(Q.map((G,U)=>{const W=X[U];if(W!=null&&Z.get(W)===1)return W;return null}))),this.#$=[],this.#$==null)this.#$;if(!J)return;Object.freeze(this);const M=new Proxy(this,{get:(G,U,W)=>{if(typeof U==="string"){if(U.match(/^[0-9]+$/)){const O=_(U,"%index");if(O<0||O>=this.length)throw new RangeError("out of result range");const D=G[O];if(D instanceof Error)VY(`index ${O}`,D);return D}if(tM.indexOf(U)>=0)return Reflect.get(G,U,W);const V=G[U];if(V instanceof Function)return function(...O){return V.apply(this===W?G:this,O)};else if(!(U in G))return G.getValue.apply(this===W?G:this,[U])}return Reflect.get(G,U,W)}});return eZ(M,k$(this)),M}toArray($){const Y=[];return this.forEach((Q,X)=>{if(Q instanceof Error)VY(`index ${X}`,Q);if($&&Q instanceof $8)Q=Q.toArray($);Y.push(Q)}),Y}toObject($){const Y=k$(this);return Y.reduce((Q,X,J)=>{return L(X!=null,`value at index ${J} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),gX(Y,this,$)},{})}slice($,Y){if($==null)$=0;if($<0){if($+=this.length,$<0)$=0}if(Y==null)Y=this.length;if(Y<0){if(Y+=this.length,Y<0)Y=0}if(Y>this.length)Y=this.length;const Q=k$(this),X=[],J=[];for(let Z=$;Z<Y;Z++)X.push(this[Z]),J.push(Q[Z]);return new $8(UQ,X,J)}filter($,Y){const Q=k$(this),X=[],J=[];for(let Z=0;Z<this.length;Z++){const M=this[Z];if(M instanceof Error)VY(`index ${Z}`,M);if($.call(Y,M,Z,this))X.push(M),J.push(Q[Z])}return new $8(UQ,X,J)}map($,Y){const Q=[];for(let X=0;X<this.length;X++){const J=this[X];if(J instanceof Error)VY(`index ${X}`,J);Q.push($.call(Y,J,X,this))}return Q}getValue($){const Y=k$(this).indexOf($);if(Y===-1)return;const Q=this[Y];if(Q instanceof Error)VY(`property ${JSON.stringify($)}`,Q.error);return Q}static fromItems($,Y){return new $8(UQ,$,Y)}}class A0{name;type;localName;dynamic;constructor($,Y,Q,X){T(this,{name:$,type:Y,localName:Q,dynamic:X},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError($,Y){z(!1,$,this.localName,Y)}}class N9{#$;#Y;constructor(){this.#$=[],this.#Y=0}get data(){return k(this.#$)}get length(){return this.#Y}#Q($){return this.#$.push($),this.#Y+=$.length,$.length}appendWriter($){return this.#Q(O0($.data))}writeBytes($){let Y=O0($);const Q=Y.length%b0;if(Q)Y=O0(k([Y,vX.slice(Q)]));return this.#Q(Y)}writeValue($){return this.#Q($5($))}writeUpdatableValue(){const $=this.#$.length;return this.#$.push(vX),this.#Y+=b0,(Y)=>{this.#$[$]=$5(Y)}}}class WQ{allowLoose;#$;#Y;#Q;#X;#J;constructor($,Y,Q){T(this,{allowLoose:!!Y}),this.#$=O0($),this.#Q=0,this.#X=null,this.#J=Q!=null?Q:1024,this.#Y=0}get data(){return q(this.#$)}get dataLength(){return this.#$.length}get consumed(){return this.#Y}get bytes(){return new Uint8Array(this.#$)}#M($){if(this.#X)return this.#X.#M($);this.#Q+=$,L(this.#J<1||this.#Q<=this.#J*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#J} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:O0(this.#$),offset:this.#Y,length:$,info:{bytesRead:this.#Q,dataLength:this.dataLength}})}#Z($,Y,Q){let X=Math.ceil(Y/b0)*b0;if(this.#Y+X>this.#$.length)if(this.allowLoose&&Q&&this.#Y+Y<=this.#$.length)X=Y;else L(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:O0(this.#$),length:this.#$.length,offset:this.#Y+X});return this.#$.slice(this.#Y,this.#Y+X)}subReader($){const Y=new WQ(this.#$.slice(this.#Y+$),this.allowLoose,this.#J);return Y.#X=this,Y}readBytes($,Y){let Q=this.#Z(0,$,!!Y);return this.#M($),this.#Y+=Q.length,Q.slice(0,$)}readValue(){return U8(this.readBytes(b0))}readIndex(){return XY(this.readBytes(b0))}}var p0=function($){if(!Number.isSafeInteger($)||$<0)throw new Error(`Wrong positive integer: ${$}`)};var zY=function($,...Y){if(!($ instanceof Uint8Array))throw new Error("Expected Uint8Array");if(Y.length>0&&!Y.includes($.length))throw new Error(`Expected Uint8Array of length ${Y}, not of length=${$.length}`)},VQ=function($){if(typeof $!=="function"||typeof $.create!=="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");p0($.outputLen),p0($.blockLen)},e8=function($,Y=!0){if($.destroyed)throw new Error("Hash instance has been destroyed");if(Y&&$.finished)throw new Error("Hash#digest() has already been called")},zQ=function($,Y){zY($);const Q=Y.outputLen;if($.length<Q)throw new Error(`digestInto() expects output buffer of length at least ${Q}`)};var OQ=typeof globalThis==="object"&&("crypto"in globalThis)?globalThis.crypto:void 0;async function DQ($,Y,Q){let X=Date.now();for(let J=0;J<$;J++){Q(J);const Z=Date.now()-X;if(Z>=0&&Z<Y)continue;await $G(),X+=Z}}function YG($){if(typeof $!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array((new TextEncoder()).encode($))}function k8($){if(typeof $==="string")$=YG($);if(!Q5($))throw new Error(`expected Uint8Array, got ${typeof $}`);return $}function X5(...$){const Y=new Uint8Array($.reduce((X,J)=>X+J.length,0));let Q=0;return $.forEach((X)=>{if(!Q5(X))throw new Error("Uint8Array expected");Y.set(X,Q),Q+=X.length}),Y}function KQ($,Y){if(Y!==void 0&&QG.call(Y)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign($,Y)}function K$($){const Y=(X)=>$().update(k8(X)).digest(),Q=$();return Y.outputLen=Q.outputLen,Y.blockLen=Q.blockLen,Y.create=()=>$(),Y}function J5($=32){if(OQ&&typeof OQ.getRandomValues==="function")return OQ.getRandomValues(new Uint8Array($));throw new Error("crypto.getRandomValues must be defined")}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */var Q5=($)=>$ instanceof Uint8Array;var S9=($)=>new Uint32Array($.buffer,$.byteOffset,Math.floor($.byteLength/4)),B9=($)=>new DataView($.buffer,$.byteOffset,$.byteLength),N8=($,Y)=>$<<32-Y|$>>>Y,eM=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!eM)throw new Error("Non little-endian hardware is not supported");var $G=async()=>{};class b${clone(){return this._cloneInto()}}var QG={}.toString;class cX extends b${constructor($,Y){super();this.finished=!1,this.destroyed=!1,VQ($);const Q=k8(Y);if(this.iHash=$.create(),typeof this.iHash.update!=="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const X=this.blockLen,J=new Uint8Array(X);J.set(Q.length>X?$.create().update(Q).digest():Q);for(let Z=0;Z<J.length;Z++)J[Z]^=54;this.iHash.update(J),this.oHash=$.create();for(let Z=0;Z<J.length;Z++)J[Z]^=54^92;this.oHash.update(J),J.fill(0)}update($){return e8(this),this.iHash.update($),this}digestInto($){e8(this),zY($,this.outputLen),this.finished=!0,this.iHash.digestInto($),this.oHash.update($),this.oHash.digestInto($),this.destroy()}digest(){const $=new Uint8Array(this.oHash.outputLen);return this.digestInto($),$}_cloneInto($){$||($=Object.create(Object.getPrototypeOf(this),{}));const{oHash:Y,iHash:Q,finished:X,destroyed:J,blockLen:Z,outputLen:M}=this;return $=$,$.finished=X,$.destroyed=J,$.blockLen=Z,$.outputLen=M,$.oHash=Y._cloneInto($.oHash),$.iHash=Q._cloneInto($.iHash),$}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}var y$=($,Y,Q)=>new cX($,Y).update(Q).digest();y$.create=($,Y)=>new cX($,Y);var XG=function($,Y,Q,X){VQ($);const J=KQ({dkLen:32,asyncTick:10},X),{c:Z,dkLen:M,asyncTick:G}=J;if(p0(Z),p0(M),p0(G),Z<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const U=k8(Y),W=k8(Q),V=new Uint8Array(M),O=y$.create($,U),D=O._cloneInto().update(W);return{c:Z,dkLen:M,asyncTick:G,DK:V,PRF:O,PRFSalt:D}},JG=function($,Y,Q,X,J){if($.destroy(),Y.destroy(),X)X.destroy();return J.fill(0),Q};function OY($,Y,Q,X){const{c:J,dkLen:Z,DK:M,PRF:G,PRFSalt:U}=XG($,Y,Q,X);let W;const V=new Uint8Array(4),O=B9(V),D=new Uint8Array(G.outputLen);for(let H=1,K=0;K<Z;H++,K+=G.outputLen){const R=M.subarray(K,K+G.outputLen);O.setInt32(0,H,!1),(W=U._cloneInto(W)).update(V).digestInto(D),R.set(D.subarray(0,R.length));for(let I=1;I<J;I++){G._cloneInto(W).update(D).digestInto(D);for(let E=0;E<R.length;E++)R[E]^=D[E]}}return JG(G,U,M,W,D)}var ZG=function($,Y,Q,X){if(typeof $.setBigUint64==="function")return $.setBigUint64(Y,Q,X);const J=BigInt(32),Z=BigInt(4294967295),M=Number(Q>>J&Z),G=Number(Q&Z),U=X?4:0,W=X?0:4;$.setUint32(Y+U,M,X),$.setUint32(Y+W,G,X)};class v$ extends b${constructor($,Y,Q,X){super();this.blockLen=$,this.outputLen=Y,this.padOffset=Q,this.isLE=X,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array($),this.view=B9(this.buffer)}update($){e8(this);const{view:Y,buffer:Q,blockLen:X}=this;$=k8($);const J=$.length;for(let Z=0;Z<J;){const M=Math.min(X-this.pos,J-Z);if(M===X){const G=B9($);for(;X<=J-Z;Z+=X)this.process(G,Z);continue}if(Q.set($.subarray(Z,Z+M),this.pos),this.pos+=M,Z+=M,this.pos===X)this.process(Y,0),this.pos=0}return this.length+=$.length,this.roundClean(),this}digestInto($){e8(this),zQ($,this),this.finished=!0;const{buffer:Y,view:Q,blockLen:X,isLE:J}=this;let{pos:Z}=this;if(Y[Z++]=128,this.buffer.subarray(Z).fill(0),this.padOffset>X-Z)this.process(Q,0),Z=0;for(let V=Z;V<X;V++)Y[V]=0;ZG(Q,X-8,BigInt(this.length*8),J),this.process(Q,0);const M=B9($),G=this.outputLen;if(G%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const U=G/4,W=this.get();if(U>W.length)throw new Error("_sha2: outputLen bigger than state");for(let V=0;V<U;V++)M.setUint32(4*V,W[V],J)}digest(){const{buffer:$,outputLen:Y}=this;this.digestInto($);const Q=$.slice(0,Y);return this.destroy(),Q}_cloneInto($){$||($=new this.constructor),$.set(...this.get());const{blockLen:Y,buffer:Q,length:X,finished:J,destroyed:Z,pos:M}=this;if($.length=X,$.pos=M,$.finished=J,$.destroyed=Z,X%Y)$.buffer.set(Q);return $}}var MG=($,Y,Q)=>$&Y^~$&Q,GG=($,Y,Q)=>$&Y^$&Q^Y&Q,UG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),L$=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),R$=new Uint32Array(64);class Z5 extends v${constructor(){super(64,32,8,!1);this.A=L$[0]|0,this.B=L$[1]|0,this.C=L$[2]|0,this.D=L$[3]|0,this.E=L$[4]|0,this.F=L$[5]|0,this.G=L$[6]|0,this.H=L$[7]|0}get(){const{A:$,B:Y,C:Q,D:X,E:J,F:Z,G:M,H:G}=this;return[$,Y,Q,X,J,Z,M,G]}set($,Y,Q,X,J,Z,M,G){this.A=$|0,this.B=Y|0,this.C=Q|0,this.D=X|0,this.E=J|0,this.F=Z|0,this.G=M|0,this.H=G|0}process($,Y){for(let V=0;V<16;V++,Y+=4)R$[V]=$.getUint32(Y,!1);for(let V=16;V<64;V++){const O=R$[V-15],D=R$[V-2],H=N8(O,7)^N8(O,18)^O>>>3,K=N8(D,17)^N8(D,19)^D>>>10;R$[V]=K+R$[V-7]+H+R$[V-16]|0}let{A:Q,B:X,C:J,D:Z,E:M,F:G,G:U,H:W}=this;for(let V=0;V<64;V++){const O=N8(M,6)^N8(M,11)^N8(M,25),D=W+O+MG(M,G,U)+UG[V]+R$[V]|0,K=(N8(Q,2)^N8(Q,13)^N8(Q,22))+GG(Q,X,J)|0;W=U,U=G,G=M,M=Z+D|0,Z=J,J=X,X=Q,Q=D+K|0}Q=Q+this.A|0,X=X+this.B|0,J=J+this.C|0,Z=Z+this.D|0,M=M+this.E|0,G=G+this.F|0,U=U+this.G|0,W=W+this.H|0,this.set(Q,X,J,Z,M,G,U,W)}roundClean(){R$.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}var $$=K$(()=>new Z5);var M5=function($,Y=!1){if(Y)return{h:Number($&LQ),l:Number($>>pX&LQ)};return{h:Number($>>pX&LQ)|0,l:Number($&LQ)|0}},uX=function($,Y=!1){let Q=new Uint32Array($.length),X=new Uint32Array($.length);for(let J=0;J<$.length;J++){const{h:Z,l:M}=M5($[J],Y);[Q[J],X[J]]=[Z,M]}return[Q,X]},IG=function($,Y,Q,X){const J=(Y>>>0)+(X>>>0);return{h:$+Q+(J/4294967296|0)|0,l:J|0}},LQ=BigInt(4294967295),pX=BigInt(32),WG=($,Y)=>BigInt($>>>0)<<pX|BigInt(Y>>>0),VG=($,Y,Q)=>$>>>Q,zG=($,Y,Q)=>$<<32-Q|Y>>>Q,OG=($,Y,Q)=>$>>>Q|Y<<32-Q,DG=($,Y,Q)=>$<<32-Q|Y>>>Q,KG=($,Y,Q)=>$<<64-Q|Y>>>Q-32,LG=($,Y,Q)=>$>>>Q-32|Y<<64-Q,RG=($,Y)=>Y,HG=($,Y)=>$,dX=($,Y,Q)=>$<<Q|Y>>>32-Q,lX=($,Y,Q)=>Y<<Q|$>>>32-Q,iX=($,Y,Q)=>Y<<Q-32|$>>>64-Q,nX=($,Y,Q)=>$<<Q-32|Y>>>64-Q,qG=($,Y,Q)=>($>>>0)+(Y>>>0)+(Q>>>0),CG=($,Y,Q,X)=>Y+Q+X+($/4294967296|0)|0,EG=($,Y,Q,X)=>($>>>0)+(Y>>>0)+(Q>>>0)+(X>>>0),TG=($,Y,Q,X,J)=>Y+Q+X+J+($/4294967296|0)|0,NG=($,Y,Q,X,J)=>($>>>0)+(Y>>>0)+(Q>>>0)+(X>>>0)+(J>>>0),SG=($,Y,Q,X,J,Z)=>Y+Q+X+J+Z+($/4294967296|0)|0;var BG={fromBig:M5,split:uX,toBig:WG,shrSH:VG,shrSL:zG,rotrSH:OG,rotrSL:DG,rotrBH:KG,rotrBL:LG,rotr32H:RG,rotr32L:HG,rotlSH:dX,rotlSL:lX,rotlBH:iX,rotlBL:nX,add:IG,add3L:qG,add3H:CG,add4L:EG,add4H:TG,add5H:SG,add5L:NG},m=BG;var[AG,PG]=(()=>m.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(($)=>BigInt($))))(),H$=new Uint32Array(80),I$=new Uint32Array(80);class G5 extends v${constructor(){super(128,64,16,!1);this.Ah=1779033703|0,this.Al=4089235720|0,this.Bh=3144134277|0,this.Bl=2227873595|0,this.Ch=1013904242|0,this.Cl=4271175723|0,this.Dh=2773480762|0,this.Dl=1595750129|0,this.Eh=1359893119|0,this.El=2917565137|0,this.Fh=2600822924|0,this.Fl=725511199|0,this.Gh=528734635|0,this.Gl=4215389547|0,this.Hh=1541459225|0,this.Hl=327033209|0}get(){const{Ah:$,Al:Y,Bh:Q,Bl:X,Ch:J,Cl:Z,Dh:M,Dl:G,Eh:U,El:W,Fh:V,Fl:O,Gh:D,Gl:H,Hh:K,Hl:R}=this;return[$,Y,Q,X,J,Z,M,G,U,W,V,O,D,H,K,R]}set($,Y,Q,X,J,Z,M,G,U,W,V,O,D,H,K,R){this.Ah=$|0,this.Al=Y|0,this.Bh=Q|0,this.Bl=X|0,this.Ch=J|0,this.Cl=Z|0,this.Dh=M|0,this.Dl=G|0,this.Eh=U|0,this.El=W|0,this.Fh=V|0,this.Fl=O|0,this.Gh=D|0,this.Gl=H|0,this.Hh=K|0,this.Hl=R|0}process($,Y){for(let N=0;N<16;N++,Y+=4)H$[N]=$.getUint32(Y),I$[N]=$.getUint32(Y+=4);for(let N=16;N<80;N++){const f=H$[N-15]|0,j=I$[N-15]|0,A=m.rotrSH(f,j,1)^m.rotrSH(f,j,8)^m.shrSH(f,j,7),w=m.rotrSL(f,j,1)^m.rotrSL(f,j,8)^m.shrSL(f,j,7),x=H$[N-2]|0,d=I$[N-2]|0,b=m.rotrSH(x,d,19)^m.rotrBH(x,d,61)^m.shrSH(x,d,6),y=m.rotrSL(x,d,19)^m.rotrBL(x,d,61)^m.shrSL(x,d,6),V0=m.add4L(w,y,I$[N-7],I$[N-16]),K0=m.add4H(V0,A,b,H$[N-7],H$[N-16]);H$[N]=K0|0,I$[N]=V0|0}let{Ah:Q,Al:X,Bh:J,Bl:Z,Ch:M,Cl:G,Dh:U,Dl:W,Eh:V,El:O,Fh:D,Fl:H,Gh:K,Gl:R,Hh:I,Hl:E}=this;for(let N=0;N<80;N++){const f=m.rotrSH(V,O,14)^m.rotrSH(V,O,18)^m.rotrBH(V,O,41),j=m.rotrSL(V,O,14)^m.rotrSL(V,O,18)^m.rotrBL(V,O,41),A=V&D^~V&K,w=O&H^~O&R,x=m.add5L(E,j,w,PG[N],I$[N]),d=m.add5H(x,I,f,A,AG[N],H$[N]),b=x|0,y=m.rotrSH(Q,X,28)^m.rotrBH(Q,X,34)^m.rotrBH(Q,X,39),V0=m.rotrSL(Q,X,28)^m.rotrBL(Q,X,34)^m.rotrBL(Q,X,39),K0=Q&J^Q&M^J&M,F0=X&Z^X&G^Z&G;I=K|0,E=R|0,K=D|0,R=H|0,D=V|0,H=O|0,{h:V,l:O}=m.add(U|0,W|0,d|0,b|0),U=M|0,W=G|0,M=J|0,G=Z|0,J=Q|0,Z=X|0;const G0=m.add3L(b,V0,F0);Q=m.add3H(G0,d,y,K0),X=G0|0}({h:Q,l:X}=m.add(this.Ah|0,this.Al|0,Q|0,X|0)),{h:J,l:Z}=m.add(this.Bh|0,this.Bl|0,J|0,Z|0),{h:M,l:G}=m.add(this.Ch|0,this.Cl|0,M|0,G|0),{h:U,l:W}=m.add(this.Dh|0,this.Dl|0,U|0,W|0),{h:V,l:O}=m.add(this.Eh|0,this.El|0,V|0,O|0),{h:D,l:H}=m.add(this.Fh|0,this.Fl|0,D|0,H|0),{h:K,l:R}=m.add(this.Gh|0,this.Gl|0,K|0,R|0),{h:I,l:E}=m.add(this.Hh|0,this.Hl|0,I|0,E|0),this.set(Q,X,J,Z,M,G,U,W,V,O,D,H,K,R,I,E)}roundClean(){H$.fill(0),I$.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}var RQ=K$(()=>new G5);var jG=function(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof window!=="undefined")return window;throw new Error("unable to locate global object")};function oX($){switch($){case"sha256":return $$.create();case"sha512":return RQ.create()}z(!1,"invalid hashing algorithm name","algorithm",$)}function V5($,Y){const Q={sha256:$$,sha512:RQ}[$];return z(Q!=null,"invalid hmac algorithm","algorithm",$),y$.create(Q,Y)}function z5($,Y,Q,X,J){const Z={sha256:$$,sha512:RQ}[J];return z(Z!=null,"invalid pbkdf2 algorithm","algorithm",J),OY(Z,$,Y,{c:Q,dkLen:X})}function O5($){L(W5!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),z(Number.isInteger($)&&$>0&&$<=1024,"invalid length","length",$);const Y=new Uint8Array($);return W5.getRandomValues(Y),Y}var U5=jG(),W5=U5.crypto||U5.msCrypto;function S8($,Y,Q){const X=C(Y,"key"),J=C(Q,"data");return q(L5($,X,J))}var D5=!1,K5=function($,Y,Q){return V5($,Y).update(Q).digest()},L5=K5;S8._=K5;S8.lock=function(){D5=!0};S8.register=function($){if(D5)throw new Error("computeHmac is locked");L5=$};Object.freeze(S8);function bG($,Y=24){const Q=new Uint32Array(10);for(let X=24-Y;X<24;X++){for(let M=0;M<10;M++)Q[M]=$[M]^$[M+10]^$[M+20]^$[M+30]^$[M+40];for(let M=0;M<10;M+=2){const G=(M+8)%10,U=(M+2)%10,W=Q[U],V=Q[U+1],O=R5(W,V,1)^Q[G],D=H5(W,V,1)^Q[G+1];for(let H=0;H<50;H+=10)$[M+H]^=O,$[M+H+1]^=D}let J=$[2],Z=$[3];for(let M=0;M<24;M++){const G=q5[M],U=R5(J,Z,G),W=H5(J,Z,G),V=I5[M];J=$[V],Z=$[V+1],$[V]=U,$[V+1]=W}for(let M=0;M<50;M+=10){for(let G=0;G<10;G++)Q[G]=$[M+G];for(let G=0;G<10;G++)$[M+G]^=~Q[(G+2)%10]&Q[(G+4)%10]}$[0]^=hG[X],$[1]^=kG[X]}Q.fill(0)}var[I5,q5,C5]=[[],[],[]],FG=BigInt(0),DY=BigInt(1),wG=BigInt(2),_G=BigInt(7),xG=BigInt(256),fG=BigInt(113);for(let $=0,Y=DY,Q=1,X=0;$<24;$++){[Q,X]=[X,(2*Q+3*X)%5],I5.push(2*(5*X+Q)),q5.push(($+1)*($+2)/2%64);let J=FG;for(let Z=0;Z<7;Z++)if(Y=(Y<<DY^(Y>>_G)*fG)%xG,Y&wG)J^=DY<<(DY<<BigInt(Z))-DY;C5.push(J)}var[hG,kG]=uX(C5,!0),R5=($,Y,Q)=>Q>32?iX($,Y,Q):dX($,Y,Q),H5=($,Y,Q)=>Q>32?nX($,Y,Q):lX($,Y,Q);class sX extends b${constructor($,Y,Q,X=!1,J=24){super();if(this.blockLen=$,this.suffix=Y,this.outputLen=Q,this.enableXOF=X,this.rounds=J,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,p0(Q),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=S9(this.state)}keccak(){bG(this.state32,this.rounds),this.posOut=0,this.pos=0}update($){e8(this);const{blockLen:Y,state:Q}=this;$=k8($);const X=$.length;for(let J=0;J<X;){const Z=Math.min(Y-this.pos,X-J);for(let M=0;M<Z;M++)Q[this.pos++]^=$[J++];if(this.pos===Y)this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:$,suffix:Y,pos:Q,blockLen:X}=this;if($[Q]^=Y,(Y&128)!==0&&Q===X-1)this.keccak();$[X-1]^=128,this.keccak()}writeInto($){e8(this,!1),zY($),this.finish();const Y=this.state,{blockLen:Q}=this;for(let X=0,J=$.length;X<J;){if(this.posOut>=Q)this.keccak();const Z=Math.min(Q-this.posOut,J-X);$.set(Y.subarray(this.posOut,this.posOut+Z),X),this.posOut+=Z,X+=Z}return $}xofInto($){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto($)}xof($){return p0($),this.xofInto(new Uint8Array($))}digestInto($){if(zQ($,this),this.finished)throw new Error("digest() was already called");return this.writeInto($),this.destroy(),$}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto($){const{blockLen:Y,suffix:Q,outputLen:X,rounds:J,enableXOF:Z}=this;return $||($=new sX(Y,Q,X,Z,J)),$.state32.set(this.state32),$.pos=this.pos,$.posOut=this.posOut,$.finished=this.finished,$.rounds=J,$.suffix=Q,$.outputLen=X,$.enableXOF=Z,$.destroyed=this.destroyed,$}}var yG=($,Y,Q)=>K$(()=>new sX(Y,$,Q));var E5=yG(1,136,32);function v($){const Y=C($,"data");return q(S5(Y))}var T5=!1,N5=function($){return E5($)},S5=N5;v._=N5;v.lock=function(){T5=!0};v.register=function($){if(T5)throw new TypeError("keccak256 is locked");S5=$};Object.freeze(v);var B5=function($,Y,Q,X){if($===0)return Y^Q^X;else if($===1)return Y&Q|~Y&X;else if($===2)return(Y|~Q)^X;else if($===3)return Y&X|Q&~X;else return Y^(Q|~X)},vG=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),A5=Uint8Array.from({length:16},($,Y)=>Y),gG=A5.map(($)=>(9*$+5)%16),aX=[A5],rX=[gG];for(let $=0;$<4;$++)for(let Y of[aX,rX])Y.push(Y[$].map((Q)=>vG[Q]));var P5=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(($)=>new Uint8Array($)),mG=aX.map(($,Y)=>$.map((Q)=>P5[Y][Q])),cG=rX.map(($,Y)=>$.map((Q)=>P5[Y][Q])),pG=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),uG=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),HQ=($,Y)=>$<<Y|$>>>32-Y,IQ=new Uint32Array(16);class j5 extends v${constructor(){super(64,20,8,!0);this.h0=1732584193|0,this.h1=4023233417|0,this.h2=2562383102|0,this.h3=271733878|0,this.h4=3285377520|0}get(){const{h0:$,h1:Y,h2:Q,h3:X,h4:J}=this;return[$,Y,Q,X,J]}set($,Y,Q,X,J){this.h0=$|0,this.h1=Y|0,this.h2=Q|0,this.h3=X|0,this.h4=J|0}process($,Y){for(let D=0;D<16;D++,Y+=4)IQ[D]=$.getUint32(Y,!0);let Q=this.h0|0,X=Q,J=this.h1|0,Z=J,M=this.h2|0,G=M,U=this.h3|0,W=U,V=this.h4|0,O=V;for(let D=0;D<5;D++){const H=4-D,K=pG[D],R=uG[D],I=aX[D],E=rX[D],N=mG[D],f=cG[D];for(let j=0;j<16;j++){const A=HQ(Q+B5(D,J,M,U)+IQ[I[j]]+K,N[j])+V|0;Q=V,V=U,U=HQ(M,10)|0,M=J,J=A}for(let j=0;j<16;j++){const A=HQ(X+B5(H,Z,G,W)+IQ[E[j]]+R,f[j])+O|0;X=O,O=W,W=HQ(G,10)|0,G=Z,Z=A}}this.set(this.h1+M+W|0,this.h2+U+O|0,this.h3+V+X|0,this.h4+Q+Z|0,this.h0+J+G|0)}roundClean(){IQ.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}var F5=K$(()=>new j5);function B8($){const Y=C($,"data");return q(x5(Y))}var w5=!1,_5=function($){return F5($)},x5=_5;B8._=_5;B8.lock=function(){w5=!0};B8.register=function($){if(w5)throw new TypeError("ripemd160 is locked");x5=$};Object.freeze(B8);function _0($,Y,Q,X,J){const Z=C($,"password"),M=C(Y,"salt");return q(k5(Z,M,Q,X,J))}var f5=!1,h5=function($,Y,Q,X,J){return z5($,Y,Q,X,J)},k5=h5;_0._=h5;_0.lock=function(){f5=!0};_0.register=function($){if(f5)throw new Error("pbkdf2 is locked");k5=$};Object.freeze(_0);function x0($){return v5($)}var b5=!1,y5=function($){return new Uint8Array(O5($))},v5=y5;x0._=y5;x0.lock=function(){b5=!0};x0.register=function($){if(b5)throw new Error("randomBytes is locked");v5=$};Object.freeze(x0);var g5=function($,Y,Q,X,J,Z){let M=$[Y++]^Q[X++],G=$[Y++]^Q[X++],U=$[Y++]^Q[X++],W=$[Y++]^Q[X++],V=$[Y++]^Q[X++],O=$[Y++]^Q[X++],D=$[Y++]^Q[X++],H=$[Y++]^Q[X++],K=$[Y++]^Q[X++],R=$[Y++]^Q[X++],I=$[Y++]^Q[X++],E=$[Y++]^Q[X++],N=$[Y++]^Q[X++],f=$[Y++]^Q[X++],j=$[Y++]^Q[X++],A=$[Y++]^Q[X++],w=M,x=G,d=U,b=W,y=V,V0=O,K0=D,F0=H,G0=K,B=R,h=I,c=E,a=N,Q0=f,U0=j,S0=A;for(let c0=0;c0<8;c0+=2)y^=$0(w+a|0,7),G0^=$0(y+w|0,9),a^=$0(G0+y|0,13),w^=$0(a+G0|0,18),B^=$0(V0+x|0,7),Q0^=$0(B+V0|0,9),x^=$0(Q0+B|0,13),V0^=$0(x+Q0|0,18),U0^=$0(h+K0|0,7),d^=$0(U0+h|0,9),K0^=$0(d+U0|0,13),h^=$0(K0+d|0,18),b^=$0(S0+c|0,7),F0^=$0(b+S0|0,9),c^=$0(F0+b|0,13),S0^=$0(c+F0|0,18),x^=$0(w+b|0,7),d^=$0(x+w|0,9),b^=$0(d+x|0,13),w^=$0(b+d|0,18),K0^=$0(V0+y|0,7),F0^=$0(K0+V0|0,9),y^=$0(F0+K0|0,13),V0^=$0(y+F0|0,18),c^=$0(h+B|0,7),G0^=$0(c+h|0,9),B^=$0(G0+c|0,13),h^=$0(B+G0|0,18),a^=$0(S0+U0|0,7),Q0^=$0(a+S0|0,9),U0^=$0(Q0+a|0,13),S0^=$0(U0+Q0|0,18);J[Z++]=M+w|0,J[Z++]=G+x|0,J[Z++]=U+d|0,J[Z++]=W+b|0,J[Z++]=V+y|0,J[Z++]=O+V0|0,J[Z++]=D+K0|0,J[Z++]=H+F0|0,J[Z++]=K+G0|0,J[Z++]=R+B|0,J[Z++]=I+h|0,J[Z++]=E+c|0,J[Z++]=N+a|0,J[Z++]=f+Q0|0,J[Z++]=j+U0|0,J[Z++]=A+S0|0},A9=function($,Y,Q,X,J){let Z=X+0,M=X+16*J;for(let G=0;G<16;G++)Q[M+G]=$[Y+(2*J-1)*16+G];for(let G=0;G<J;G++,Z+=16,Y+=16){if(g5(Q,M,$,Y,Q,Z),G>0)M+=16;g5(Q,Z,$,Y+=16,Q,M)}},m5=function($,Y,Q){const X=KQ({dkLen:32,asyncTick:10,maxmem:1073742848},Q),{N:J,r:Z,p:M,dkLen:G,asyncTick:U,maxmem:W,onProgress:V}=X;if(p0(J),p0(Z),p0(M),p0(G),p0(U),p0(W),V!==void 0&&typeof V!=="function")throw new Error("progressCb should be function");const O=128*Z,D=O/4;if(J<=1||(J&J-1)!==0||J>=2**(O/8)||J>4294967296)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(M<0||M>137438953440/O)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(G<0||G>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const H=O*(J+M);if(H>W)throw new Error(`Scrypt: parameters too large, ${H} (128 * r * (N + p)) > ${W} (maxmem)`);const K=OY($$,$,Y,{c:1,dkLen:O*M}),R=S9(K),I=S9(new Uint8Array(O*J)),E=S9(new Uint8Array(O));let N=()=>{};if(V){const f=2*J*M,j=Math.max(Math.floor(f/1e4),1);let A=0;N=()=>{if(A++,V&&(!(A%j)||A===f))V(A/f)}}return{N:J,r:Z,p:M,dkLen:G,blockSize32:D,V:I,B32:R,B:K,tmp:E,blockMixCb:N,asyncTick:U}},c5=function($,Y,Q,X,J){const Z=OY($$,$,Q,{c:1,dkLen:Y});return Q.fill(0),X.fill(0),J.fill(0),Z};function p5($,Y,Q){const{N:X,r:J,p:Z,dkLen:M,blockSize32:G,V:U,B32:W,B:V,tmp:O,blockMixCb:D}=m5($,Y,Q);for(let H=0;H<Z;H++){const K=G*H;for(let R=0;R<G;R++)U[R]=W[K+R];for(let R=0,I=0;R<X-1;R++)A9(U,I,U,I+=G,J),D();A9(U,(X-1)*G,W,K,J),D();for(let R=0;R<X;R++){const I=W[K+G-16]%X;for(let E=0;E<G;E++)O[E]=W[K+E]^U[I*G+E];A9(O,0,W,K,J),D()}}return c5($,M,V,U,O)}async function u5($,Y,Q){const{N:X,r:J,p:Z,dkLen:M,blockSize32:G,V:U,B32:W,B:V,tmp:O,blockMixCb:D,asyncTick:H}=m5($,Y,Q);for(let K=0;K<Z;K++){const R=G*K;for(let E=0;E<G;E++)U[E]=W[R+E];let I=0;await DQ(X-1,H,()=>{A9(U,I,U,I+=G,J),D()}),A9(U,(X-1)*G,W,R,J),D(),await DQ(X,H,()=>{const E=W[R+G-16]%X;for(let N=0;N<G;N++)O[N]=W[R+N]^U[E*G+N];A9(O,0,W,R,J),D()})}return c5($,M,V,U,O)}var $0=($,Y)=>$<<Y|$>>>32-Y;async function A8($,Y,Q,X,J,Z,M){const G=C($,"passwd"),U=C(Y,"salt");return q(await o5(G,U,Q,X,J,Z,M))}function P8($,Y,Q,X,J,Z){const M=C($,"passwd"),G=C(Y,"salt");return q(s5(M,G,Q,X,J,Z))}var d5=!1,l5=!1,i5=async function($,Y,Q,X,J,Z,M){return await u5($,Y,{N:Q,r:X,p:J,dkLen:Z,onProgress:M})},n5=function($,Y,Q,X,J,Z){return p5($,Y,{N:Q,r:X,p:J,dkLen:Z})},o5=i5,s5=n5;A8._=i5;A8.lock=function(){l5=!0};A8.register=function($){if(l5)throw new Error("scrypt is locked");o5=$};Object.freeze(A8);P8._=n5;P8.lock=function(){d5=!0};P8.register=function($){if(d5)throw new Error("scryptSync is locked");s5=$};Object.freeze(P8);function C0($){const Y=C($,"data");return q(t5(Y))}function g$($){const Y=C($,"data");return q(e5(Y))}var a5=function($){return oX("sha256").update($).digest()},r5=function($){return oX("sha512").update($).digest()},t5=a5,e5=r5,$4=!1,Y4=!1;C0._=a5;C0.lock=function(){$4=!0};C0.register=function($){if($4)throw new Error("sha256 is locked");t5=$};Object.freeze(C0);g$._=r5;g$.lock=function(){Y4=!0};g$.register=function($){if(Y4)throw new Error("sha512 is locked");e5=$};Object.freeze(C0);var YJ={};hZ(YJ,{validateObject:()=>{{return C$}},utf8ToBytes:()=>{{return oG}},numberToVarBytesBE:()=>{{return iG}},numberToHexUnpadded:()=>{{return J4}},numberToBytesLE:()=>{{return TQ}},numberToBytesBE:()=>{{return q$}},hexToNumber:()=>{{return eX}},hexToBytes:()=>{{return c$}},equalBytes:()=>{{return nG}},ensureBytes:()=>{{return Y8}},createHmacDrbg:()=>{{return $J}},concatBytes:()=>{{return P9}},bytesToNumberLE:()=>{{return EQ}},bytesToNumberBE:()=>{{return Y$}},bytesToHex:()=>{{return m$}},bitSet:()=>{{return rG}},bitMask:()=>{{return KY}},bitLen:()=>{{return sG}},bitGet:()=>{{return aG}}});function m$($){if(!CQ($))throw new Error("Uint8Array expected");let Y="";for(let Q=0;Q<$.length;Q++)Y+=lG[$[Q]];return Y}function J4($){const Y=$.toString(16);return Y.length&1?`0${Y}`:Y}function eX($){if(typeof $!=="string")throw new Error("hex string expected, got "+typeof $);return BigInt($===""?"0":`0x${$}`)}function c$($){if(typeof $!=="string")throw new Error("hex string expected, got "+typeof $);const Y=$.length;if(Y%2)throw new Error("padded hex string expected, got unpadded hex of length "+Y);const Q=new Uint8Array(Y/2);for(let X=0;X<Q.length;X++){const J=X*2,Z=$.slice(J,J+2),M=Number.parseInt(Z,16);if(Number.isNaN(M)||M<0)throw new Error("Invalid byte sequence");Q[X]=M}return Q}function Y$($){return eX(m$($))}function EQ($){if(!CQ($))throw new Error("Uint8Array expected");return eX(m$(Uint8Array.from($).reverse()))}function q$($,Y){return c$($.toString(16).padStart(Y*2,"0"))}function TQ($,Y){return q$($,Y).reverse()}function iG($){return c$(J4($))}function Y8($,Y,Q){let X;if(typeof Y==="string")try{X=c$(Y)}catch(Z){throw new Error(`${$} must be valid hex string, got "${Y}". Cause: ${Z}`)}else if(CQ(Y))X=Uint8Array.from(Y);else throw new Error(`${$} must be hex string or Uint8Array`);const J=X.length;if(typeof Q==="number"&&J!==Q)throw new Error(`${$} expected ${Q} bytes, got ${J}`);return X}function P9(...$){const Y=new Uint8Array($.reduce((X,J)=>X+J.length,0));let Q=0;return $.forEach((X)=>{if(!CQ(X))throw new Error("Uint8Array expected");Y.set(X,Q),Q+=X.length}),Y}function nG($,Y){if($.length!==Y.length)return!1;for(let Q=0;Q<$.length;Q++)if($[Q]!==Y[Q])return!1;return!0}function oG($){if(typeof $!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array((new TextEncoder()).encode($))}function sG($){let Y;for(Y=0;$>X4;$>>=qQ,Y+=1);return Y}function aG($,Y){return $>>BigInt(Y)&qQ}function $J($,Y,Q){if(typeof $!=="number"||$<2)throw new Error("hashLen must be a number");if(typeof Y!=="number"||Y<2)throw new Error("qByteLen must be a number");if(typeof Q!=="function")throw new Error("hmacFn must be a function");let X=tX($),J=tX($),Z=0;const M=()=>{X.fill(1),J.fill(0),Z=0},G=(...O)=>Q(J,X,...O),U=(O=tX())=>{if(J=G(Q4([0]),O),X=G(),O.length===0)return;J=G(Q4([1]),O),X=G()},W=()=>{if(Z++>=1000)throw new Error("drbg: tried 1000 values");let O=0;const D=[];while(O<Y){X=G();const H=X.slice();D.push(H),O+=X.length}return P9(...D)};return(O,D)=>{M(),U(O);let H=void 0;while(!(H=D(W())))U();return M(),H}}function C$($,Y,Q={}){const X=(J,Z,M)=>{const G=tG[Z];if(typeof G!=="function")throw new Error(`Invalid validator "${Z}", expected function`);const U=$[J];if(M&&U===void 0)return;if(!G(U,$))throw new Error(`Invalid param ${String(J)}=${U} (${typeof U}), expected ${Z}`)};for(let[J,Z]of Object.entries(Y))X(J,Z,!1);for(let[J,Z]of Object.entries(Q))X(J,Z,!0);return $}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var X4=BigInt(0),qQ=BigInt(1),dG=BigInt(2),CQ=($)=>$ instanceof Uint8Array,lG=Array.from({length:256},($,Y)=>Y.toString(16).padStart(2,"0")),rG=($,Y,Q)=>{return $|(Q?qQ:X4)<<BigInt(Y)},KY=($)=>(dG<<BigInt($-1))-qQ,tX=($)=>new Uint8Array($),Q4=($)=>Uint8Array.from($),tG={bigint:($)=>typeof $==="bigint",function:($)=>typeof $==="function",boolean:($)=>typeof $==="boolean",string:($)=>typeof $==="string",stringOrUint8Array:($)=>typeof $==="string"||$ instanceof Uint8Array,isSafeInteger:($)=>Number.isSafeInteger($),array:($)=>Array.isArray($),field:($,Y)=>Y.Fp.isValid($),hash:($)=>typeof $==="function"&&Number.isSafeInteger($.outputLen)};function u0($,Y){const Q=$%Y;return Q>=P0?Q:Y+Q}function QU($,Y,Q){if(Q<=P0||Y<P0)throw new Error("Expected power/modulo > 0");if(Q===I0)return P0;let X=I0;while(Y>P0){if(Y&I0)X=X*$%Q;$=$*$%Q,Y>>=I0}return X}function Q8($,Y,Q){let X=$;while(Y-- >P0)X*=X,X%=Q;return X}function NQ($,Y){if($===P0||Y<=P0)throw new Error(`invert: expected positive integers, got n=${$} mod=${Y}`);let Q=u0($,Y),X=Y,J=P0,Z=I0,M=I0,G=P0;while(Q!==P0){const W=X/Q,V=X%Q,O=J-M*W,D=Z-G*W;X=Q,Q=V,J=M,Z=G,M=O,G=D}if(X!==I0)throw new Error("invert: does not exist");return u0(J,Y)}function XU($){const Y=($-I0)/p$;let Q,X,J;for(Q=$-I0,X=0;Q%p$===P0;Q/=p$,X++);for(J=p$;J<$&&QU(J,Y,$)!==$-I0;J++);if(X===1){const M=($+I0)/QJ;return function G(U,W){const V=U.pow(W,M);if(!U.eql(U.sqr(V),W))throw new Error("Cannot find square root");return V}}const Z=(Q+I0)/p$;return function M(G,U){if(G.pow(U,Y)===G.neg(G.ONE))throw new Error("Cannot find square root");let W=X,V=G.pow(G.mul(G.ONE,J),Q),O=G.pow(U,Z),D=G.pow(U,Q);while(!G.eql(D,G.ONE)){if(G.eql(D,G.ZERO))return G.ZERO;let H=1;for(let R=G.sqr(D);H<W;H++){if(G.eql(R,G.ONE))break;R=G.sqr(R)}const K=G.pow(V,I0<<BigInt(W-H-1));V=G.sqr(K),O=G.mul(O,K),D=G.mul(D,V),W=H}return O}}function JU($){if($%QJ===eG){const Y=($+I0)/QJ;return function Q(X,J){const Z=X.pow(J,Y);if(!X.eql(X.sqr(Z),J))throw new Error("Cannot find square root");return Z}}if($%M4===Z4){const Y=($-Z4)/M4;return function Q(X,J){const Z=X.mul(J,p$),M=X.pow(Z,Y),G=X.mul(J,M),U=X.mul(X.mul(G,p$),M),W=X.mul(G,X.sub(U,X.ONE));if(!X.eql(X.sqr(W),J))throw new Error("Cannot find square root");return W}}if($%YU===$U);return XU($)}function XJ($){const Y={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},Q=ZU.reduce((X,J)=>{return X[J]="function",X},Y);return C$($,Q)}function MU($,Y,Q){if(Q<P0)throw new Error("Expected power > 0");if(Q===P0)return $.ONE;if(Q===I0)return Y;let X=$.ONE,J=Y;while(Q>P0){if(Q&I0)X=$.mul(X,J);J=$.sqr(J),Q>>=I0}return X}function GU($,Y){const Q=new Array(Y.length),X=Y.reduce((Z,M,G)=>{if($.is0(M))return Z;return Q[G]=Z,$.mul(Z,M)},$.ONE),J=$.inv(X);return Y.reduceRight((Z,M,G)=>{if($.is0(M))return Z;return Q[G]=$.mul(Z,Q[G]),$.mul(Z,M)},J),Q}function JJ($,Y){const Q=Y!==void 0?Y:$.toString(2).length,X=Math.ceil(Q/8);return{nBitLength:Q,nByteLength:X}}function G4($,Y,Q=!1,X={}){if($<=P0)throw new Error(`Expected Field ORDER > 0, got ${$}`);const{nBitLength:J,nByteLength:Z}=JJ($,Y);if(Z>2048)throw new Error("Field lengths over 2048 bytes are not supported");const M=JU($),G=Object.freeze({ORDER:$,BITS:J,BYTES:Z,MASK:KY(J),ZERO:P0,ONE:I0,create:(U)=>u0(U,$),isValid:(U)=>{if(typeof U!=="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof U}`);return P0<=U&&U<$},is0:(U)=>U===P0,isOdd:(U)=>(U&I0)===I0,neg:(U)=>u0(-U,$),eql:(U,W)=>U===W,sqr:(U)=>u0(U*U,$),add:(U,W)=>u0(U+W,$),sub:(U,W)=>u0(U-W,$),mul:(U,W)=>u0(U*W,$),pow:(U,W)=>MU(G,U,W),div:(U,W)=>u0(U*NQ(W,$),$),sqrN:(U)=>U*U,addN:(U,W)=>U+W,subN:(U,W)=>U-W,mulN:(U,W)=>U*W,inv:(U)=>NQ(U,$),sqrt:X.sqrt||((U)=>M(G,U)),invertBatch:(U)=>GU(G,U),cmov:(U,W,V)=>V?W:U,toBytes:(U)=>Q?TQ(U,Z):q$(U,Z),fromBytes:(U)=>{if(U.length!==Z)throw new Error(`Fp.fromBytes: expected ${Z}, got ${U.length}`);return Q?EQ(U):Y$(U)}});return Object.freeze(G)}function U4($){if(typeof $!=="bigint")throw new Error("field order must be bigint");const Y=$.toString(2).length;return Math.ceil(Y/8)}function ZJ($){const Y=U4($);return Y+Math.ceil(Y/2)}function W4($,Y,Q=!1){const X=$.length,J=U4(Y),Z=ZJ(Y);if(X<16||X<Z||X>1024)throw new Error(`expected ${Z}-1024 bytes of input, got ${X}`);const M=Q?Y$($):EQ($),G=u0(M,Y-I0)+I0;return Q?TQ(G,J):q$(G,J)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var P0=BigInt(0),I0=BigInt(1),p$=BigInt(2),eG=BigInt(3),QJ=BigInt(4),Z4=BigInt(5),M4=BigInt(8),$U=BigInt(9),YU=BigInt(16);var ZU=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function V4($,Y){const Q=(J,Z)=>{const M=Z.negate();return J?M:Z},X=(J)=>{const Z=Math.ceil(Y/J)+1,M=2**(J-1);return{windows:Z,windowSize:M}};return{constTimeNegate:Q,unsafeLadder(J,Z){let M=$.ZERO,G=J;while(Z>WU){if(Z&MJ)M=M.add(G);G=G.double(),Z>>=MJ}return M},precomputeWindow(J,Z){const{windows:M,windowSize:G}=X(Z),U=[];let W=J,V=W;for(let O=0;O<M;O++){V=W,U.push(V);for(let D=1;D<G;D++)V=V.add(W),U.push(V);W=V.double()}return U},wNAF(J,Z,M){const{windows:G,windowSize:U}=X(J);let{ZERO:W,BASE:V}=$;const O=BigInt(2**J-1),D=2**J,H=BigInt(J);for(let K=0;K<G;K++){const R=K*U;let I=Number(M&O);if(M>>=H,I>U)I-=D,M+=MJ;const E=R,N=R+Math.abs(I)-1,f=K%2!==0,j=I<0;if(I===0)V=V.add(Q(f,Z[E]));else W=W.add(Q(j,Z[N]))}return{p:W,f:V}},wNAFCached(J,Z,M,G){const U=J._WINDOW_SIZE||1;let W=Z.get(J);if(!W){if(W=this.precomputeWindow(J,U),U!==1)Z.set(J,G(W))}return this.wNAF(U,W,M)}}}function GJ($){return XJ($.Fp),C$($,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...JJ($.n,$.nBitLength),...$,...{p:$.Fp.ORDER}})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var WU=BigInt(0),MJ=BigInt(1);var VU=function($){const Y=GJ($);C$(Y,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:Q,Fp:X,a:J}=Y;if(Q){if(!X.eql(J,X.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof Q!=="object"||typeof Q.beta!=="bigint"||typeof Q.splitScalar!=="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...Y})};function DU($){const Y=VU($),{Fp:Q}=Y,X=Y.toBytes||((K,R,I)=>{const E=R.toAffine();return P9(Uint8Array.from([4]),Q.toBytes(E.x),Q.toBytes(E.y))}),J=Y.fromBytes||((K)=>{const R=K.subarray(1),I=Q.fromBytes(R.subarray(0,Q.BYTES)),E=Q.fromBytes(R.subarray(Q.BYTES,2*Q.BYTES));return{x:I,y:E}});function Z(K){const{a:R,b:I}=Y,E=Q.sqr(K),N=Q.mul(E,K);return Q.add(Q.add(N,Q.mul(K,R)),I)}if(!Q.eql(Q.sqr(Y.Gy),Z(Y.Gx)))throw new Error("bad generator point: equation left != right");function M(K){return typeof K==="bigint"&&Q$<K&&K<Y.n}function G(K){if(!M(K))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function U(K){const{allowedPrivateKeyLengths:R,nByteLength:I,wrapPrivateKey:E,n:N}=Y;if(R&&typeof K!=="bigint"){if(K instanceof Uint8Array)K=m$(K);if(typeof K!=="string"||!R.includes(K.length))throw new Error("Invalid key");K=K.padStart(I*2,"0")}let f;try{f=typeof K==="bigint"?K:Y$(Y8("private key",K,I))}catch(j){throw new Error(`private key must be ${I} bytes, hex or bigint, not ${typeof K}`)}if(E)f=u0(f,N);return G(f),f}const W=new Map;function V(K){if(!(K instanceof O))throw new Error("ProjectivePoint expected")}class O{constructor(K,R,I){if(this.px=K,this.py=R,this.pz=I,K==null||!Q.isValid(K))throw new Error("x required");if(R==null||!Q.isValid(R))throw new Error("y required");if(I==null||!Q.isValid(I))throw new Error("z required")}static fromAffine(K){const{x:R,y:I}=K||{};if(!K||!Q.isValid(R)||!Q.isValid(I))throw new Error("invalid affine point");if(K instanceof O)throw new Error("projective point not allowed");const E=(N)=>Q.eql(N,Q.ZERO);if(E(R)&&E(I))return O.ZERO;return new O(R,I,Q.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(K){const R=Q.invertBatch(K.map((I)=>I.pz));return K.map((I,E)=>I.toAffine(R[E])).map(O.fromAffine)}static fromHex(K){const R=O.fromAffine(J(Y8("pointHex",K)));return R.assertValidity(),R}static fromPrivateKey(K){return O.BASE.multiply(U(K))}_setWindowSize(K){this._WINDOW_SIZE=K,W.delete(this)}assertValidity(){if(this.is0()){if(Y.allowInfinityPoint&&!Q.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:K,y:R}=this.toAffine();if(!Q.isValid(K)||!Q.isValid(R))throw new Error("bad point: x or y not FE");const I=Q.sqr(R),E=Z(K);if(!Q.eql(I,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:K}=this.toAffine();if(Q.isOdd)return!Q.isOdd(K);throw new Error("Field doesn't support isOdd")}equals(K){V(K);const{px:R,py:I,pz:E}=this,{px:N,py:f,pz:j}=K,A=Q.eql(Q.mul(R,j),Q.mul(N,E)),w=Q.eql(Q.mul(I,j),Q.mul(f,E));return A&&w}negate(){return new O(this.px,Q.neg(this.py),this.pz)}double(){const{a:K,b:R}=Y,I=Q.mul(R,z4),{px:E,py:N,pz:f}=this;let{ZERO:j,ZERO:A,ZERO:w}=Q,x=Q.mul(E,E),d=Q.mul(N,N),b=Q.mul(f,f),y=Q.mul(E,N);return y=Q.add(y,y),w=Q.mul(E,f),w=Q.add(w,w),j=Q.mul(K,w),A=Q.mul(I,b),A=Q.add(j,A),j=Q.sub(d,A),A=Q.add(d,A),A=Q.mul(j,A),j=Q.mul(y,j),w=Q.mul(I,w),b=Q.mul(K,b),y=Q.sub(x,b),y=Q.mul(K,y),y=Q.add(y,w),w=Q.add(x,x),x=Q.add(w,x),x=Q.add(x,b),x=Q.mul(x,y),A=Q.add(A,x),b=Q.mul(N,f),b=Q.add(b,b),x=Q.mul(b,y),j=Q.sub(j,x),w=Q.mul(b,d),w=Q.add(w,w),w=Q.add(w,w),new O(j,A,w)}add(K){V(K);const{px:R,py:I,pz:E}=this,{px:N,py:f,pz:j}=K;let{ZERO:A,ZERO:w,ZERO:x}=Q;const d=Y.a,b=Q.mul(Y.b,z4);let y=Q.mul(R,N),V0=Q.mul(I,f),K0=Q.mul(E,j),F0=Q.add(R,I),G0=Q.add(N,f);F0=Q.mul(F0,G0),G0=Q.add(y,V0),F0=Q.sub(F0,G0),G0=Q.add(R,E);let B=Q.add(N,j);return G0=Q.mul(G0,B),B=Q.add(y,K0),G0=Q.sub(G0,B),B=Q.add(I,E),A=Q.add(f,j),B=Q.mul(B,A),A=Q.add(V0,K0),B=Q.sub(B,A),x=Q.mul(d,G0),A=Q.mul(b,K0),x=Q.add(A,x),A=Q.sub(V0,x),x=Q.add(V0,x),w=Q.mul(A,x),V0=Q.add(y,y),V0=Q.add(V0,y),K0=Q.mul(d,K0),G0=Q.mul(b,G0),V0=Q.add(V0,K0),K0=Q.sub(y,K0),K0=Q.mul(d,K0),G0=Q.add(G0,K0),y=Q.mul(V0,G0),w=Q.add(w,y),y=Q.mul(B,G0),A=Q.mul(F0,A),A=Q.sub(A,y),y=Q.mul(F0,V0),x=Q.mul(B,x),x=Q.add(x,y),new O(A,w,x)}subtract(K){return this.add(K.negate())}is0(){return this.equals(O.ZERO)}wNAF(K){return H.wNAFCached(this,W,K,(R)=>{const I=Q.invertBatch(R.map((E)=>E.pz));return R.map((E,N)=>E.toAffine(I[N])).map(O.fromAffine)})}multiplyUnsafe(K){const R=O.ZERO;if(K===Q$)return R;if(G(K),K===W8)return this;const{endo:I}=Y;if(!I)return H.unsafeLadder(this,K);let{k1neg:E,k1:N,k2neg:f,k2:j}=I.splitScalar(K),A=R,w=R,x=this;while(N>Q$||j>Q$){if(N&W8)A=A.add(x);if(j&W8)w=w.add(x);x=x.double(),N>>=W8,j>>=W8}if(E)A=A.negate();if(f)w=w.negate();return w=new O(Q.mul(w.px,I.beta),w.py,w.pz),A.add(w)}multiply(K){G(K);let R=K,I,E;const{endo:N}=Y;if(N){const{k1neg:f,k1:j,k2neg:A,k2:w}=N.splitScalar(R);let{p:x,f:d}=this.wNAF(j),{p:b,f:y}=this.wNAF(w);x=H.constTimeNegate(f,x),b=H.constTimeNegate(A,b),b=new O(Q.mul(b.px,N.beta),b.py,b.pz),I=x.add(b),E=d.add(y)}else{const{p:f,f:j}=this.wNAF(R);I=f,E=j}return O.normalizeZ([I,E])[0]}multiplyAndAddUnsafe(K,R,I){const E=O.BASE,N=(j,A)=>A===Q$||A===W8||!j.equals(E)?j.multiplyUnsafe(A):j.multiply(A),f=N(this,R).add(N(K,I));return f.is0()?void 0:f}toAffine(K){const{px:R,py:I,pz:E}=this,N=this.is0();if(K==null)K=N?Q.ONE:Q.inv(E);const f=Q.mul(R,K),j=Q.mul(I,K),A=Q.mul(E,K);if(N)return{x:Q.ZERO,y:Q.ZERO};if(!Q.eql(A,Q.ONE))throw new Error("invZ was invalid");return{x:f,y:j}}isTorsionFree(){const{h:K,isTorsionFree:R}=Y;if(K===W8)return!0;if(R)return R(O,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:K,clearCofactor:R}=Y;if(K===W8)return this;if(R)return R(O,this);return this.multiplyUnsafe(Y.h)}toRawBytes(K=!0){return this.assertValidity(),X(O,this,K)}toHex(K=!0){return m$(this.toRawBytes(K))}}O.BASE=new O(Y.Gx,Y.Gy,Q.ONE),O.ZERO=new O(Q.ZERO,Q.ONE,Q.ZERO);const D=Y.nBitLength,H=V4(O,Y.endo?Math.ceil(D/2):D);return{CURVE:Y,ProjectivePoint:O,normPrivateKeyToScalar:U,weierstrassEquation:Z,isWithinCurveOrder:M}}var KU=function($){const Y=GJ($);return C$(Y,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...Y})};function O4($){const Y=KU($),{Fp:Q,n:X}=Y,J=Q.BYTES+1,Z=2*Q.BYTES+1;function M(B){return Q$<B&&B<Q.ORDER}function G(B){return u0(B,X)}function U(B){return NQ(B,X)}const{ProjectivePoint:W,normPrivateKeyToScalar:V,weierstrassEquation:O,isWithinCurveOrder:D}=DU({...Y,toBytes(B,h,c){const a=h.toAffine(),Q0=Q.toBytes(a.x),U0=P9;if(c)return U0(Uint8Array.from([h.hasEvenY()?2:3]),Q0);else return U0(Uint8Array.from([4]),Q0,Q.toBytes(a.y))},fromBytes(B){const h=B.length,c=B[0],a=B.subarray(1);if(h===J&&(c===2||c===3)){const Q0=Y$(a);if(!M(Q0))throw new Error("Point is not on curve");const U0=O(Q0);let S0=Q.sqrt(U0);const c0=(S0&W8)===W8;if((c&1)===1!==c0)S0=Q.neg(S0);return{x:Q0,y:S0}}else if(h===Z&&c===4){const Q0=Q.fromBytes(a.subarray(0,Q.BYTES)),U0=Q.fromBytes(a.subarray(Q.BYTES,2*Q.BYTES));return{x:Q0,y:U0}}else throw new Error(`Point of length ${h} was invalid. Expected ${J} compressed bytes or ${Z} uncompressed bytes`)}}),H=(B)=>m$(q$(B,Y.nByteLength));function K(B){const h=X>>W8;return B>h}function R(B){return K(B)?G(-B):B}const I=(B,h,c)=>Y$(B.slice(h,c));class E{constructor(B,h,c){this.r=B,this.s=h,this.recovery=c,this.assertValidity()}static fromCompact(B){const h=Y.nByteLength;return B=Y8("compactSignature",B,h*2),new E(I(B,0,h),I(B,h,2*h))}static fromDER(B){const{r:h,s:c}=u$.toSig(Y8("DER",B));return new E(h,c)}assertValidity(){if(!D(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!D(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(B){return new E(this.r,this.s,B)}recoverPublicKey(B){const{r:h,s:c,recovery:a}=this,Q0=x(Y8("msgHash",B));if(a==null||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const U0=a===2||a===3?h+Y.n:h;if(U0>=Q.ORDER)throw new Error("recovery id 2 or 3 invalid");const S0=(a&1)===0?"02":"03",c0=W.fromHex(S0+H(U0)),o8=U(U0),P$=G(-Q0*o8),L9=G(c*o8),j$=W.BASE.multiplyAndAddUnsafe(c0,P$,L9);if(!j$)throw new Error("point at infinify");return j$.assertValidity(),j$}hasHighS(){return K(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,G(-this.s),this.recovery):this}toDERRawBytes(){return c$(this.toDERHex())}toDERHex(){return u$.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return c$(this.toCompactHex())}toCompactHex(){return H(this.r)+H(this.s)}}const N={isValidPrivateKey(B){try{return V(B),!0}catch(h){return!1}},normPrivateKeyToScalar:V,randomPrivateKey:()=>{const B=ZJ(Y.n);return W4(Y.randomBytes(B),Y.n)},precompute(B=8,h=W.BASE){return h._setWindowSize(B),h.multiply(BigInt(3)),h}};function f(B,h=!0){return W.fromPrivateKey(B).toRawBytes(h)}function j(B){const h=B instanceof Uint8Array,c=typeof B==="string",a=(h||c)&&B.length;if(h)return a===J||a===Z;if(c)return a===2*J||a===2*Z;if(B instanceof W)return!0;return!1}function A(B,h,c=!0){if(j(B))throw new Error("first arg must be private key");if(!j(h))throw new Error("second arg must be public key");return W.fromHex(h).multiply(V(B)).toRawBytes(c)}const w=Y.bits2int||function(B){const h=Y$(B),c=B.length*8-Y.nBitLength;return c>0?h>>BigInt(c):h},x=Y.bits2int_modN||function(B){return G(w(B))},d=KY(Y.nBitLength);function b(B){if(typeof B!=="bigint")throw new Error("bigint expected");if(!(Q$<=B&&B<d))throw new Error(`bigint expected < 2^${Y.nBitLength}`);return q$(B,Y.nByteLength)}function y(B,h,c=V0){if(["recovered","canonical"].some((F$)=>(F$ in c)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:Q0}=Y;let{lowS:U0,prehash:S0,extraEntropy:c0}=c;if(U0==null)U0=!0;if(B=Y8("msgHash",B),S0)B=Y8("prehashed msgHash",a(B));const o8=x(B),P$=V(h),L9=[b(P$),b(o8)];if(c0!=null){const F$=c0===!0?Q0(Q.BYTES):c0;L9.push(Y8("extraEntropy",F$))}const j$=P9(...L9),rY=o8;function wX(F$){const R9=w(F$);if(!D(R9))return;const _Z=U(R9),h8=W.BASE.multiply(R9).toAffine(),H9=G(h8.x);if(H9===Q$)return;const tY=G(_Z*G(rY+H9*P$));if(tY===Q$)return;let xZ=(h8.x===H9?0:2)|Number(h8.y&W8),fZ=tY;if(U0&&K(tY))fZ=R(tY),xZ^=1;return new E(H9,fZ,xZ)}return{seed:j$,k2sig:wX}}const V0={lowS:Y.lowS,prehash:!1},K0={lowS:Y.lowS,prehash:!1};function F0(B,h,c=V0){const{seed:a,k2sig:Q0}=y(B,h,c),U0=Y;return $J(U0.hash.outputLen,U0.nByteLength,U0.hmac)(a,Q0)}W.BASE._setWindowSize(8);function G0(B,h,c,a=K0){const Q0=B;if(h=Y8("msgHash",h),c=Y8("publicKey",c),("strict"in a))throw new Error("options.strict was renamed to lowS");const{lowS:U0,prehash:S0}=a;let c0=void 0,o8;try{if(typeof Q0==="string"||Q0 instanceof Uint8Array)try{c0=E.fromDER(Q0)}catch(h8){if(!(h8 instanceof u$.Err))throw h8;c0=E.fromCompact(Q0)}else if(typeof Q0==="object"&&typeof Q0.r==="bigint"&&typeof Q0.s==="bigint"){const{r:h8,s:H9}=Q0;c0=new E(h8,H9)}else throw new Error("PARSE");o8=W.fromHex(c)}catch(h8){if(h8.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U0&&c0.hasHighS())return!1;if(S0)h=Y.hash(h);const{r:P$,s:L9}=c0,j$=x(h),rY=U(L9),wX=G(j$*rY),F$=G(P$*rY),R9=W.BASE.multiplyAndAddUnsafe(o8,wX,F$)?.toAffine();if(!R9)return!1;return G(R9.x)===P$}return{CURVE:Y,getPublicKey:f,getSharedSecret:A,sign:F0,verify:G0,ProjectivePoint:W,Signature:E,utils:N}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var{bytesToNumberBE:zU,hexToBytes:OU}=YJ,u$={Err:class $ extends Error{constructor(Y=""){super(Y)}},_parseInt($){const{Err:Y}=u$;if($.length<2||$[0]!==2)throw new Y("Invalid signature integer tag");const Q=$[1],X=$.subarray(2,Q+2);if(!Q||X.length!==Q)throw new Y("Invalid signature integer: wrong length");if(X[0]&128)throw new Y("Invalid signature integer: negative");if(X[0]===0&&!(X[1]&128))throw new Y("Invalid signature integer: unnecessary leading zero");return{d:zU(X),l:$.subarray(Q+2)}},toSig($){const{Err:Y}=u$,Q=typeof $==="string"?OU($):$;if(!(Q instanceof Uint8Array))throw new Error("ui8a expected");let X=Q.length;if(X<2||Q[0]!=48)throw new Y("Invalid signature tag");if(Q[1]!==X-2)throw new Y("Invalid signature: incorrect length");const{d:J,l:Z}=u$._parseInt(Q.subarray(2)),{d:M,l:G}=u$._parseInt(Z);if(G.length)throw new Y("Invalid signature: left bytes after parsing");return{r:J,s:M}},hexFromSig($){const Y=(W)=>Number.parseInt(W[0],16)&8?"00"+W:W,Q=(W)=>{const V=W.toString(16);return V.length&1?`0${V}`:V},X=Y(Q($.s)),J=Y(Q($.r)),Z=X.length/2,M=J.length/2,G=Q(Z),U=Q(M);return`30${Q(M+Z+4)}02${U}${J}02${G}${X}`}},Q$=BigInt(0),W8=BigInt(1),pz=BigInt(2),z4=BigInt(3),uz=BigInt(4);function LU($){return{hash:$,hmac:(Y,...Q)=>y$($,Y,X5(...Q)),randomBytes:J5}}function D4($,Y){const Q=(X)=>O4({...$,...LU(X)});return Object.freeze({...Q(Y),create:Q})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var HU=function($){const Y=R4,Q=BigInt(3),X=BigInt(6),J=BigInt(11),Z=BigInt(22),M=BigInt(23),G=BigInt(44),U=BigInt(88),W=$*$*$%Y,V=W*W*$%Y,O=Q8(V,Q,Y)*V%Y,D=Q8(O,Q,Y)*V%Y,H=Q8(D,UJ,Y)*W%Y,K=Q8(H,J,Y)*H%Y,R=Q8(K,Z,Y)*K%Y,I=Q8(R,G,Y)*R%Y,E=Q8(I,U,Y)*I%Y,N=Q8(E,G,Y)*R%Y,f=Q8(N,Q,Y)*V%Y,j=Q8(f,M,Y)*K%Y,A=Q8(j,X,Y)*W%Y,w=Q8(A,UJ,Y);if(!WJ.eql(WJ.sqr(w),$))throw new Error("Cannot find square root");return w};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var R4=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),K4=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),RU=BigInt(1),UJ=BigInt(2),L4=($,Y)=>($+Y/UJ)/Y,WJ=G4(R4,void 0,void 0,{sqrt:HU}),X$=D4({a:BigInt(0),b:BigInt(7),Fp:WJ,n:K4,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:($)=>{const Y=K4,Q=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),X=-RU*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),J=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Z=Q,M=BigInt("0x100000000000000000000000000000000"),G=L4(Z*$,Y),U=L4(-X*$,Y);let W=u0($-G*Q-U*J,Y),V=u0(-G*X-U*Z,Y);const O=W>M,D=V>M;if(O)W=Y-W;if(D)V=Y-V;if(W>M||V>M)throw new Error("splitScalar: Endomorphism failed, k="+$);return{k1neg:O,k1:W,k2neg:D,k2:V}}}},$$),tz=BigInt(0);var ez=X$.ProjectivePoint;var b8="0x0000000000000000000000000000000000000000";var LY="0x0000000000000000000000000000000000000000000000000000000000000000";var H4=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),I4=BigInt("1000000000000000000"),q4=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),C4=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),E4=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var T4="\u039E",SQ=`\x19Ethereum Signed Message:
`;var j4=function($){return q0(X0($),32)},N4=BigInt(0),S4=BigInt(1),B4=BigInt(2),A4=BigInt(27),P4=BigInt(28),BQ=BigInt(35),j9={};class Z0{#$;#Y;#Q;#X;get r(){return this.#$}set r($){z(a0($)===32,"invalid r","value",$),this.#$=q($)}get s(){return this.#Y}set s($){z(a0($)===32,"invalid s","value",$);const Y=q($);z(parseInt(Y.substring(0,3))<8,"non-canonical s","value",Y),this.#Y=Y}get v(){return this.#Q}set v($){const Y=_($,"value");z(Y===27||Y===28,"invalid v","v",$),this.#Q=Y}get networkV(){return this.#X}get legacyChainId(){const $=this.networkV;if($==null)return null;return Z0.getChainId($)}get yParity(){return this.v===27?0:1}get yParityAndS(){const $=C(this.s);if(this.yParity)$[0]|=128;return q($)}get compactSerialized(){return k([this.r,this.yParityAndS])}get serialized(){return k([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor($,Y,Q,X){h0($,j9,"Signature"),this.#$=Y,this.#Y=Q,this.#Q=X,this.#X=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const $=new Z0(j9,this.r,this.s,this.v);if(this.networkV)$.#X=this.networkV;return $}toJSON(){const $=this.networkV;return{_type:"signature",networkV:$!=null?$.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId($){const Y=S($,"v");if(Y==A4||Y==P4)return N4;return z(Y>=BQ,"invalid EIP-155 v","v",$),(Y-BQ)/B4}static getChainIdV($,Y){return S($)*B4+BigInt(35+Y-27)}static getNormalizedV($){const Y=S($);if(Y===N4||Y===A4)return 27;if(Y===S4||Y===P4)return 28;return z(Y>=BQ,"invalid v","v",$),Y&S4?27:28}static from($){function Y(U,W){z(U,W,"signature",$)}if($==null)return new Z0(j9,LY,LY,27);if(typeof $==="string"){const U=C($,"signature");if(U.length===64){const W=q(U.slice(0,32)),V=U.slice(32,64),O=V[0]&128?28:27;return V[0]&=127,new Z0(j9,W,q(V),O)}if(U.length===65){const W=q(U.slice(0,32)),V=U.slice(32,64);Y((V[0]&128)===0,"non-canonical s");const O=Z0.getNormalizedV(U[64]);return new Z0(j9,W,q(V),O)}Y(!1,"invalid raw signature length")}if($ instanceof Z0)return $.clone();const Q=$.r;Y(Q!=null,"missing r");const X=j4(Q),J=function(U,W){if(U!=null)return j4(U);if(W!=null){Y(g(W,32),"invalid yParityAndS");const V=C(W);return V[0]&=127,q(V)}Y(!1,"missing s")}($.s,$.yParityAndS);Y((C(J)[0]&128)==0,"non-canonical s");const{networkV:Z,v:M}=function(U,W,V){if(U!=null){const O=S(U);return{networkV:O>=BQ?O:void 0,v:Z0.getNormalizedV(O)}}if(W!=null)return Y(g(W,32),"invalid yParityAndS"),{v:C(W)[0]&128?28:27};if(V!=null){switch(_(V,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}Y(!1,"invalid yParity")}Y(!1,"missing v")}($.v,$.yParityAndS,$.yParity),G=new Z0(j9,X,J,M);if(Z)G.#X=Z;return Y($.yParity==null||_($.yParity,"sig.yParity")===G.yParity,"yParity mismatch"),Y($.yParityAndS==null||$.yParityAndS===G.yParityAndS,"yParityAndS mismatch"),G}}class E0{#$;constructor($){z(a0($)===32,"invalid private key","privateKey","[REDACTED]"),this.#$=q($)}get privateKey(){return this.#$}get publicKey(){return E0.computePublicKey(this.#$)}get compressedPublicKey(){return E0.computePublicKey(this.#$,!0)}sign($){z(a0($)===32,"invalid digest length","digest",$);const Y=X$.sign(O0($),O0(this.#$),{lowS:!0});return Z0.from({r:w0(Y.r,32),s:w0(Y.s,32),v:Y.recovery?28:27})}computeSharedSecret($){const Y=E0.computePublicKey($);return q(X$.getSharedSecret(O0(this.#$),C(Y),!1))}static computePublicKey($,Y){let Q=C($,"key");if(Q.length===32){const J=X$.getPublicKey(Q,!!Y);return q(J)}if(Q.length===64){const J=new Uint8Array(65);J[0]=4,J.set(Q,1),Q=J}const X=X$.ProjectivePoint.fromHex(Q);return q(X.toRawBytes(Y))}static recoverPublicKey($,Y){z(a0($)===32,"invalid digest length","digest",$);const Q=Z0.from(Y);let X=X$.Signature.fromCompact(O0(k([Q.r,Q.s])));X=X.addRecoveryBit(Q.yParity);const J=X.recoverPublicKey(O0($));return z(J!=null,"invalid signature for digest","signature",Y),"0x"+J.toHex(!1)}static addPoints($,Y,Q){const X=X$.ProjectivePoint.fromHex(E0.computePublicKey($).substring(2)),J=X$.ProjectivePoint.fromHex(E0.computePublicKey(Y).substring(2));return"0x"+X.add(J).toHex(!!Q)}}var F4=function(){S8.lock(),v.lock(),_0.lock(),x0.lock(),B8.lock(),A8.lock(),P8.lock(),C0.lock(),g$.lock(),x0.lock()};var w4=function($){$=$.toLowerCase();const Y=$.substring(2).split(""),Q=new Uint8Array(40);for(let J=0;J<40;J++)Q[J]=Y[J].charCodeAt(0);const X=C(v(Q));for(let J=0;J<40;J+=2){if(X[J>>1]>>4>=8)Y[J]=Y[J].toUpperCase();if((X[J>>1]&15)>=8)Y[J+1]=Y[J+1].toUpperCase()}return"0x"+Y.join("")},x4=function($){$=$.toUpperCase(),$=$.substring(4)+$.substring(0,2)+"00";let Y=$.split("").map((X)=>{return VJ[X]}).join("");while(Y.length>=_4){let X=Y.substring(0,_4);Y=parseInt(X,10)%97+Y.substring(X.length)}let Q=String(98-parseInt(Y,10)%97);while(Q.length<2)Q="0"+Q;return Q},EU=function($){$=$.toLowerCase();let Y=IU;for(let Q=0;Q<$.length;Q++)Y=Y*qU+CU[$[Q]];return Y};function P($){if(z(typeof $==="string","invalid address","address",$),$.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(!$.startsWith("0x"))$="0x"+$;const Y=w4($);return z(!$.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||Y===$,"bad address checksum","address",$),Y}if($.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){z($.substring(2,4)===x4($),"bad icap checksum","address",$);let Y=EU($.substring(4)).toString(16);while(Y.length<40)Y="0"+Y;return w4("0x"+Y)}z(!1,"invalid address","address",$)}function zJ($){let Y=BigInt(P($)).toString(36).toUpperCase();while(Y.length<30)Y="0"+Y;return"XE"+x4("XE00"+Y)+Y}var IU=BigInt(0),qU=BigInt(36),VJ={};for(let $=0;$<10;$++)VJ[String($)]=String($);for(let $=0;$<26;$++)VJ[String.fromCharCode(65+$)]=String(10+$);var _4=15,CU=function(){const $={};for(let Y=0;Y<36;Y++){const Q="0123456789abcdefghijklmnopqrstuvwxyz"[Y];$[Q]=BigInt(Y)}return $}();function d$($){const Y=P($.from);let X=S($.nonce,"tx.nonce").toString(16);if(X==="0")X="0x";else if(X.length%2)X="0x0"+X;else X="0x"+X;return P(r(v(i0([Y,X])),12))}function OJ($,Y,Q){const X=P($),J=C(Y,"salt"),Z=C(Q,"initCodeHash");return z(J.length===32,"salt must be 32 bytes","salt",Y),z(Z.length===32,"initCodeHash must be 32 bytes","initCodeHash",Q),P(r(v(k(["0xff",X,J,Z])),12))}function F9($){return $&&typeof $.getAddress==="function"}function KJ($){try{return P($),!0}catch(Y){}return!1}async function DJ($,Y){const Q=await Y;if(Q==null||Q==="0x0000000000000000000000000000000000000000")L(typeof $!=="string","unconfigured name","UNCONFIGURED_NAME",{value:$}),z(!1,"invalid AddressLike value; did not resolve to a value address","target",$);return P(Q)}function D0($,Y){if(typeof $==="string"){if($.match(/^0x[0-9a-f]{40}$/i))return P($);return L(Y!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),DJ($,Y.resolveName($))}else if(F9($))return DJ($,$.getAddress());else if($&&typeof $.then==="function")return DJ($,$);z(!1,"unsupported addressable value","target",$)}var F=function($,Y){let Q=!1;if(Y<0)Q=!0,Y*=-1;return new n(j8,`${Q?"":"u"}int${Y}`,$,{signed:Q,width:Y})},Y0=function($,Y){return new n(j8,`bytes${Y?Y:""}`,$,{size:Y})},j8={},f4=Symbol.for("_ethers_typed");class n{type;value;#$;_typedSymbol;constructor($,Y,Q,X){if(X==null)X=null;h0(j8,$,"Typed"),T(this,{_typedSymbol:f4,type:Y,value:Q}),this.#$=X,this.format()}format(){if(this.type==="array")throw new Error("");else if(this.type==="dynamicArray")throw new Error("");else if(this.type==="tuple")return`tuple(${this.value.map(($)=>$.format()).join(",")})`;return this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#$}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");if(this.#$===!0)return-1;if(this.#$===!1)return this.value.length;return null}static from($,Y){return new n(j8,$,Y)}static uint8($){return F($,8)}static uint16($){return F($,16)}static uint24($){return F($,24)}static uint32($){return F($,32)}static uint40($){return F($,40)}static uint48($){return F($,48)}static uint56($){return F($,56)}static uint64($){return F($,64)}static uint72($){return F($,72)}static uint80($){return F($,80)}static uint88($){return F($,88)}static uint96($){return F($,96)}static uint104($){return F($,104)}static uint112($){return F($,112)}static uint120($){return F($,120)}static uint128($){return F($,128)}static uint136($){return F($,136)}static uint144($){return F($,144)}static uint152($){return F($,152)}static uint160($){return F($,160)}static uint168($){return F($,168)}static uint176($){return F($,176)}static uint184($){return F($,184)}static uint192($){return F($,192)}static uint200($){return F($,200)}static uint208($){return F($,208)}static uint216($){return F($,216)}static uint224($){return F($,224)}static uint232($){return F($,232)}static uint240($){return F($,240)}static uint248($){return F($,248)}static uint256($){return F($,256)}static uint($){return F($,256)}static int8($){return F($,-8)}static int16($){return F($,-16)}static int24($){return F($,-24)}static int32($){return F($,-32)}static int40($){return F($,-40)}static int48($){return F($,-48)}static int56($){return F($,-56)}static int64($){return F($,-64)}static int72($){return F($,-72)}static int80($){return F($,-80)}static int88($){return F($,-88)}static int96($){return F($,-96)}static int104($){return F($,-104)}static int112($){return F($,-112)}static int120($){return F($,-120)}static int128($){return F($,-128)}static int136($){return F($,-136)}static int144($){return F($,-144)}static int152($){return F($,-152)}static int160($){return F($,-160)}static int168($){return F($,-168)}static int176($){return F($,-176)}static int184($){return F($,-184)}static int192($){return F($,-192)}static int200($){return F($,-200)}static int208($){return F($,-208)}static int216($){return F($,-216)}static int224($){return F($,-224)}static int232($){return F($,-232)}static int240($){return F($,-240)}static int248($){return F($,-248)}static int256($){return F($,-256)}static int($){return F($,-256)}static bytes1($){return Y0($,1)}static bytes2($){return Y0($,2)}static bytes3($){return Y0($,3)}static bytes4($){return Y0($,4)}static bytes5($){return Y0($,5)}static bytes6($){return Y0($,6)}static bytes7($){return Y0($,7)}static bytes8($){return Y0($,8)}static bytes9($){return Y0($,9)}static bytes10($){return Y0($,10)}static bytes11($){return Y0($,11)}static bytes12($){return Y0($,12)}static bytes13($){return Y0($,13)}static bytes14($){return Y0($,14)}static bytes15($){return Y0($,15)}static bytes16($){return Y0($,16)}static bytes17($){return Y0($,17)}static bytes18($){return Y0($,18)}static bytes19($){return Y0($,19)}static bytes20($){return Y0($,20)}static bytes21($){return Y0($,21)}static bytes22($){return Y0($,22)}static bytes23($){return Y0($,23)}static bytes24($){return Y0($,24)}static bytes25($){return Y0($,25)}static bytes26($){return Y0($,26)}static bytes27($){return Y0($,27)}static bytes28($){return Y0($,28)}static bytes29($){return Y0($,29)}static bytes30($){return Y0($,30)}static bytes31($){return Y0($,31)}static bytes32($){return Y0($,32)}static address($){return new n(j8,"address",$)}static bool($){return new n(j8,"bool",!!$)}static bytes($){return new n(j8,"bytes",$)}static string($){return new n(j8,"string",$)}static array($,Y){throw new Error("not implemented yet")}static tuple($,Y){throw new Error("not implemented yet")}static overrides($){return new n(j8,"overrides",Object.assign({},$))}static isTyped($){return $&&typeof $==="object"&&("_typedSymbol"in $)&&$._typedSymbol===f4}static dereference($,Y){if(n.isTyped($)){if($.type!==Y)throw new Error(`invalid type: expecetd ${Y}, got ${$.type}`);return $.value}return $}}class LJ extends A0{constructor($){super("address","address",$,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode($,Y){let Q=n.dereference(Y,"string");try{Q=P(Q)}catch(X){return this._throwError(X.message,Y)}return $.writeValue(Q)}decode($){return P(w0($.readValue(),20))}}class RJ extends A0{coder;constructor($){super($.name,$.type,"_",$.dynamic);this.coder=$}defaultValue(){return this.coder.defaultValue()}encode($,Y){return this.coder.encode($,Y)}decode($){return this.coder.decode($)}}function HJ($,Y,Q){let X=[];if(Array.isArray(Q))X=Q;else if(Q&&typeof Q==="object"){let U={};X=Y.map((W)=>{const V=W.localName;return L(V,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:W},value:Q}),L(!U[V],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:W},value:Q}),U[V]=!0,Q[V]})}else z(!1,"invalid tuple value","tuple",Q);z(Y.length===X.length,"types/value length mismatch","tuple",Q);let J=new N9,Z=new N9,M=[];Y.forEach((U,W)=>{let V=X[W];if(U.dynamic){let O=Z.length;U.encode(Z,V);let D=J.writeUpdatableValue();M.push((H)=>{D(H+O)})}else U.encode(J,V)}),M.forEach((U)=>{U(J.length)});let G=$.appendWriter(J);return G+=$.appendWriter(Z),G}function IJ($,Y){let Q=[],X=[],J=$.subReader(0);return Y.forEach((Z)=>{let M=null;if(Z.dynamic){let G=$.readIndex(),U=J.subReader(G);try{M=Z.decode(U)}catch(W){if(t(W,"BUFFER_OVERRUN"))throw W;M=W,M.baseType=Z.name,M.name=Z.localName,M.type=Z.type}}else try{M=Z.decode($)}catch(G){if(t(G,"BUFFER_OVERRUN"))throw G;M=G,M.baseType=Z.name,M.name=Z.localName,M.type=Z.type}if(M==void 0)throw new Error("investigate");Q.push(M),X.push(Z.localName||null)}),$8.fromItems(Q,X)}class qJ extends A0{coder;length;constructor($,Y,Q){const X=$.type+"["+(Y>=0?Y:"")+"]",J=Y===-1||$.dynamic;super("array",X,Q,J);T(this,{coder:$,length:Y})}defaultValue(){const $=this.coder.defaultValue(),Y=[];for(let Q=0;Q<this.length;Q++)Y.push($);return Y}encode($,Y){const Q=n.dereference(Y,"array");if(!Array.isArray(Q))this._throwError("expected array value",Q);let X=this.length;if(X===-1)X=Q.length,$.writeValue(Q.length);w$(Q.length,X,"coder array"+(this.localName?" "+this.localName:""));let J=[];for(let Z=0;Z<Q.length;Z++)J.push(this.coder);return HJ($,J,Q)}decode($){let Y=this.length;if(Y===-1)Y=$.readIndex(),L(Y*b0<=$.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:$.bytes,offset:Y*b0,length:$.dataLength});let Q=[];for(let X=0;X<Y;X++)Q.push(new RJ(this.coder));return IJ($,Q)}}class CJ extends A0{constructor($){super("bool","bool",$,!1)}defaultValue(){return!1}encode($,Y){const Q=n.dereference(Y,"bool");return $.writeValue(Q?1:0)}decode($){return!!$.readValue()}}class AQ extends A0{constructor($,Y){super($,$,Y,!0)}defaultValue(){return"0x"}encode($,Y){Y=O0(Y);let Q=$.writeValue(Y.length);return Q+=$.writeBytes(Y),Q}decode($){return $.readBytes($.readIndex(),!0)}}class EJ extends AQ{constructor($){super("bytes",$)}decode($){return q(super.decode($))}}class TJ extends A0{size;constructor($,Y){let Q="bytes"+String($);super(Q,Q,Y,!1);T(this,{size:$},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode($,Y){let Q=O0(n.dereference(Y,this.type));if(Q.length!==this.size)this._throwError("incorrect data length",Y);return $.writeBytes(Q)}decode($){return q($.readBytes(this.size))}}var TU=new Uint8Array([]);class NJ extends A0{constructor($){super("null","",$,!1)}defaultValue(){return null}encode($,Y){if(Y!=null)this._throwError("not null",Y);return $.writeBytes(TU)}decode($){return $.readBytes(0),null}}var NU=BigInt(0),SU=BigInt(1),BU=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class SJ extends A0{size;signed;constructor($,Y,Q){const X=(Y?"int":"uint")+$*8;super(X,X,Q,!1);T(this,{size:$,signed:Y},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode($,Y){let Q=S(n.dereference(Y,this.type)),X=t0(BU,b0*8);if(this.signed){let J=t0(X,this.size*8-1);if(Q>J||Q<-(J+SU))this._throwError("value out-of-bounds",Y);Q=r8(Q,8*b0)}else if(Q<NU||Q>t0(X,this.size*8))this._throwError("value out-of-bounds",Y);return $.writeValue(Q)}decode($){let Y=t0($.readValue(),this.size*8);if(this.signed)Y=a8(Y,this.size*8);return Y}}class BJ extends AQ{constructor($){super("string",$)}defaultValue(){return""}encode($,Y){return super.encode($,i(n.dereference(Y,"string")))}decode($){return k0(super.decode($))}}class w9 extends A0{coders;constructor($,Y){let Q=!1;const X=[];$.forEach((Z)=>{if(Z.dynamic)Q=!0;X.push(Z.type)});const J="tuple("+X.join(",")+")";super("tuple",J,Y,Q);T(this,{coders:Object.freeze($.slice())})}defaultValue(){const $=[];this.coders.forEach((Q)=>{$.push(Q.defaultValue())});const Y=this.coders.reduce((Q,X)=>{const J=X.localName;if(J){if(!Q[J])Q[J]=0;Q[J]++}return Q},{});return this.coders.forEach((Q,X)=>{let J=Q.localName;if(!J||Y[J]!==1)return;if(J==="length")J="_length";if($[J]!=null)return;$[J]=$[X]}),Object.freeze($)}encode($,Y){const Q=n.dereference(Y,"tuple");return HJ($,this.coders,Q)}decode($){return IJ($,this.coders)}}var AJ=function($,Y){return{address:P($),storageKeys:Y.map((Q,X)=>{return z(g(Q,32),"invalid slot",`storageKeys[${X}]`,Q),Q.toLowerCase()})}};function d0($){if(Array.isArray($))return $.map((Q,X)=>{if(Array.isArray(Q))return z(Q.length===2,"invalid slot set",`value[${X}]`,Q),AJ(Q[0],Q[1]);return z(Q!=null&&typeof Q==="object","invalid address-slot set","value",$),AJ(Q.address,Q.storageKeys)});z($!=null&&typeof $==="object","invalid access list","value",$);const Y=Object.keys($).map((Q)=>{const X=$[Q].reduce((J,Z)=>{return J[Z]=!0,J},{});return AJ(Q,Object.keys(X).sort())});return Y.sort((Q,X)=>Q.address.localeCompare(X.address)),Y}function _9($){return{address:P($.address),nonce:S($.nonce!=null?$.nonce:0),chainId:S($.chainId!=null?$.chainId:0),signature:Z0.from($.signature)}}function y8($){let Y;if(typeof $==="string")Y=E0.computePublicKey($,!1);else Y=$.publicKey;return P(v("0x"+Y.substring(4)).substring(26))}function v8($,Y){return y8(E0.recoverPublicKey($,Y))}var _U=function($){return{blobToKzgCommitment:(X)=>{if("computeBlobProof"in $){if(("blobToKzgCommitment"in $)&&typeof $.blobToKzgCommitment==="function")return C($.blobToKzgCommitment(q(X)))}else if(("blobToKzgCommitment"in $)&&typeof $.blobToKzgCommitment==="function")return C($.blobToKzgCommitment(X));if(("blobToKZGCommitment"in $)&&typeof $.blobToKZGCommitment==="function")return C($.blobToKZGCommitment(q(X)));z(!1,"unsupported KZG library","kzg",$)},computeBlobKzgProof:(X,J)=>{if(("computeBlobProof"in $)&&typeof $.computeBlobProof==="function")return C($.computeBlobProof(q(X),q(J)));if(("computeBlobKzgProof"in $)&&typeof $.computeBlobKzgProof==="function")return $.computeBlobKzgProof(X,J);if(("computeBlobKZGProof"in $)&&typeof $.computeBlobKZGProof==="function")return C($.computeBlobKZGProof(q(X),q(J)));z(!1,"unsupported KZG library","kzg",$)}}},h4=function($,Y){let Q=$.toString(16);while(Q.length<2)Q="0"+Q;return Q+=C0(Y).substring(4),"0x"+Q},x9=function($){if($==="0x")return null;return P($)},PQ=function($,Y){try{return d0($)}catch(Q){z(!1,Q.message,Y,$)}},xU=function($,Y){try{if(!Array.isArray($))throw new Error("authorizationList: invalid array");const Q=[];for(let X=0;X<$.length;X++){const J=$[X];if(!Array.isArray(J))throw new Error(`authorization[${X}]: invalid array`);if(J.length!==6)throw new Error(`authorization[${X}]: wrong length`);if(!J[1])throw new Error(`authorization[${X}]: null address`);Q.push({address:x9(J[1]),nonce:W0(J[2],"nonce"),chainId:W0(J[0],"chainId"),signature:Z0.from({yParity:l$(J[3],"yParity"),r:q0(J[4],32),s:q0(J[5],32)})})}return Q}catch(Q){z(!1,Q.message,Y,$)}},l$=function($,Y){if($==="0x")return 0;return _($,Y)},W0=function($,Y){if($==="0x")return f0;const Q=S($,Y);return z(Q<=wU,"value exceeds uint size",Y,Q),Q},o=function($,Y){const Q=S($,"value"),X=X0(Q);return z(X.length<=32,"value too large",`tx.${Y}`,Q),X},jQ=function($){return d0($).map((Y)=>[Y.address,Y.storageKeys])},fU=function($){return $.map((Y)=>{return[o(Y.chainId,"chainId"),Y.address,o(Y.nonce,"nonce"),o(Y.signature.yParity,"yParity"),Y.signature.r,Y.signature.s]})},hU=function($,Y){z(Array.isArray($),`invalid ${Y}`,"value",$);for(let Q=0;Q<$.length;Q++)z(g($[Q],32),"invalid ${ param } hash",`value[${Q}]`,$[Q]);return $},kU=function($){const Y=t8($);z(Array.isArray(Y)&&(Y.length===9||Y.length===6),"invalid field count for legacy transaction","data",$);const Q={type:0,nonce:l$(Y[0],"nonce"),gasPrice:W0(Y[1],"gasPrice"),gasLimit:W0(Y[2],"gasLimit"),to:x9(Y[3]),value:W0(Y[4],"value"),data:q(Y[5]),chainId:f0};if(Y.length===6)return Q;const X=W0(Y[6],"v"),J=W0(Y[7],"r"),Z=W0(Y[8],"s");if(J===f0&&Z===f0)Q.chainId=X;else{let M=(X-FU)/AU;if(M<f0)M=f0;Q.chainId=M,z(M!==f0||(X===PU||X===jU),"non-canonical legacy v","v",Y[6]),Q.signature=Z0.from({r:q0(Y[7],32),s:q0(Y[8],32),v:X})}return Q},bU=function($,Y){const Q=[o($.nonce,"nonce"),o($.gasPrice||0,"gasPrice"),o($.gasLimit,"gasLimit"),$.to||"0x",o($.value,"value"),$.data];let X=f0;if($.chainId!=f0)X=S($.chainId,"tx.chainId"),z(!Y||Y.networkV==null||Y.legacyChainId===X,"tx.chainId/sig.v mismatch","sig",Y);else if($.signature){const Z=$.signature.legacyChainId;if(Z!=null)X=Z}if(!Y){if(X!==f0)Q.push(X0(X)),Q.push("0x"),Q.push("0x");return i0(Q)}let J=BigInt(27+Y.yParity);if(X!==f0)J=Z0.getChainIdV(X,Y.v);else if(BigInt(Y.v)!==J)z(!1,"tx.chainId/sig.v mismatch","sig",Y);return Q.push(X0(J)),Q.push(X0(Y.r)),Q.push(X0(Y.s)),i0(Q)},FQ=function($,Y){let Q;try{if(Q=l$(Y[0],"yParity"),Q!==0&&Q!==1)throw new Error("bad yParity")}catch(M){z(!1,"invalid yParity","yParity",Y[0])}const X=q0(Y[1],32),J=q0(Y[2],32),Z=Z0.from({r:X,s:J,yParity:Q});$.signature=Z},yU=function($){const Y=t8(C($).slice(1));z(Array.isArray(Y)&&(Y.length===9||Y.length===12),"invalid field count for transaction type: 2","data",q($));const Q={type:2,chainId:W0(Y[0],"chainId"),nonce:l$(Y[1],"nonce"),maxPriorityFeePerGas:W0(Y[2],"maxPriorityFeePerGas"),maxFeePerGas:W0(Y[3],"maxFeePerGas"),gasPrice:null,gasLimit:W0(Y[4],"gasLimit"),to:x9(Y[5]),value:W0(Y[6],"value"),data:q(Y[7]),accessList:PQ(Y[8],"accessList")};if(Y.length===9)return Q;return FQ(Q,Y.slice(9)),Q},vU=function($,Y){const Q=[o($.chainId,"chainId"),o($.nonce,"nonce"),o($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),o($.maxFeePerGas||0,"maxFeePerGas"),o($.gasLimit,"gasLimit"),$.to||"0x",o($.value,"value"),$.data,jQ($.accessList||[])];if(Y)Q.push(o(Y.yParity,"yParity")),Q.push(X0(Y.r)),Q.push(X0(Y.s));return k(["0x02",i0(Q)])},gU=function($){const Y=t8(C($).slice(1));z(Array.isArray(Y)&&(Y.length===8||Y.length===11),"invalid field count for transaction type: 1","data",q($));const Q={type:1,chainId:W0(Y[0],"chainId"),nonce:l$(Y[1],"nonce"),gasPrice:W0(Y[2],"gasPrice"),gasLimit:W0(Y[3],"gasLimit"),to:x9(Y[4]),value:W0(Y[5],"value"),data:q(Y[6]),accessList:PQ(Y[7],"accessList")};if(Y.length===8)return Q;return FQ(Q,Y.slice(8)),Q},mU=function($,Y){const Q=[o($.chainId,"chainId"),o($.nonce,"nonce"),o($.gasPrice||0,"gasPrice"),o($.gasLimit,"gasLimit"),$.to||"0x",o($.value,"value"),$.data,jQ($.accessList||[])];if(Y)Q.push(o(Y.yParity,"recoveryParam")),Q.push(X0(Y.r)),Q.push(X0(Y.s));return k(["0x01",i0(Q)])},cU=function($){let Y=t8(C($).slice(1)),Q="3",X=null;if(Y.length===4&&Array.isArray(Y[0])){Q="3 (network format)";const Z=Y[1],M=Y[2],G=Y[3];z(Array.isArray(Z),"invalid network format: blobs not an array","fields[1]",Z),z(Array.isArray(M),"invalid network format: commitments not an array","fields[2]",M),z(Array.isArray(G),"invalid network format: proofs not an array","fields[3]",G),z(Z.length===M.length,"invalid network format: blobs/commitments length mismatch","fields",Y),z(Z.length===G.length,"invalid network format: blobs/proofs length mismatch","fields",Y),X=[];for(let U=0;U<Y[1].length;U++)X.push({data:Z[U],commitment:M[U],proof:G[U]});Y=Y[0]}z(Array.isArray(Y)&&(Y.length===11||Y.length===14),`invalid field count for transaction type: ${Q}`,"data",q($));const J={type:3,chainId:W0(Y[0],"chainId"),nonce:l$(Y[1],"nonce"),maxPriorityFeePerGas:W0(Y[2],"maxPriorityFeePerGas"),maxFeePerGas:W0(Y[3],"maxFeePerGas"),gasPrice:null,gasLimit:W0(Y[4],"gasLimit"),to:x9(Y[5]),value:W0(Y[6],"value"),data:q(Y[7]),accessList:PQ(Y[8],"accessList"),maxFeePerBlobGas:W0(Y[9],"maxFeePerBlobGas"),blobVersionedHashes:Y[10]};if(X)J.blobs=X;z(J.to!=null,`invalid address for transaction type: ${Q}`,"data",$),z(Array.isArray(J.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",$);for(let Z=0;Z<J.blobVersionedHashes.length;Z++)z(g(J.blobVersionedHashes[Z],32),`invalid blobVersionedHash at index ${Z}: must be length 32`,"data",$);if(Y.length===11)return J;return FQ(J,Y.slice(11)),J},pU=function($,Y,Q){const X=[o($.chainId,"chainId"),o($.nonce,"nonce"),o($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),o($.maxFeePerGas||0,"maxFeePerGas"),o($.gasLimit,"gasLimit"),$.to||b8,o($.value,"value"),$.data,jQ($.accessList||[]),o($.maxFeePerBlobGas||0,"maxFeePerBlobGas"),hU($.blobVersionedHashes||[],"blobVersionedHashes")];if(Y){if(X.push(o(Y.yParity,"yParity")),X.push(X0(Y.r)),X.push(X0(Y.s)),Q)return k(["0x03",i0([X,Q.map((J)=>J.data),Q.map((J)=>J.commitment),Q.map((J)=>J.proof)])])}return k(["0x03",i0(X)])},uU=function($){const Y=t8(C($).slice(1));z(Array.isArray(Y)&&(Y.length===10||Y.length===13),"invalid field count for transaction type: 4","data",q($));const Q={type:4,chainId:W0(Y[0],"chainId"),nonce:l$(Y[1],"nonce"),maxPriorityFeePerGas:W0(Y[2],"maxPriorityFeePerGas"),maxFeePerGas:W0(Y[3],"maxFeePerGas"),gasPrice:null,gasLimit:W0(Y[4],"gasLimit"),to:x9(Y[5]),value:W0(Y[6],"value"),data:q(Y[7]),accessList:PQ(Y[8],"accessList"),authorizationList:xU(Y[9],"authorizationList")};if(Y.length===10)return Q;return FQ(Q,Y.slice(10)),Q},dU=function($,Y){const Q=[o($.chainId,"chainId"),o($.nonce,"nonce"),o($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),o($.maxFeePerGas||0,"maxFeePerGas"),o($.gasLimit,"gasLimit"),$.to||"0x",o($.value,"value"),$.data,jQ($.accessList||[]),fU($.authorizationList||[])];if(Y)Q.push(o(Y.yParity,"yParity")),Q.push(X0(Y.r)),Q.push(X0(Y.s));return k(["0x04",i0(Q)])},f0=BigInt(0),AU=BigInt(2),PU=BigInt(27),jU=BigInt(28),FU=BigInt(35),wU=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),PJ=131072;class j0{#$;#Y;#Q;#X;#J;#M;#Z;#G;#z;#W;#K;#L;#U;#V;#O;#D;#H;get type(){return this.#$}set type($){switch($){case null:this.#$=null;break;case 0:case"legacy":this.#$=0;break;case 1:case"berlin":case"eip-2930":this.#$=1;break;case 2:case"london":case"eip-1559":this.#$=2;break;case 3:case"cancun":case"eip-4844":this.#$=3;break;case 4:case"pectra":case"eip-7702":this.#$=4;break;default:z(!1,"unsupported transaction type","type",$)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const $=this.#Y;if($==null&&this.type===3)return b8;return $}set to($){this.#Y=$==null?null:P($)}get nonce(){return this.#X}set nonce($){this.#X=_($,"value")}get gasLimit(){return this.#J}set gasLimit($){this.#J=S($)}get gasPrice(){const $=this.#M;if($==null&&(this.type===0||this.type===1))return f0;return $}set gasPrice($){this.#M=$==null?null:S($,"gasPrice")}get maxPriorityFeePerGas(){const $=this.#Z;if($==null){if(this.type===2||this.type===3)return f0;return null}return $}set maxPriorityFeePerGas($){this.#Z=$==null?null:S($,"maxPriorityFeePerGas")}get maxFeePerGas(){const $=this.#G;if($==null){if(this.type===2||this.type===3)return f0;return null}return $}set maxFeePerGas($){this.#G=$==null?null:S($,"maxFeePerGas")}get data(){return this.#Q}set data($){this.#Q=q($)}get value(){return this.#z}set value($){this.#z=S($,"value")}get chainId(){return this.#W}set chainId($){this.#W=S($)}get signature(){return this.#K||null}set signature($){this.#K=$==null?null:Z0.from($)}get accessList(){const $=this.#L||null;if($==null){if(this.type===1||this.type===2||this.type===3)return[];return null}return $}set accessList($){this.#L=$==null?null:d0($)}get authorizationList(){const $=this.#H||null;if($==null){if(this.type===4)return[]}return $}set authorizationList($){this.#H=$==null?null:$.map((Y)=>_9(Y))}get maxFeePerBlobGas(){const $=this.#U;if($==null&&this.type===3)return f0;return $}set maxFeePerBlobGas($){this.#U=$==null?null:S($,"maxFeePerBlobGas")}get blobVersionedHashes(){let $=this.#V;if($==null&&this.type===3)return[];return $}set blobVersionedHashes($){if($!=null){z(Array.isArray($),"blobVersionedHashes must be an Array","value",$),$=$.slice();for(let Y=0;Y<$.length;Y++)z(g($[Y],32),"invalid blobVersionedHash",`value[${Y}]`,$[Y])}this.#V=$}get blobs(){if(this.#D==null)return null;return this.#D.map(($)=>Object.assign({},$))}set blobs($){if($==null){this.#D=null;return}const Y=[],Q=[];for(let X=0;X<$.length;X++){const J=$[X];if(q8(J)){L(this.#O,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let Z=C(J);if(z(Z.length<=PJ,"blob is too large",`blobs[${X}]`,J),Z.length!==PJ){const U=new Uint8Array(PJ);U.set(Z),Z=U}const M=this.#O.blobToKzgCommitment(Z),G=q(this.#O.computeBlobKzgProof(Z,M));Y.push({data:q(Z),commitment:q(M),proof:G}),Q.push(h4(1,M))}else{const Z=q(J.commitment);Y.push({data:q(J.data),commitment:Z,proof:q(J.proof)}),Q.push(h4(1,Z))}}this.#D=Y,this.#V=Q}get kzg(){return this.#O}set kzg($){if($==null)this.#O=null;else this.#O=_U($)}constructor(){this.#$=null,this.#Y=null,this.#X=0,this.#J=f0,this.#M=null,this.#Z=null,this.#G=null,this.#Q="0x",this.#z=f0,this.#W=f0,this.#K=null,this.#L=null,this.#U=null,this.#V=null,this.#O=null,this.#D=null,this.#H=null}get hash(){if(this.signature==null)return null;return v(this.#R(!0,!1))}get unsignedHash(){return v(this.unsignedSerialized)}get from(){if(this.signature==null)return null;return v8(this.unsignedHash,this.signature)}get fromPublicKey(){if(this.signature==null)return null;return E0.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#R($,Y){L(!$||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const Q=$?this.signature:null;switch(this.inferType()){case 0:return bU(this,Q);case 1:return mU(this,Q);case 2:return vU(this,Q);case 3:return pU(this,Q,Y?this.blobs:null);case 4:return dU(this,Q)}L(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#R(!0,!0)}get unsignedSerialized(){return this.#R(!1,!1)}inferType(){const $=this.inferTypes();if($.indexOf(2)>=0)return 2;return $.pop()}inferTypes(){const $=this.gasPrice!=null,Y=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,Q=this.accessList!=null,X=this.#U!=null||this.#V;if(this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null)L(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this});L(!Y||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),L(this.type!==0||!Q,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const J=[];if(this.type!=null)J.push(this.type);else if(this.authorizationList&&this.authorizationList.length)J.push(4);else if(Y)J.push(2);else if($){if(J.push(1),!Q)J.push(0)}else if(Q)J.push(1),J.push(2);else if(X&&this.to)J.push(3);else J.push(0),J.push(1),J.push(2),J.push(3);return J.sort(),J}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return j0.from(this)}toJSON(){const $=(Y)=>{if(Y==null)return null;return Y.toString()};return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:$(this.gasLimit),gasPrice:$(this.gasPrice),maxPriorityFeePerGas:$(this.maxPriorityFeePerGas),maxFeePerGas:$(this.maxFeePerGas),value:$(this.value),chainId:$(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from($){if($==null)return new j0;if(typeof $==="string"){const Q=C($);if(Q[0]>=127)return j0.from(kU(Q));switch(Q[0]){case 1:return j0.from(gU(Q));case 2:return j0.from(yU(Q));case 3:return j0.from(cU(Q));case 4:return j0.from(uU(Q))}L(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const Y=new j0;if($.type!=null)Y.type=$.type;if($.to!=null)Y.to=$.to;if($.nonce!=null)Y.nonce=$.nonce;if($.gasLimit!=null)Y.gasLimit=$.gasLimit;if($.gasPrice!=null)Y.gasPrice=$.gasPrice;if($.maxPriorityFeePerGas!=null)Y.maxPriorityFeePerGas=$.maxPriorityFeePerGas;if($.maxFeePerGas!=null)Y.maxFeePerGas=$.maxFeePerGas;if($.maxFeePerBlobGas!=null)Y.maxFeePerBlobGas=$.maxFeePerBlobGas;if($.data!=null)Y.data=$.data;if($.value!=null)Y.value=$.value;if($.chainId!=null)Y.chainId=$.chainId;if($.signature!=null)Y.signature=Z0.from($.signature);if($.accessList!=null)Y.accessList=$.accessList;if($.authorizationList!=null)Y.authorizationList=$.authorizationList;if($.blobVersionedHashes!=null)Y.blobVersionedHashes=$.blobVersionedHashes;if($.kzg!=null)Y.kzg=$.kzg;if($.blobs!=null)Y.blobs=$.blobs;if($.hash!=null)z(Y.isSigned(),"unsigned transaction cannot define '.hash'","tx",$),z(Y.hash===$.hash,"hash mismatch","tx",$);if($.from!=null)z(Y.isSigned(),"unsigned transaction cannot define '.from'","tx",$),z(Y.from.toLowerCase()===($.from||"").toLowerCase(),"from mismatch","tx",$);return Y}}function f9($){return z(typeof $.address==="string","invalid address for hashAuthorization","auth.address",$),v(k(["0x05",i0([$.chainId!=null?X0($.chainId):"0x",P($.address),$.nonce!=null?X0($.nonce):"0x"])]))}function jJ($,Y){return v8(f9($),Y)}function y0($){return v(i($))}var iU=function($){let Y=0;function Q(){return $[Y++]<<8|$[Y++]}let X=Q(),J=1,Z=[0,1];for(let A=1;A<X;A++)Z.push(J+=Q());let M=Q(),G=Y;Y+=M;let U=0,W=0;function V(){if(U==0)W=W<<8|$[Y++],U=8;return W>>--U&1}const O=31,D=2**O,H=D>>>1,K=H>>1,R=D-1;let I=0;for(let A=0;A<O;A++)I=I<<1|V();let E=[],N=0,f=D;while(!0){let A=Math.floor(((I-N+1)*J-1)/f),w=0,x=X;while(x-w>1){let y=w+x>>>1;if(A<Z[y])x=y;else w=y}if(w==0)break;E.push(w);let d=N+Math.floor(f*Z[w]/J),b=N+Math.floor(f*Z[w+1]/J)-1;while(((d^b)&H)==0)I=I<<1&R|V(),d=d<<1&R,b=b<<1&R|1;while(d&~b&K)I=I&H|I<<1&R>>>1|V(),d=d<<1^H,b=(b^H)<<1|H|1;N=d,f=1+b-d}let j=X-4;return E.map((A)=>{switch(A-j){case 3:return j+65792+($[G++]<<16|$[G++]<<8|$[G++]);case 2:return j+256+($[G++]<<8|$[G++]);case 1:return j+$[G++];default:return A-1}})},nU=function($){let Y=0;return()=>$[Y++]},m4=function($){return nU(iU(oU($)))},oU=function($){let Y=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((J,Z)=>Y[J.charCodeAt(0)]=Z);let Q=$.length,X=new Uint8Array(6*Q>>3);for(let J=0,Z=0,M=0,G=0;J<Q;J++)if(G=G<<6|Y[$.charCodeAt(J)],M+=6,M>=8)X[Z++]=G>>(M-=8);return X},sU=function($){return $&1?~$>>1:$>>1},aU=function($,Y){let Q=Array($);for(let X=0,J=0;X<$;X++)Q[X]=J+=sU(Y());return Q},IY=function($,Y=0){let Q=[];while(!0){let X=$(),J=$();if(!J)break;Y+=X;for(let Z=0;Z<J;Z++)Q.push(Y+Z);Y+=J+1}return Q},c4=function($){return qY(()=>{let Y=IY($);if(Y.length)return Y})},p4=function($){let Y=[];while(!0){let Q=$();if(Q==0)break;Y.push(rU(Q,$))}while(!0){let Q=$()-1;if(Q<0)break;Y.push(tU(Q,$))}return Y.flat()},qY=function($){let Y=[];while(!0){let Q=$(Y.length);if(!Q)break;Y.push(Q)}return Y},u4=function($,Y,Q){let X=Array($).fill().map(()=>[]);for(let J=0;J<Y;J++)aU($,Q).forEach((Z,M)=>X[M].push(Z));return X},rU=function($,Y){let Q=1+Y(),X=Y(),J=qY(Y);return u4(J.length,1+$,Y).flatMap((M,G)=>{let[U,...W]=M;return Array(J[G]).fill().map((V,O)=>{let D=O*X;return[U+O*Q,W.map((H)=>H+D)]})})},tU=function($,Y){let Q=1+Y();return u4(Q,1+$,Y).map((J)=>[J[0],J.slice(1)])},eU=function($){let Y=[],Q=IY($);return J(X([]),[]),Y;function X(Z){let M=$(),G=qY(()=>{let U=IY($).map((W)=>Q[W]);if(U.length)return X(U)});return{S:M,B:G,Q:Z}}function J({S:Z,B:M},G,U){if(Z&4&&U===G[G.length-1])return;if(Z&2)U=G[G.length-1];if(Z&1)Y.push(G);for(let W of M)for(let V of W.Q)J(W,[...G,V],U)}},$1=function($){return $.toString(16).toUpperCase().padStart(2,"0")},d4=function($){return`{${$1($)}}`},Y1=function($){let Y=[];for(let Q=0,X=$.length;Q<X;){let J=$.codePointAt(Q);Q+=J<65536?1:2,Y.push(J)}return Y},b9=function($){let Q=$.length;if(Q<4096)return String.fromCodePoint(...$);let X=[];for(let J=0;J<Q;)X.push(String.fromCodePoint(...$.slice(J,J+=4096)));return X.join("")},Q1=function($,Y){let Q=$.length,X=Q-Y.length;for(let J=0;X==0&&J<Q;J++)X=$[J]-Y[J];return X},RY=function($){return $>>24&255},n4=function($){return $&16777215},W1=function(){let $=m4(X1);wJ=new Map(c4($).flatMap((Y,Q)=>Y.map((X)=>[X,Q+1<<24]))),y4=new Set(IY($)),_J=new Map,wQ=new Map;for(let[Y,Q]of p4($)){if(!y4.has(Y)&&Q.length==2){let[X,J]=Q,Z=wQ.get(X);if(!Z)Z=new Map,wQ.set(X,Z);Z.set(J,Y)}_J.set(Y,Q.reverse())}},o4=function($){return $>=CY&&$<Z1},V1=function($,Y){if($>=_Q&&$<M1&&Y>=xQ&&Y<G1)return CY+($-_Q)*hQ+(Y-xQ)*y9;else if(o4($)&&Y>fQ&&Y<U1&&($-CY)%y9==0)return $+(Y-fQ);else{let Q=wQ.get($);if(Q){if(Q=Q.get(Y),Q)return Q}return-1}},s4=function($){if(!wJ)W1();let Y=[],Q=[],X=!1;function J(Z){let M=wJ.get(Z);if(M)X=!0,Z|=M;Y.push(Z)}for(let Z of $)while(!0){if(Z<128)Y.push(Z);else if(o4(Z)){let M=Z-CY,G=M/hQ|0,U=M%hQ/y9|0,W=M%y9;if(J(_Q+G),J(xQ+U),W>0)J(fQ+W)}else{let M=_J.get(Z);if(M)Q.push(...M);else J(Z)}if(!Q.length)break;Z=Q.pop()}if(X&&Y.length>1){let Z=RY(Y[0]);for(let M=1;M<Y.length;M++){let G=RY(Y[M]);if(G==0||Z<=G){Z=G;continue}let U=M-1;while(!0){let W=Y[U+1];if(Y[U+1]=Y[U],Y[U]=W,!U)break;if(Z=RY(Y[--U]),Z<=G)break}Z=RY(Y[M])}}return Y},z1=function($){let Y=[],Q=[],X=-1,J=0;for(let Z of $){let M=RY(Z),G=n4(Z);if(X==-1)if(M==0)X=G;else Y.push(G);else if(J>0&&J>=M){if(M==0)Y.push(X,...Q),Q.length=0,X=G;else Q.push(G);J=M}else{let U=V1(X,G);if(U>=0)X=U;else if(J==0&&M==0)Y.push(X),X=G;else Q.push(G),J=M}}if(X>=0)Y.push(X,...Q);return Y},a4=function($){return s4($).map(n4)},O1=function($){return z1(s4($))},EY=function($,Y){return $.P.has(Y)||$.Q.has(Y)},kJ=function(){if(xJ)return;let $=m4(lU);const Y=()=>IY($),Q=()=>new Set(Y()),X=(V,O)=>O.forEach((D)=>V.add(D));xJ=new Map(p4($)),Y7=Q(),n$=Y(),fJ=new Set(Y().map((V)=>n$[V])),n$=new Set(n$),Q7=Q(),D1=Q();let J=c4($),Z=$();const M=()=>{let V=new Set;return Y().forEach((O)=>X(V,J[O])),X(V,Y()),V};k9=qY((V)=>{let O=qY($).map((D)=>D+96);if(O.length){let D=V>=Z;if(O[0]-=32,O=b9(O),D)O=`Restricted[${O}]`;let H=M(),K=M(),R=!$();return{N:O,P:H,Q:K,M:R,R:D}}}),FJ=Q(),h9=new Map;let G=Y().concat(kQ(FJ)).sort((V,O)=>V-O);G.forEach((V,O)=>{let D=$(),H=G[O]=D?G[O-D]:{V:[],M:new Map};if(H.V.push(V),!FJ.has(V))h9.set(V,H)});for(let{V,M:O}of new Set(h9.values())){let D=[];for(let K of V){let R=k9.filter((E)=>EY(E,K)),I=D.find(({G:E})=>R.some((N)=>E.has(N)));if(!I)I={G:new Set,V:[]},D.push(I);I.V.push(K),X(I.G,R)}let H=D.flatMap((K)=>kQ(K.G));for(let{G:K,V:R}of D){let I=new Set(H.filter((E)=>!K.has(E)));for(let E of R)O.set(E,I)}}i$=new Set;let U=new Set;const W=(V)=>i$.has(V)?U.add(V):i$.add(V);for(let V of k9){for(let O of V.P)W(O);for(let O of V.Q)W(O)}for(let V of i$)if(!h9.has(V)&&!U.has(V))h9.set(V,e4);X(i$,a4(i$)),g4=eU($).map((V)=>$7.from(V)).sort(Q1),hJ=new Map;for(let V of g4){let O=[hJ];for(let D of V){let H=O.map((K)=>{let R=K.get(D);if(!R)R=new Map,K.set(D,R);return R});if(D===t4)O.push(...H);else O=H}for(let D of O)D.V=V}},bJ=function($){return(X7($)?"":`${yJ(bQ([$]))} `)+d4($)},yJ=function($){return`"${$}"\u200E`},K1=function($){if($.length>=4&&$[2]==v4&&$[3]==v4)throw new Error(`invalid label extension: "${b9($.slice(0,4))}"`)},L1=function($){for(let Q=$.lastIndexOf(95);Q>0;)if($[--Q]!==95)throw new Error("underscore allowed only at start")},R1=function($){let Y=$[0],Q=k4.get(Y);if(Q)throw HY(`leading ${Q}`);let X=$.length,J=-1;for(let Z=1;Z<X;Z++){Y=$[Z];let M=k4.get(Y);if(M){if(J==Z)throw HY(`${Q} + ${M}`);J=Z+1,Q=M}}if(J==X)throw HY(`trailing ${Q}`)},bQ=function($,Y=Infinity,Q=d4){let X=[];if(H1($[0]))X.push("\u25CC");if($.length>Y)Y>>=1,$=[...$.slice(0,Y),8230,...$.slice(-Y)];let J=0,Z=$.length;for(let M=0;M<Z;M++){let G=$[M];if(X7(G))X.push(b9($.slice(J,M))),X.push(Q(G)),J=M+1}return X.push(b9($.slice(J,Z))),X.join("")},H1=function($){return kJ(),n$.has($)},X7=function($){return kJ(),Q7.has($)};var J7=function($){return E1(I1($,O1,S1))};var I1=function($,Y,Q){if(!$)return[];kJ();let X=0;return $.split(r4).map((J)=>{let Z=Y1(J),M={input:Z,offset:X};X+=Z.length+1;try{let G=M.tokens=N1(Z,Y,Q),U=G.length,W;if(!U)throw new Error("empty label");let V=M.output=G.flat();if(L1(V),!(M.emoji=U>1||G[0].is_emoji)&&V.every((D)=>D<128))K1(V),W="ASCII";else{let D=G.flatMap((H)=>H.is_emoji?[]:H);if(!D.length)W="Emoji";else{if(n$.has(V[0]))throw HY("leading combining mark");for(let R=1;R<U;R++){let I=G[R];if(!I.is_emoji&&n$.has(I[0]))throw HY(`emoji + combining mark: "${b9(G[R-1])} + ${bQ([I[0]])}"`)}R1(V);let H=kQ(new Set(D)),[K]=C1(H);T1(K,D),q1(K,H),W=K.N}}M.type=W}catch(G){M.error=G}return M})},q1=function($,Y){let Q,X=[];for(let J of Y){let Z=h9.get(J);if(Z===e4)return;if(Z){let M=Z.M.get(J);if(Q=Q?Q.filter((G)=>M.has(G)):kQ(M),!Q.length)return}else X.push(J)}if(Q){for(let J of Q)if(X.every((Z)=>EY(J,Z)))throw new Error(`whole-script confusable: ${$.N}/${J.N}`)}},C1=function($){let Y=k9;for(let Q of $){let X=Y.filter((J)=>EY(J,Q));if(!X.length)if(!k9.some((J)=>EY(J,Q)))throw Z7(Q);else throw M7(Y[0],Q);if(Y=X,X.length==1)break}return Y},E1=function($){return $.map(({input:Y,error:Q,output:X})=>{if(Q){let J=Q.message;throw new Error($.length==1?J:`Invalid label ${yJ(bQ(Y,63))}: ${J}`)}return b9(X)}).join(r4)},Z7=function($){return new Error(`disallowed character: ${bJ($)}`)},M7=function($,Y){let Q=bJ(Y),X=k9.find((J)=>J.P.has(Y));if(X)Q=`${X.N} ${Q}`;return new Error(`illegal mixture: ${$.N} + ${Q}`)},HY=function($){return new Error(`illegal placement: ${$}`)},T1=function($,Y){for(let Q of Y)if(!EY($,Q))throw M7($,Q);if($.M){let Q=a4(Y);for(let X=1,J=Q.length;X<J;X++)if(fJ.has(Q[X])){let Z=X+1;for(let M;Z<J&&fJ.has(M=Q[Z]);Z++)for(let G=X;G<Z;G++)if(Q[G]==M)throw new Error(`duplicate non-spacing marks: ${bJ(M)}`);if(Z-X>b4)throw new Error(`excessive non-spacing marks: ${yJ(bQ(Q.slice(X-1,Z)))} (${Z-X}/${b4})`);X=Z}}},N1=function($,Y,Q){let X=[],J=[];$=$.slice().reverse();while($.length){let Z=B1($);if(Z){if(J.length)X.push(Y(J)),J=[];X.push(Q(Z))}else{let M=$.pop();if(i$.has(M))J.push(M);else{let G=xJ.get(M);if(G)J.push(...G);else if(!Y7.has(M))throw Z7(M)}}}if(J.length)X.push(Y(J));return X},S1=function($){return $.filter((Y)=>Y!=t4)},B1=function($,Y){let Q=hJ,X,J=$.length;while(J){if(Q=Q.get($[--J]),!Q)break;let{V:Z}=Q;if(Z){if(X=Z,Y)Y.push(...$.slice(J).reverse());$.length=J}}return X};var lU="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",k4=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),b4=4,X1="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",CY=44032,_Q=4352,xQ=4449,fQ=4519,l4=19,i4=21,y9=28,hQ=i4*y9,J1=l4*hQ,Z1=CY+J1,M1=_Q+l4,G1=xQ+i4,U1=fQ+y9,wJ,y4,_J,wQ,v4=45;var r4=".",t4=65039,e4=1,kQ=($)=>Array.from($);class $7 extends Array{get is_emoji(){return!0}}var xJ,Y7,n$,fJ,Q7,D1,k9,FJ,h9,i$,g4,hJ;var G7=function($){return z($.length!==0,"invalid ENS name; empty component","comp",$),$},vJ=function($){const Y=i(yQ($)),Q=[];if($.length===0)return Q;let X=0;for(let J=0;J<Y.length;J++)if(Y[J]===46)Q.push(G7(Y.slice(X,J))),X=J+1;return z(X<Y.length,"invalid ENS name; empty component","name",$),Q.push(G7(Y.slice(X))),Q};function yQ($){try{if($.length===0)throw new Error("empty label");return J7($)}catch(Y){z(!1,`invalid ENS name (${Y.message})`,"name",$)}}function gJ($){try{return vJ($).length!==0}catch(Y){}return!1}function E$($){z(typeof $==="string","invalid ENS name; not a string","name",$),z($.length,"invalid ENS name (empty label)","name",$);let Y=U7;const Q=vJ($);while(Q.length)Y=v(k([Y,v(Q.pop())]));return q(Y)}function TY($,Y){const Q=Y!=null?Y:63;return z(Q<=255,"DNS encoded label cannot exceed 255","length",Q),q(k(vJ($).map((X)=>{z(X.length<=Q,`label ${JSON.stringify($)} exceeds ${Q} bytes`,"name",$);const J=new Uint8Array(X.length+1);return J.set(X,1),J[0]=J.length-1,J})))+"00"}var U7=new Uint8Array(32);U7.fill(0);function v9($){if(typeof $==="string")$=i($);return v(k([i(SQ),i(String($.length)),$]))}function NY($,Y){const Q=v9($);return v8(Q,Y)}var W7=function($,Y,Q){switch($){case"address":if(Q)return C(q0(Y,32));return C(P(Y));case"string":return i(Y);case"bytes":return C(Y);case"bool":if(Y=Y?"0x01":"0x00",Q)return C(q0(Y,32));return C(Y)}let X=$.match(P1);if(X){let J=X[1]==="int",Z=parseInt(X[2]||"256");if(z((!X[2]||X[2]===String(Z))&&Z%8===0&&Z!==0&&Z<=256,"invalid number type","type",$),Q)Z=256;if(J)Y=r8(Y,Z);return C(q0(X0(Y),Z/8))}if(X=$.match(A1),X){const J=parseInt(X[1]);if(z(String(J)===X[1]&&J!==0&&J<=32,"invalid bytes type","type",$),z(a0(Y)===J,`invalid value for ${$}`,"value",Y),Q)return C(s8(Y,32));return Y}if(X=$.match(j1),X&&Array.isArray(Y)){const J=X[1],Z=parseInt(X[2]||String(Y.length));z(Z===Y.length,`invalid array length for ${$}`,"value",Y);const M=[];return Y.forEach(function(G){M.push(W7(J,G,!0))}),C(k(M))}z(!1,"invalid type","type",$)};function SY($,Y){z($.length===Y.length,"wrong number of values; expected ${ types.length }","values",Y);const Q=[];return $.forEach(function(X,J){Q.push(W7(X,Y[J]))}),q(k(Q))}function mJ($,Y){return v(SY($,Y))}function cJ($,Y){return C0(SY($,Y))}var A1=new RegExp("^bytes([0-9]+)$"),P1=new RegExp("^(u?int)([0-9]*)$"),j1=new RegExp("^(.*)\\[([0-9]*)\\]$");var _1=function($){const Y=C($),Q=Y.length%32;if(Q)return k([Y,D7.slice(Q)]);return q(Y)},z7=function($){return function(Y){return z(typeof Y==="string",`invalid domain value for ${JSON.stringify($)}`,`domain.${$}`,Y),Y}},uJ=function($){{const Y=$.match(/^(u?)int(\d+)$/);if(Y){const Q=Y[1]==="",X=parseInt(Y[2]);z(X%8===0&&X!==0&&X<=256&&Y[2]===String(X),"invalid numeric width","type",$);const J=t0(w1,Q?X-1:X),Z=Q?(J+L7)*F1:K7;return function(M){const G=S(M,"value");return z(G>=Z&&G<=J,`value out-of-bounds for ${$}`,"value",G),w0(Q?r8(G,256):G,32)}}}{const Y=$.match(/^bytes(\d+)$/);if(Y){const Q=parseInt(Y[1]);return z(Q!==0&&Q<=32&&Y[1]===String(Q),"invalid bytes width","type",$),function(X){const J=C(X);return z(J.length===Q,`invalid length for ${$}`,"value",X),_1(X)}}}switch($){case"address":return function(Y){return q0(P(Y),32)};case"bool":return function(Y){return!Y?f1:x1};case"bytes":return function(Y){return v(Y)};case"string":return function(Y){return y0(Y)}}return null},O7=function($,Y){return`${$}(${Y.map(({name:Q,type:X})=>X+" "+Q).join(",")})`},vQ=function($){const Y=$.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);if(Y)return{base:Y[1],index:Y[2]+Y[4],array:{base:Y[1],prefix:Y[1]+Y[2],count:Y[5]?parseInt(Y[5]):-1}};return{base:$}};function dJ($,Y,Q,X){return v8(T0.hash($,Y,Q),X)}var D7=new Uint8Array(32);D7.fill(0);var F1=BigInt(-1),K7=BigInt(0),L7=BigInt(1),w1=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),x1=w0(L7,32),f1=w0(K7,32),V7={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},pJ=["name","version","chainId","verifyingContract","salt"],h1={name:z7("name"),version:z7("version"),chainId:function($){const Y=S($,"domain.chainId");if(z(Y>=0,"invalid chain ID","domain.chainId",$),Number.isSafeInteger(Y))return Number(Y);return B0(Y)},verifyingContract:function($){try{return P($).toLowerCase()}catch(Y){}z(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",$)},salt:function($){const Y=C($,"domain.salt");return z(Y.length===32,'invalid domain value "salt"',"domain.salt",$),q(Y)}};class T0{primaryType;#$;get types(){return JSON.parse(this.#$)}#Y;#Q;constructor($){this.#Y=new Map,this.#Q=new Map;const Y=new Map,Q=new Map,X=new Map,J={};Object.keys($).forEach((G)=>{J[G]=$[G].map(({name:U,type:W})=>{let{base:V,index:O}=vQ(W);if(V==="int"&&!$.int)V="int256";if(V==="uint"&&!$.uint)V="uint256";return{name:U,type:V+(O||"")}}),Y.set(G,new Set),Q.set(G,[]),X.set(G,new Set)}),this.#$=JSON.stringify(J);for(let G in J){const U=new Set;for(let W of J[G]){z(!U.has(W.name),`duplicate variable name ${JSON.stringify(W.name)} in ${JSON.stringify(G)}`,"types",$),U.add(W.name);const V=vQ(W.type).base;if(z(V!==G,`circular type reference to ${JSON.stringify(V)}`,"types",$),uJ(V))continue;z(Q.has(V),`unknown type ${JSON.stringify(V)}`,"types",$),Q.get(V).push(G),Y.get(G).add(V)}}const Z=Array.from(Q.keys()).filter((G)=>Q.get(G).length===0);z(Z.length!==0,"missing primary type","types",$),z(Z.length===1,`ambiguous primary types or unused types: ${Z.map((G)=>JSON.stringify(G)).join(", ")}`,"types",$),T(this,{primaryType:Z[0]});function M(G,U){z(!U.has(G),`circular type reference to ${JSON.stringify(G)}`,"types",$),U.add(G);for(let W of Y.get(G)){if(!Q.has(W))continue;M(W,U);for(let V of U)X.get(V).add(W)}U.delete(G)}M(this.primaryType,new Set);for(let[G,U]of X){const W=Array.from(U);W.sort(),this.#Y.set(G,O7(G,J[G])+W.map((V)=>O7(V,J[V])).join(""))}}getEncoder($){let Y=this.#Q.get($);if(!Y)Y=this.#X($),this.#Q.set($,Y);return Y}#X($){{const X=uJ($);if(X)return X}const Y=vQ($).array;if(Y){const X=Y.prefix,J=this.getEncoder(X);return(Z)=>{z(Y.count===-1||Y.count===Z.length,`array length mismatch; expected length ${Y.count}`,"value",Z);let M=Z.map(J);if(this.#Y.has(X))M=M.map(v);return v(k(M))}}const Q=this.types[$];if(Q){const X=y0(this.#Y.get($));return(J)=>{const Z=Q.map(({name:M,type:G})=>{const U=this.getEncoder(G)(J[M]);if(this.#Y.has(G))return v(U);return U});return Z.unshift(X),k(Z)}}z(!1,`unknown type: ${$}`,"type",$)}encodeType($){const Y=this.#Y.get($);return z(Y,`unknown type: ${JSON.stringify($)}`,"name",$),Y}encodeData($,Y){return this.getEncoder($)(Y)}hashStruct($,Y){return v(this.encodeData($,Y))}encode($){return this.encodeData(this.primaryType,$)}hash($){return this.hashStruct(this.primaryType,$)}_visit($,Y,Q){if(uJ($))return Q($,Y);const X=vQ($).array;if(X)return z(X.count===-1||X.count===Y.length,`array length mismatch; expected length ${X.count}`,"value",Y),Y.map((Z)=>this._visit(X.prefix,Z,Q));const J=this.types[$];if(J)return J.reduce((Z,{name:M,type:G})=>{return Z[M]=this._visit(G,Y[M],Q),Z},{});z(!1,`unknown type: ${$}`,"type",$)}visit($,Y){return this._visit(this.primaryType,$,Y)}static from($){return new T0($)}static getPrimaryType($){return T0.from($).primaryType}static hashStruct($,Y,Q){return T0.from(Y).hashStruct($,Q)}static hashDomain($){const Y=[];for(let Q in $){if($[Q]==null)continue;const X=V7[Q];z(X,`invalid typed-data domain key: ${JSON.stringify(Q)}`,"domain",$),Y.push({name:Q,type:X})}return Y.sort((Q,X)=>{return pJ.indexOf(Q.name)-pJ.indexOf(X.name)}),T0.hashStruct("EIP712Domain",{EIP712Domain:Y},$)}static encode($,Y,Q){return k(["0x1901",T0.hashDomain($),T0.from(Y).hash(Q)])}static hash($,Y,Q){return v(T0.encode($,Y,Q))}static async resolveNames($,Y,Q,X){$=Object.assign({},$);for(let M in $)if($[M]==null)delete $[M];const J={};if($.verifyingContract&&!g($.verifyingContract,20))J[$.verifyingContract]="0x";const Z=T0.from(Y);Z.visit(Q,(M,G)=>{if(M==="address"&&!g(G,20))J[G]="0x";return G});for(let M in J)J[M]=await X(M);if($.verifyingContract&&J[$.verifyingContract])$.verifyingContract=J[$.verifyingContract];return Q=Z.visit(Q,(M,G)=>{if(M==="address"&&J[G])return J[G];return G}),{domain:$,value:Q}}static getPayload($,Y,Q){T0.hashDomain($);const X={},J=[];pJ.forEach((G)=>{const U=$[G];if(U==null)return;X[G]=h1[G](U),J.push({name:G,type:V7[G]})});const Z=T0.from(Y);Y=Z.types;const M=Object.assign({},Y);return z(M.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",Y),M.EIP712Domain=J,Z.encode(Q),{types:M,domain:X,primaryType:Z.primaryType,message:Z.visit(Q,(G,U)=>{if(G.match(/^bytes(\d*)/))return q(C(U));if(G.match(/^u?int/))return S(U).toString();switch(G){case"address":return U.toLowerCase();case"bool":return!!U;case"string":return z(typeof U==="string","invalid string","value",U),U}z(!1,"unsupported type","type",G)})}}}var n0=function($){const Y=new Set;return $.forEach((Q)=>Y.add(Q)),Object.freeze(Y)},T$=function($){const Y=[],Q=(M)=>{const G=Z<$.length?JSON.stringify($[Z]):"$EOI";throw new Error(`invalid token ${G} at ${Z}: ${M}`)};let X=[],J=[],Z=0;while(Z<$.length){let M=$.substring(Z),G=M.match(u1);if(G)Z+=G[1].length,M=$.substring(Z);const U={depth:X.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:Z,value:-1};Y.push(U);let W=p1[M[0]]||"";if(W){if(U.type=W,U.text=M[0],Z++,W==="OPEN_PAREN")X.push(Y.length-1),J.push(Y.length-1);else if(W=="CLOSE_PAREN"){if(X.length===0)Q("no matching open bracket");U.match=X.pop(),Y[U.match].match=Y.length-1,U.depth--,U.linkBack=J.pop(),Y[U.linkBack].linkNext=Y.length-1}else if(W==="COMMA")U.linkBack=J.pop(),Y[U.linkBack].linkNext=Y.length-1,J.push(Y.length-1);else if(W==="OPEN_BRACKET")U.type="BRACKET";else if(W==="CLOSE_BRACKET"){let V=Y.pop().text;if(Y.length>0&&Y[Y.length-1].type==="NUMBER"){const O=Y.pop().text;V=O+V,Y[Y.length-1].value=_(O)}if(Y.length===0||Y[Y.length-1].type!=="BRACKET")throw new Error("missing opening bracket");Y[Y.length-1].text+=V}continue}if(G=M.match(l1),G){if(U.text=G[1],Z+=U.text.length,c1.has(U.text)){U.type="KEYWORD";continue}if(U.text.match(w7)){U.type="TYPE";continue}U.type="ID";continue}if(G=M.match(d1),G){U.text=G[1],U.type="NUMBER",Z+=U.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(M[0])} at position ${Z}`)}return new z8(Y.map((M)=>Object.freeze(M)))},R7=function($,Y){let Q=[];for(let X in Y.keys())if($.has(X))Q.push(X);if(Q.length>1)throw new Error(`conflicting types: ${Q.join(", ")}`)},gQ=function($,Y){if(Y.peekKeyword(P7)){const Q=Y.pop().text;if(Q!==$)throw new Error(`expected ${$}, got ${Q}`)}return Y.popType("ID")},M$=function($,Y){const Q=new Set;while(!0){const X=$.peekType("KEYWORD");if(X==null||Y&&!Y.has(X))break;if($.pop(),Q.has(X))throw new Error(`duplicate keywords: ${JSON.stringify(X)}`);Q.add(X)}return Object.freeze(Q)},_7=function($){let Y=M$($,y1);if(R7(Y,n0("constant payable nonpayable".split(" "))),R7(Y,n0("pure view payable nonpayable".split(" "))),Y.has("view"))return"view";if(Y.has("pure"))return"pure";if(Y.has("payable"))return"payable";if(Y.has("nonpayable"))return"nonpayable";if(Y.has("constant"))return"view";return"nonpayable"},J$=function($,Y){return $.popParams().map((Q)=>J0.from(Q,Y))},x7=function($){if($.peekType("AT")){if($.pop(),$.peekType("NUMBER"))return S($.pop().text);throw new Error("invalid gas")}return null},o$=function($){if($.length)throw new Error(`unexpected tokens at offset ${$.offset}: ${$.toString()}`)},H7=function($){const Y=$.match(w7);if(z(Y,"invalid type","type",$),$==="uint")return"uint256";if($==="int")return"int256";if(Y[2]){const Q=parseInt(Y[2]);z(Q!==0&&Q<=32,"invalid bytes length","type",$)}else if(Y[3]){const Q=parseInt(Y[3]);z(Q!==0&&Q<=256&&Q%8===0,"invalid numeric width","type",$)}return $},BY=function($,Y){return"("+Y.map((Q)=>Q.format($)).join($==="full"?", ":",")+")"},k1="external public payable override",b1=n0(k1.split(" ")),B7="constant external internal payable private public pure view override",y1=n0(B7.split(" ")),A7="constructor error event fallback function receive struct",P7=n0(A7.split(" ")),j7="calldata memory storage payable indexed",v1=n0(j7.split(" ")),g1="tuple returns",m1=[A7,j7,g1,B7].join(" "),c1=n0(m1.split(" ")),p1={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},u1=new RegExp("^(\\s*)"),d1=new RegExp("^([0-9]+)"),l1=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),F7=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),w7=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class z8{#$;#Y;get offset(){return this.#$}get length(){return this.#Y.length-this.#$}constructor($){this.#$=0,this.#Y=$.slice()}clone(){return new z8(this.#Y)}reset(){this.#$=0}#Q($=0,Y=0){return new z8(this.#Y.slice($,Y).map((Q)=>{return Object.freeze(Object.assign({},Q,{match:Q.match-$,linkBack:Q.linkBack-$,linkNext:Q.linkNext-$}))}))}popKeyword($){const Y=this.peek();if(Y.type!=="KEYWORD"||!$.has(Y.text))throw new Error(`expected keyword ${Y.text}`);return this.pop().text}popType($){if(this.peek().type!==$){const Y=this.peek();throw new Error(`expected ${$}; got ${Y.type} ${JSON.stringify(Y.text)}`)}return this.pop().text}popParen(){const $=this.peek();if($.type!=="OPEN_PAREN")throw new Error("bad start");const Y=this.#Q(this.#$+1,$.match+1);return this.#$=$.match+1,Y}popParams(){const $=this.peek();if($.type!=="OPEN_PAREN")throw new Error("bad start");const Y=[];while(this.#$<$.match-1){const Q=this.peek().linkNext;Y.push(this.#Q(this.#$+1,Q)),this.#$=Q}return this.#$=$.match+1,Y}peek(){if(this.#$>=this.#Y.length)throw new Error("out-of-bounds");return this.#Y[this.#$]}peekKeyword($){const Y=this.peekType("KEYWORD");return Y!=null&&$.has(Y)?Y:null}peekType($){if(this.length===0)return null;const Y=this.peek();return Y.type===$?Y.text:null}pop(){const $=this.peek();return this.#$++,$}toString(){const $=[];for(let Y=this.#$;Y<this.#Y.length;Y++){const Q=this.#Y[Y];$.push(`${Q.type}:${Q.text}`)}return`<TokenString ${$.join(" ")}>`}}var i1=new RegExp(/^(.*)\[([0-9]*)\]$/),L0={},r0=Symbol.for("_ethers_internal"),I7="_ParamTypeInternal",q7="_ErrorInternal",C7="_EventInternal",E7="_ConstructorInternal",T7="_FallbackInternal",N7="_FunctionInternal",S7="_StructInternal";class J0{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor($,Y,Q,X,J,Z,M,G){if(h0($,L0,"ParamType"),Object.defineProperty(this,r0,{value:I7}),Z)Z=Object.freeze(Z.slice());if(X==="array"){if(M==null||G==null)throw new Error("")}else if(M!=null||G!=null)throw new Error("");if(X==="tuple"){if(Z==null)throw new Error("")}else if(Z!=null)throw new Error("");T(this,{name:Y,type:Q,baseType:X,indexed:J,components:Z,arrayLength:M,arrayChildren:G})}format($){if($==null)$="sighash";if($==="json"){const Q=this.name||"";if(this.isArray()){const J=JSON.parse(this.arrayChildren.format("json"));return J.name=Q,J.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(J)}const X={type:this.baseType==="tuple"?"tuple":this.type,name:Q};if(typeof this.indexed==="boolean")X.indexed=this.indexed;if(this.isTuple())X.components=this.components.map((J)=>JSON.parse(J.format($)));return JSON.stringify(X)}let Y="";if(this.isArray())Y+=this.arrayChildren.format($),Y+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`;else if(this.isTuple())Y+="("+this.components.map((Q)=>Q.format($)).join($==="full"?", ":",")+")";else Y+=this.type;if($!=="sighash"){if(this.indexed===!0)Y+=" indexed";if($==="full"&&this.name)Y+=" "+this.name}return Y}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk($,Y){if(this.isArray()){if(!Array.isArray($))throw new Error("invalid array value");if(this.arrayLength!==-1&&$.length!==this.arrayLength)throw new Error("array is wrong length");const Q=this;return $.map((X)=>Q.arrayChildren.walk(X,Y))}if(this.isTuple()){if(!Array.isArray($))throw new Error("invalid tuple value");if($.length!==this.components.length)throw new Error("array is wrong length");const Q=this;return $.map((X,J)=>Q.components[J].walk(X,Y))}return Y(this.type,$)}#$($,Y,Q,X){if(this.isArray()){if(!Array.isArray(Y))throw new Error("invalid array value");if(this.arrayLength!==-1&&Y.length!==this.arrayLength)throw new Error("array is wrong length");const Z=this.arrayChildren,M=Y.slice();M.forEach((G,U)=>{Z.#$($,G,Q,(W)=>{M[U]=W})}),X(M);return}if(this.isTuple()){const Z=this.components;let M;if(Array.isArray(Y))M=Y.slice();else{if(Y==null||typeof Y!=="object")throw new Error("invalid tuple value");M=Z.map((G)=>{if(!G.name)throw new Error("cannot use object value with unnamed components");if(!(G.name in Y))throw new Error(`missing value for component ${G.name}`);return Y[G.name]})}if(M.length!==this.components.length)throw new Error("array is wrong length");M.forEach((G,U)=>{Z[U].#$($,G,Q,(W)=>{M[U]=W})}),X(M);return}const J=Q(this.type,Y);if(J.then)$.push(async function(){X(await J)}());else X(J)}async walkAsync($,Y){const Q=[],X=[$];if(this.#$(Q,$,Y,(J)=>{X[0]=J}),Q.length)await Promise.all(Q);return X[0]}static from($,Y){if(J0.isParamType($))return $;if(typeof $==="string")try{return J0.from(T$($),Y)}catch(M){z(!1,"invalid param type","obj",$)}else if($ instanceof z8){let M="",G="",U=null;if(M$($,n0(["tuple"])).has("tuple")||$.peekType("OPEN_PAREN"))G="tuple",U=$.popParams().map((K)=>J0.from(K)),M=`tuple(${U.map((K)=>K.format()).join(",")})`;else M=H7($.popType("TYPE")),G=M;let W=null,V=null;while($.length&&$.peekType("BRACKET")){const K=$.pop();W=new J0(L0,"",M,G,null,U,V,W),V=K.value,M+=K.text,G="array",U=null}let O=null;if(M$($,v1).has("indexed")){if(!Y)throw new Error("");O=!0}const H=$.peekType("ID")?$.pop().text:"";if($.length)throw new Error("leftover tokens");return new J0(L0,H,M,G,O,U,V,W)}const Q=$.name;z(!Q||typeof Q==="string"&&Q.match(F7),"invalid name","obj.name",Q);let X=$.indexed;if(X!=null)z(Y,"parameter cannot be indexed","obj.indexed",$.indexed),X=!!X;let J=$.type,Z=J.match(i1);if(Z){const M=parseInt(Z[2]||"-1"),G=J0.from({type:Z[1],components:$.components});return new J0(L0,Q||"",J,"array",X,null,M,G)}if(J==="tuple"||J.startsWith("tuple(")||J.startsWith("(")){const M=$.components!=null?$.components.map((U)=>J0.from(U)):null;return new J0(L0,Q||"",J,"tuple",X,M,null,null)}return J=H7($.type),new J0(L0,Q||"",J,J,X,null,null,null)}static isParamType($){return $&&$[r0]===I7}}class g8{type;inputs;constructor($,Y,Q){h0($,L0,"Fragment"),Q=Object.freeze(Q.slice()),T(this,{type:Y,inputs:Q})}static from($){if(typeof $==="string"){try{g8.from(JSON.parse($))}catch(Y){}return g8.from(T$($))}if($ instanceof z8)switch($.peekKeyword(P7)){case"constructor":return V8.from($);case"error":return v0.from($);case"event":return X8.from($);case"fallback":case"receive":return F8.from($);case"function":return J8.from($);case"struct":return Z$.from($)}else if(typeof $==="object"){switch($.type){case"constructor":return V8.from($);case"error":return v0.from($);case"event":return X8.from($);case"fallback":case"receive":return F8.from($);case"function":return J8.from($);case"struct":return Z$.from($)}L(!1,`unsupported type: ${$.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}z(!1,"unsupported frgament object","obj",$)}static isConstructor($){return V8.isFragment($)}static isError($){return v0.isFragment($)}static isEvent($){return X8.isFragment($)}static isFunction($){return J8.isFragment($)}static isStruct($){return Z$.isFragment($)}}class s$ extends g8{name;constructor($,Y,Q,X){super($,Y,X);z(typeof Q==="string"&&Q.match(F7),"invalid identifier","name",Q),X=Object.freeze(X.slice()),T(this,{name:Q})}}class v0 extends s${constructor($,Y,Q){super($,"error",Y,Q);Object.defineProperty(this,r0,{value:q7})}get selector(){return y0(this.format("sighash")).substring(0,10)}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((Q)=>JSON.parse(Q.format($)))});const Y=[];if($!=="sighash")Y.push("error");return Y.push(this.name+BY($,this.inputs)),Y.join(" ")}static from($){if(v0.isFragment($))return $;if(typeof $==="string")return v0.from(T$($));else if($ instanceof z8){const Y=gQ("error",$),Q=J$($);return o$($),new v0(L0,Y,Q)}return new v0(L0,$.name,$.inputs?$.inputs.map(J0.from):[])}static isFragment($){return $&&$[r0]===q7}}class X8 extends s${anonymous;constructor($,Y,Q,X){super($,"event",Y,Q);Object.defineProperty(this,r0,{value:C7}),T(this,{anonymous:X})}get topicHash(){return y0(this.format("sighash"))}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((Q)=>JSON.parse(Q.format($)))});const Y=[];if($!=="sighash")Y.push("event");if(Y.push(this.name+BY($,this.inputs)),$!=="sighash"&&this.anonymous)Y.push("anonymous");return Y.join(" ")}static getTopicHash($,Y){return Y=(Y||[]).map((X)=>J0.from(X)),new X8(L0,$,Y,!1).topicHash}static from($){if(X8.isFragment($))return $;if(typeof $==="string")try{return X8.from(T$($))}catch(Y){z(!1,"invalid event fragment","obj",$)}else if($ instanceof z8){const Y=gQ("event",$),Q=J$($,!0),X=!!M$($,n0(["anonymous"])).has("anonymous");return o$($),new X8(L0,Y,Q,X)}return new X8(L0,$.name,$.inputs?$.inputs.map((Y)=>J0.from(Y,!0)):[],!!$.anonymous)}static isFragment($){return $&&$[r0]===C7}}class V8 extends g8{payable;gas;constructor($,Y,Q,X,J){super($,Y,Q);Object.defineProperty(this,r0,{value:E7}),T(this,{payable:X,gas:J})}format($){if(L($!=null&&$!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),$==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map((Q)=>JSON.parse(Q.format($)))});const Y=[`constructor${BY($,this.inputs)}`];if(this.payable)Y.push("payable");if(this.gas!=null)Y.push(`@${this.gas.toString()}`);return Y.join(" ")}static from($){if(V8.isFragment($))return $;if(typeof $==="string")try{return V8.from(T$($))}catch(Y){z(!1,"invalid constuctor fragment","obj",$)}else if($ instanceof z8){M$($,n0(["constructor"]));const Y=J$($),Q=!!M$($,b1).has("payable"),X=x7($);return o$($),new V8(L0,"constructor",Y,Q,X)}return new V8(L0,"constructor",$.inputs?$.inputs.map(J0.from):[],!!$.payable,$.gas!=null?$.gas:null)}static isFragment($){return $&&$[r0]===E7}}class F8 extends g8{payable;constructor($,Y,Q){super($,"fallback",Y);Object.defineProperty(this,r0,{value:T7}),T(this,{payable:Q})}format($){const Y=this.inputs.length===0?"receive":"fallback";if($==="json"){const Q=this.payable?"payable":"nonpayable";return JSON.stringify({type:Y,stateMutability:Q})}return`${Y}()${this.payable?" payable":""}`}static from($){if(F8.isFragment($))return $;if(typeof $==="string")try{return F8.from(T$($))}catch(Y){z(!1,"invalid fallback fragment","obj",$)}else if($ instanceof z8){const Y=$.toString(),Q=$.peekKeyword(n0(["fallback","receive"]));if(z(Q,"type must be fallback or receive","obj",Y),$.popKeyword(n0(["fallback","receive"]))==="receive"){const M=J$($);return z(M.length===0,"receive cannot have arguments","obj.inputs",M),M$($,n0(["payable"])),o$($),new F8(L0,[],!0)}let J=J$($);if(J.length)z(J.length===1&&J[0].type==="bytes","invalid fallback inputs","obj.inputs",J.map((M)=>M.format("minimal")).join(", "));else J=[J0.from("bytes")];const Z=_7($);if(z(Z==="nonpayable"||Z==="payable","fallback cannot be constants","obj.stateMutability",Z),M$($,n0(["returns"])).has("returns")){const M=J$($);z(M.length===1&&M[0].type==="bytes","invalid fallback outputs","obj.outputs",M.map((G)=>G.format("minimal")).join(", "))}return o$($),new F8(L0,J,Z==="payable")}if($.type==="receive")return new F8(L0,[],!0);if($.type==="fallback"){const Y=[J0.from("bytes")],Q=$.stateMutability==="payable";return new F8(L0,Y,Q)}z(!1,"invalid fallback description","obj",$)}static isFragment($){return $&&$[r0]===T7}}class J8 extends s${constant;outputs;stateMutability;payable;gas;constructor($,Y,Q,X,J,Z){super($,"function",Y,X);Object.defineProperty(this,r0,{value:N7}),J=Object.freeze(J.slice()),T(this,{constant:Q==="view"||Q==="pure",gas:Z,outputs:J,payable:Q==="payable",stateMutability:Q})}get selector(){return y0(this.format("sighash")).substring(0,10)}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map((Q)=>JSON.parse(Q.format($))),outputs:this.outputs.map((Q)=>JSON.parse(Q.format($)))});const Y=[];if($!=="sighash")Y.push("function");if(Y.push(this.name+BY($,this.inputs)),$!=="sighash"){if(this.stateMutability!=="nonpayable")Y.push(this.stateMutability);if(this.outputs&&this.outputs.length)Y.push("returns"),Y.push(BY($,this.outputs));if(this.gas!=null)Y.push(`@${this.gas.toString()}`)}return Y.join(" ")}static getSelector($,Y){return Y=(Y||[]).map((X)=>J0.from(X)),new J8(L0,$,"view",Y,[],null).selector}static from($){if(J8.isFragment($))return $;if(typeof $==="string")try{return J8.from(T$($))}catch(Q){z(!1,"invalid function fragment","obj",$)}else if($ instanceof z8){const Q=gQ("function",$),X=J$($),J=_7($);let Z=[];if(M$($,n0(["returns"])).has("returns"))Z=J$($);const M=x7($);return o$($),new J8(L0,Q,J,X,Z,M)}let Y=$.stateMutability;if(Y==null){if(Y="payable",typeof $.constant==="boolean"){if(Y="view",!$.constant){if(Y="payable",typeof $.payable==="boolean"&&!$.payable)Y="nonpayable"}}else if(typeof $.payable==="boolean"&&!$.payable)Y="nonpayable"}return new J8(L0,$.name,Y,$.inputs?$.inputs.map(J0.from):[],$.outputs?$.outputs.map(J0.from):[],$.gas!=null?$.gas:null)}static isFragment($){return $&&$[r0]===N7}}class Z$ extends s${constructor($,Y,Q){super($,"struct",Y,Q);Object.defineProperty(this,r0,{value:S7})}format(){throw new Error("@TODO")}static from($){if(typeof $==="string")try{return Z$.from(T$($))}catch(Y){z(!1,"invalid struct fragment","obj",$)}else if($ instanceof z8){const Y=gQ("struct",$),Q=J$($);return o$($),new Z$(L0,Y,Q)}return new Z$(L0,$.name,$.inputs?$.inputs.map(J0.from):[])}static isFragment($){return $&&$[r0]===S7}}var s1=function($,Y,Q,X){let J="missing revert data",Z=null;const M=null;let G=null;if(Q){J="execution reverted";const W=C(Q);if(Q=q(Q),W.length===0)J+=" (no data present; likely require(false) occurred",Z="require(false)";else if(W.length%32!==4)J+=" (could not decode reason; invalid data length)";else if(q(W.slice(0,4))==="0x08c379a0")try{Z=X.decode(["string"],W.slice(4))[0],G={signature:"Error(string)",name:"Error",args:[Z]},J+=`: ${JSON.stringify(Z)}`}catch(V){J+=" (could not decode reason; invalid string data)"}else if(q(W.slice(0,4))==="0x4e487b71")try{const V=Number(X.decode(["uint256"],W.slice(4))[0]);G={signature:"Panic(uint256)",name:"Panic",args:[V]},Z=`Panic due to ${w8.get(V)||"UNKNOWN"}(${V})`,J+=`: ${Z}`}catch(V){J+=" (could not decode panic code)"}else J+=" (unknown custom error)"}const U={to:Y.to?P(Y.to):null,data:Y.data||"0x"};if(Y.from)U.from=P(Y.from);return l(J,"CALL_EXCEPTION",{action:$,data:Q,reason:Z,transaction:U,invocation:M,revert:G})},w8=new Map;w8.set(0,"GENERIC_PANIC");w8.set(1,"ASSERT_FALSE");w8.set(17,"OVERFLOW");w8.set(18,"DIVIDE_BY_ZERO");w8.set(33,"ENUM_RANGE_ERROR");w8.set(34,"BAD_STORAGE_DATA");w8.set(49,"STACK_UNDERFLOW");w8.set(50,"ARRAY_RANGE_ERROR");w8.set(65,"OUT_OF_MEMORY");w8.set(81,"UNINITIALIZED_FUNCTION_CALL");var n1=new RegExp(/^bytes([0-9]*)$/),o1=new RegExp(/^(u?int)([0-9]*)$/),lJ=null,f7=1024;class O8{#$($){if($.isArray())return new qJ(this.#$($.arrayChildren),$.arrayLength,$.name);if($.isTuple())return new w9($.components.map((Q)=>this.#$(Q)),$.name);switch($.baseType){case"address":return new LJ($.name);case"bool":return new CJ($.name);case"string":return new BJ($.name);case"bytes":return new EJ($.name);case"":return new NJ($.name)}let Y=$.type.match(o1);if(Y){let Q=parseInt(Y[2]||"256");return z(Q!==0&&Q<=256&&Q%8===0,"invalid "+Y[1]+" bit length","param",$),new SJ(Q/8,Y[1]==="int",$.name)}if(Y=$.type.match(n1),Y){let Q=parseInt(Y[1]);return z(Q!==0&&Q<=32,"invalid bytes length","param",$),new TJ(Q,$.name)}z(!1,"invalid type","type",$.type)}getDefaultValue($){const Y=$.map((X)=>this.#$(J0.from(X)));return new w9(Y,"_").defaultValue()}encode($,Y){w$(Y.length,$.length,"types/values length mismatch");const Q=$.map((Z)=>this.#$(J0.from(Z))),X=new w9(Q,"_"),J=new N9;return X.encode(J,Y),J.data}decode($,Y,Q){const X=$.map((Z)=>this.#$(J0.from(Z)));return new w9(X,"_").decode(new WQ(Y,Q,f7))}static _setDefaultMaxInflation($){z(typeof $==="number"&&Number.isInteger($),"invalid defaultMaxInflation factor","value",$),f7=$}static defaultAbiCoder(){if(lJ==null)lJ=new O8;return lJ}static getBuiltinCallException($,Y,Q){return s1($,Y,Q,O8.defaultAbiCoder())}}function h7($){const Y=i($);if(Y.length>31)throw new Error("bytes32 string must be less than 32 bytes");return s8(Y,32)}function k7($){const Y=C($,"bytes");if(Y.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(Y[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let Q=31;while(Y[Q-1]===0)Q--;return k0(Y.slice(0,Q))}class mQ{fragment;name;signature;topic;args;constructor($,Y,Q){const X=$.name,J=$.format();T(this,{fragment:$,name:X,signature:J,topic:Y,args:Q})}}class cQ{fragment;name;args;signature;selector;value;constructor($,Y,Q,X){const J=$.name,Z=$.format();T(this,{fragment:$,name:J,args:Q,signature:Z,selector:Y,value:X})}}class pQ{fragment;name;args;signature;selector;constructor($,Y,Q){const X=$.name,J=$.format();T(this,{fragment:$,name:X,args:Q,signature:J,selector:Y})}}class AY{hash;_isIndexed;static isIndexed($){return!!($&&$._isIndexed)}constructor($){T(this,{hash:$,_isIndexed:!0})}}var b7={"0":"generic panic","1":"assert(false)","17":"arithmetic overflow","18":"division or modulo by zero","33":"enum overflow","34":"invalid encoded storage byte array accessed","49":"out-of-bounds array access; popping on an empty array","50":"out-of-bounds access of an array or bytesN","65":"out of memory","81":"uninitialized function"},y7={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:($)=>{return`reverted with reason string ${JSON.stringify($)}`}},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:($)=>{let Y="unknown panic code";if($>=0&&$<=255&&b7[$.toString()])Y=b7[$.toString()];return`reverted with panic code 0x${$.toString(16)} (${Y})`}}};class D8{fragments;deploy;fallback;receive;#$;#Y;#Q;#X;constructor($){let Y=[];if(typeof $==="string")Y=JSON.parse($);else Y=$;this.#Q=new Map,this.#$=new Map,this.#Y=new Map;const Q=[];for(let Z of Y)try{Q.push(g8.from(Z))}catch(M){console.log(`[Warning] Invalid Fragment ${JSON.stringify(Z)}:`,M.message)}T(this,{fragments:Object.freeze(Q)});let X=null,J=!1;if(this.#X=this.getAbiCoder(),this.fragments.forEach((Z,M)=>{let G;switch(Z.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}T(this,{deploy:Z});return;case"fallback":if(Z.inputs.length===0)J=!0;else z(!X||Z.payable!==X.payable,"conflicting fallback fragments",`fragments[${M}]`,Z),X=Z,J=X.payable;return;case"function":G=this.#Q;break;case"event":G=this.#Y;break;case"error":G=this.#$;break;default:return}const U=Z.format();if(G.has(U))return;G.set(U,Z)}),!this.deploy)T(this,{deploy:V8.from("constructor()")});T(this,{fallback:X,receive:J})}format($){const Y=$?"minimal":"full";return this.fragments.map((X)=>X.format(Y))}formatJson(){const $=this.fragments.map((Y)=>Y.format("json"));return JSON.stringify($.map((Y)=>JSON.parse(Y)))}getAbiCoder(){return O8.defaultAbiCoder()}#J($,Y,Q){if(g($)){const J=$.toLowerCase();for(let Z of this.#Q.values())if(J===Z.selector)return Z;return null}if($.indexOf("(")===-1){const J=[];for(let[Z,M]of this.#Q)if(Z.split("(")[0]===$)J.push(M);if(Y){const Z=Y.length>0?Y[Y.length-1]:null;let M=Y.length,G=!0;if(n.isTyped(Z)&&Z.type==="overrides")G=!1,M--;for(let U=J.length-1;U>=0;U--){const W=J[U].inputs.length;if(W!==M&&(!G||W!==M-1))J.splice(U,1)}for(let U=J.length-1;U>=0;U--){const W=J[U].inputs;for(let V=0;V<Y.length;V++){if(!n.isTyped(Y[V]))continue;if(V>=W.length){if(Y[V].type==="overrides")continue;J.splice(U,1);break}if(Y[V].type!==W[V].baseType){J.splice(U,1);break}}}}if(J.length===1&&Y&&Y.length!==J[0].inputs.length){const Z=Y[Y.length-1];if(Z==null||Array.isArray(Z)||typeof Z!=="object")J.splice(0,1)}if(J.length===0)return null;if(J.length>1&&Q){const Z=J.map((M)=>JSON.stringify(M.format())).join(", ");z(!1,`ambiguous function description (i.e. matches ${Z})`,"key",$)}return J[0]}const X=this.#Q.get(J8.from($).format());if(X)return X;return null}getFunctionName($){const Y=this.#J($,null,!1);return z(Y,"no matching function","key",$),Y.name}hasFunction($){return!!this.#J($,null,!1)}getFunction($,Y){return this.#J($,Y||null,!0)}forEachFunction($){const Y=Array.from(this.#Q.keys());Y.sort((Q,X)=>Q.localeCompare(X));for(let Q=0;Q<Y.length;Q++){const X=Y[Q];$(this.#Q.get(X),Q)}}#M($,Y,Q){if(g($)){const J=$.toLowerCase();for(let Z of this.#Y.values())if(J===Z.topicHash)return Z;return null}if($.indexOf("(")===-1){const J=[];for(let[Z,M]of this.#Y)if(Z.split("(")[0]===$)J.push(M);if(Y){for(let Z=J.length-1;Z>=0;Z--)if(J[Z].inputs.length<Y.length)J.splice(Z,1);for(let Z=J.length-1;Z>=0;Z--){const M=J[Z].inputs;for(let G=0;G<Y.length;G++){if(!n.isTyped(Y[G]))continue;if(Y[G].type!==M[G].baseType){J.splice(Z,1);break}}}}if(J.length===0)return null;if(J.length>1&&Q){const Z=J.map((M)=>JSON.stringify(M.format())).join(", ");z(!1,`ambiguous event description (i.e. matches ${Z})`,"key",$)}return J[0]}const X=this.#Y.get(X8.from($).format());if(X)return X;return null}getEventName($){const Y=this.#M($,null,!1);return z(Y,"no matching event","key",$),Y.name}hasEvent($){return!!this.#M($,null,!1)}getEvent($,Y){return this.#M($,Y||null,!0)}forEachEvent($){const Y=Array.from(this.#Y.keys());Y.sort((Q,X)=>Q.localeCompare(X));for(let Q=0;Q<Y.length;Q++){const X=Y[Q];$(this.#Y.get(X),Q)}}getError($,Y){if(g($)){const X=$.toLowerCase();if(y7[X])return v0.from(y7[X].signature);for(let J of this.#$.values())if(X===J.selector)return J;return null}if($.indexOf("(")===-1){const X=[];for(let[J,Z]of this.#$)if(J.split("(")[0]===$)X.push(Z);if(X.length===0){if($==="Error")return v0.from("error Error(string)");if($==="Panic")return v0.from("error Panic(uint256)");return null}else if(X.length>1){const J=X.map((Z)=>JSON.stringify(Z.format())).join(", ");z(!1,`ambiguous error description (i.e. ${J})`,"name",$)}return X[0]}if($=v0.from($).format(),$==="Error(string)")return v0.from("error Error(string)");if($==="Panic(uint256)")return v0.from("error Panic(uint256)");const Q=this.#$.get($);if(Q)return Q;return null}forEachError($){const Y=Array.from(this.#$.keys());Y.sort((Q,X)=>Q.localeCompare(X));for(let Q=0;Q<Y.length;Q++){const X=Y[Q];$(this.#$.get(X),Q)}}_decodeParams($,Y){return this.#X.decode($,Y)}_encodeParams($,Y){return this.#X.encode($,Y)}encodeDeploy($){return this._encodeParams(this.deploy.inputs,$||[])}decodeErrorResult($,Y){if(typeof $==="string"){const Q=this.getError($);z(Q,"unknown error","fragment",$),$=Q}return z(r(Y,0,4)===$.selector,`data signature does not match error ${$.name}.`,"data",Y),this._decodeParams($.inputs,r(Y,4))}encodeErrorResult($,Y){if(typeof $==="string"){const Q=this.getError($);z(Q,"unknown error","fragment",$),$=Q}return k([$.selector,this._encodeParams($.inputs,Y||[])])}decodeFunctionData($,Y){if(typeof $==="string"){const Q=this.getFunction($);z(Q,"unknown function","fragment",$),$=Q}return z(r(Y,0,4)===$.selector,`data signature does not match function ${$.name}.`,"data",Y),this._decodeParams($.inputs,r(Y,4))}encodeFunctionData($,Y){if(typeof $==="string"){const Q=this.getFunction($);z(Q,"unknown function","fragment",$),$=Q}return k([$.selector,this._encodeParams($.inputs,Y||[])])}decodeFunctionResult($,Y){if(typeof $==="string"){const J=this.getFunction($);z(J,"unknown function","fragment",$),$=J}let Q="invalid length for result data";const X=O0(Y);if(X.length%32===0)try{return this.#X.decode($.outputs,X)}catch(J){Q="could not decode result data"}L(!1,Q,"BAD_DATA",{value:q(X),info:{method:$.name,signature:$.format()}})}makeError($,Y){const Q=C($,"data"),X=O8.getBuiltinCallException("call",Y,Q);if(X.message.startsWith("execution reverted (unknown custom error)")){const M=q(Q.slice(0,4)),G=this.getError(M);if(G)try{const U=this.#X.decode(G.inputs,Q.slice(4));X.revert={name:G.name,signature:G.format(),args:U},X.reason=X.revert.signature,X.message=`execution reverted: ${X.reason}`}catch(U){X.message="execution reverted (coult not decode custom error)"}}const Z=this.parseTransaction(Y);if(Z)X.invocation={method:Z.name,signature:Z.signature,args:Z.args};return X}encodeFunctionResult($,Y){if(typeof $==="string"){const Q=this.getFunction($);z(Q,"unknown function","fragment",$),$=Q}return q(this.#X.encode($.outputs,Y||[]))}encodeFilterTopics($,Y){if(typeof $==="string"){const J=this.getEvent($);z(J,"unknown event","eventFragment",$),$=J}L(Y.length<=$.inputs.length,`too many arguments for ${$.format()}`,"UNEXPECTED_ARGUMENT",{count:Y.length,expectedCount:$.inputs.length});const Q=[];if(!$.anonymous)Q.push($.topicHash);const X=(J,Z)=>{if(J.type==="string")return y0(Z);else if(J.type==="bytes")return v(q(Z));if(J.type==="bool"&&typeof Z==="boolean")Z=Z?"0x01":"0x00";else if(J.type.match(/^u?int/))Z=w0(Z);else if(J.type.match(/^bytes/))Z=s8(Z,32);else if(J.type==="address")this.#X.encode(["address"],[Z]);return q0(q(Z),32)};Y.forEach((J,Z)=>{const M=$.inputs[Z];if(!M.indexed){z(J==null,"cannot filter non-indexed parameters; must be null","contract."+M.name,J);return}if(J==null)Q.push(null);else if(M.baseType==="array"||M.baseType==="tuple")z(!1,"filtering with tuples or arrays not supported","contract."+M.name,J);else if(Array.isArray(J))Q.push(J.map((G)=>X(M,G)));else Q.push(X(M,J))});while(Q.length&&Q[Q.length-1]===null)Q.pop();return Q}encodeEventLog($,Y){if(typeof $==="string"){const Z=this.getEvent($);z(Z,"unknown event","eventFragment",$),$=Z}const Q=[],X=[],J=[];if(!$.anonymous)Q.push($.topicHash);return z(Y.length===$.inputs.length,"event arguments/values mismatch","values",Y),$.inputs.forEach((Z,M)=>{const G=Y[M];if(Z.indexed)if(Z.type==="string")Q.push(y0(G));else if(Z.type==="bytes")Q.push(v(G));else if(Z.baseType==="tuple"||Z.baseType==="array")throw new Error("not implemented");else Q.push(this.#X.encode([Z.type],[G]));else X.push(Z),J.push(G)}),{data:this.#X.encode(X,J),topics:Q}}decodeEventLog($,Y,Q){if(typeof $==="string"){const D=this.getEvent($);z(D,"unknown event","eventFragment",$),$=D}if(Q!=null&&!$.anonymous){const D=$.topicHash;z(g(Q[0],32)&&Q[0].toLowerCase()===D,"fragment/topic mismatch","topics[0]",Q[0]),Q=Q.slice(1)}const X=[],J=[],Z=[];$.inputs.forEach((D,H)=>{if(D.indexed)if(D.type==="string"||D.type==="bytes"||D.baseType==="tuple"||D.baseType==="array")X.push(J0.from({type:"bytes32",name:D.name})),Z.push(!0);else X.push(D),Z.push(!1);else J.push(D),Z.push(!1)});const M=Q!=null?this.#X.decode(X,k(Q)):null,G=this.#X.decode(J,Y,!0),U=[],W=[];let V=0,O=0;return $.inputs.forEach((D,H)=>{let K=null;if(D.indexed)if(M==null)K=new AY(null);else if(Z[H])K=new AY(M[O++]);else try{K=M[O++]}catch(R){K=R}else try{K=G[V++]}catch(R){K=R}U.push(K),W.push(D.name||null)}),$8.fromItems(U,W)}parseTransaction($){const Y=C($.data,"tx.data"),Q=S($.value!=null?$.value:0,"tx.value"),X=this.getFunction(q(Y.slice(0,4)));if(!X)return null;const J=this.#X.decode(X.inputs,Y.slice(4));return new cQ(X,X.selector,J,Q)}parseCallResult($){throw new Error("@TODO")}parseLog($){const Y=this.getEvent($.topics[0]);if(!Y||Y.anonymous)return null;return new mQ(Y,Y.topicHash,this.decodeEventLog(Y,$.data,$.topics))}parseError($){const Y=q($),Q=this.getError(r(Y,0,4));if(!Q)return null;const X=this.#X.decode(Q.inputs,r(Y,4));return new pQ(Q,Q.selector,X)}static from($){if($ instanceof D8)return $;if(typeof $==="string")return new D8(JSON.parse($));if(typeof $.formatJson==="function")return new D8($.formatJson());if(typeof $.format==="function")return new D8($.format("json"));return new D8($)}}var g9=function($){if($==null)return null;return $},N0=function($){if($==null)return null;return $.toString()};function _8($){const Y={};if($.to)Y.to=$.to;if($.from)Y.from=$.from;if($.data)Y.data=q($.data);const Q="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let J of Q){if(!(J in $)||$[J]==null)continue;Y[J]=S($[J],`request.${J}`)}const X="type,nonce".split(/,/);for(let J of X){if(!(J in $)||$[J]==null)continue;Y[J]=_($[J],`request.${J}`)}if($.accessList)Y.accessList=d0($.accessList);if($.authorizationList)Y.authorizationList=$.authorizationList.slice();if("blockTag"in $)Y.blockTag=$.blockTag;if("enableCcipRead"in $)Y.enableCcipRead=!!$.enableCcipRead;if("customData"in $)Y.customData=$.customData;if(("blobVersionedHashes"in $)&&$.blobVersionedHashes)Y.blobVersionedHashes=$.blobVersionedHashes.slice();if("kzg"in $)Y.kzg=$.kzg;if(("blobs"in $)&&$.blobs)Y.blobs=$.blobs.map((J)=>{if(q8(J))return q(J);return Object.assign({},J)});return Y}var a1=function($){return{orphan:"drop-block",hash:$.hash,number:$.number}},g7=function($,Y){return{orphan:"reorder-transaction",tx:$,other:Y}},m7=function($){return{orphan:"drop-transaction",tx:$}},r1=function($){return{orphan:"drop-log",log:{transactionHash:$.transactionHash,blockHash:$.blockHash,blockNumber:$.blockNumber,address:$.address,data:$.data,topics:Object.freeze($.topics.slice()),index:$.index}}},v7=BigInt(0);class m9{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor($,Y,Q){T(this,{gasPrice:g9($),maxFeePerGas:g9(Y),maxPriorityFeePerGas:g9(Q)})}toJSON(){const{gasPrice:$,maxFeePerGas:Y,maxPriorityFeePerGas:Q}=this;return{_type:"FeeData",gasPrice:N0($),maxFeePerGas:N0(Y),maxPriorityFeePerGas:N0(Q)}}}class PY{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#$;constructor($,Y){this.#$=$.transactions.map((Q)=>{if(typeof Q!=="string")return new G$(Q,Y);return Q}),T(this,{provider:Y,hash:g9($.hash),number:$.number,timestamp:$.timestamp,parentHash:$.parentHash,parentBeaconBlockRoot:$.parentBeaconBlockRoot,nonce:$.nonce,difficulty:$.difficulty,gasLimit:$.gasLimit,gasUsed:$.gasUsed,blobGasUsed:$.blobGasUsed,excessBlobGas:$.excessBlobGas,miner:$.miner,prevRandao:g9($.prevRandao),extraData:$.extraData,baseFeePerGas:g9($.baseFeePerGas),stateRoot:$.stateRoot,receiptsRoot:$.receiptsRoot})}get transactions(){return this.#$.map(($)=>{if(typeof $==="string")return $;return $.hash})}get prefetchedTransactions(){const $=this.#$.slice();if($.length===0)return[];return L(typeof $[0]==="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),$}toJSON(){const{baseFeePerGas:$,difficulty:Y,extraData:Q,gasLimit:X,gasUsed:J,hash:Z,miner:M,prevRandao:G,nonce:U,number:W,parentHash:V,parentBeaconBlockRoot:O,stateRoot:D,receiptsRoot:H,timestamp:K,transactions:R}=this;return{_type:"Block",baseFeePerGas:N0($),difficulty:N0(Y),extraData:Q,gasLimit:N0(X),gasUsed:N0(J),blobGasUsed:N0(this.blobGasUsed),excessBlobGas:N0(this.excessBlobGas),hash:Z,miner:M,prevRandao:G,nonce:U,number:W,parentHash:V,timestamp:K,parentBeaconBlockRoot:O,stateRoot:D,receiptsRoot:H,transactions:R}}[Symbol.iterator](){let $=0;const Y=this.transactions;return{next:()=>{if($<this.length)return{value:Y[$++],done:!1};return{value:void 0,done:!0}}}}get length(){return this.#$.length}get date(){if(this.timestamp==null)return null;return new Date(this.timestamp*1000)}async getTransaction($){let Y=void 0;if(typeof $==="number")Y=this.#$[$];else{const Q=$.toLowerCase();for(let X of this.#$)if(typeof X==="string"){if(X!==Q)continue;Y=X;break}else{if(X.hash!==Q)continue;Y=X;break}}if(Y==null)throw new Error("no such tx");if(typeof Y==="string")return await this.provider.getTransaction(Y);else return Y}getPrefetchedTransaction($){const Y=this.prefetchedTransactions;if(typeof $==="number")return Y[$];$=$.toLowerCase();for(let Q of Y)if(Q.hash===$)return Q;z(!1,"no matching transaction","indexOrHash",$)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return a1(this)}}class x8{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor($,Y){this.provider=Y;const Q=Object.freeze($.topics.slice());T(this,{transactionHash:$.transactionHash,blockHash:$.blockHash,blockNumber:$.blockNumber,removed:$.removed,address:$.address,data:$.data,topics:Q,index:$.index,transactionIndex:$.transactionIndex})}toJSON(){const{address:$,blockHash:Y,blockNumber:Q,data:X,index:J,removed:Z,topics:M,transactionHash:G,transactionIndex:U}=this;return{_type:"log",address:$,blockHash:Y,blockNumber:Q,data:X,index:J,removed:Z,topics:M,transactionHash:G,transactionIndex:U}}async getBlock(){const $=await this.provider.getBlock(this.blockHash);return L(!!$,"failed to find transaction","UNKNOWN_ERROR",{}),$}async getTransaction(){const $=await this.provider.getTransaction(this.transactionHash);return L(!!$,"failed to find transaction","UNKNOWN_ERROR",{}),$}async getTransactionReceipt(){const $=await this.provider.getTransactionReceipt(this.transactionHash);return L(!!$,"failed to find transaction receipt","UNKNOWN_ERROR",{}),$}removedEvent(){return r1(this)}}class a${provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#$;constructor($,Y){this.#$=Object.freeze($.logs.map((X)=>{return new x8(X,Y)}));let Q=v7;if($.effectiveGasPrice!=null)Q=$.effectiveGasPrice;else if($.gasPrice!=null)Q=$.gasPrice;T(this,{provider:Y,to:$.to,from:$.from,contractAddress:$.contractAddress,hash:$.hash,index:$.index,blockHash:$.blockHash,blockNumber:$.blockNumber,logsBloom:$.logsBloom,gasUsed:$.gasUsed,cumulativeGasUsed:$.cumulativeGasUsed,blobGasUsed:$.blobGasUsed,gasPrice:Q,blobGasPrice:$.blobGasPrice,type:$.type,status:$.status,root:$.root})}get logs(){return this.#$}toJSON(){const{to:$,from:Y,contractAddress:Q,hash:X,index:J,blockHash:Z,blockNumber:M,logsBloom:G,logs:U,status:W,root:V}=this;return{_type:"TransactionReceipt",blockHash:Z,blockNumber:M,contractAddress:Q,cumulativeGasUsed:N0(this.cumulativeGasUsed),from:Y,gasPrice:N0(this.gasPrice),blobGasUsed:N0(this.blobGasUsed),blobGasPrice:N0(this.blobGasPrice),gasUsed:N0(this.gasUsed),hash:X,index:J,logs:U,logsBloom:G,root:V,status:W,to:$}}get length(){return this.logs.length}[Symbol.iterator](){let $=0;return{next:()=>{if($<this.length)return{value:this.logs[$++],done:!1};return{value:void 0,done:!0}}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const $=await this.provider.getBlock(this.blockHash);if($==null)throw new Error("TODO");return $}async getTransaction(){const $=await this.provider.getTransaction(this.hash);if($==null)throw new Error("TODO");return $}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return m7(this)}reorderedEvent($){return L(!$||$.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),g7(this,$)}}class G${provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#$;constructor($,Y){this.provider=Y,this.blockNumber=$.blockNumber!=null?$.blockNumber:null,this.blockHash=$.blockHash!=null?$.blockHash:null,this.hash=$.hash,this.index=$.index,this.type=$.type,this.from=$.from,this.to=$.to||null,this.gasLimit=$.gasLimit,this.nonce=$.nonce,this.data=$.data,this.value=$.value,this.gasPrice=$.gasPrice,this.maxPriorityFeePerGas=$.maxPriorityFeePerGas!=null?$.maxPriorityFeePerGas:null,this.maxFeePerGas=$.maxFeePerGas!=null?$.maxFeePerGas:null,this.maxFeePerBlobGas=$.maxFeePerBlobGas!=null?$.maxFeePerBlobGas:null,this.chainId=$.chainId,this.signature=$.signature,this.accessList=$.accessList!=null?$.accessList:null,this.blobVersionedHashes=$.blobVersionedHashes!=null?$.blobVersionedHashes:null,this.authorizationList=$.authorizationList!=null?$.authorizationList:null,this.#$=-1}toJSON(){const{blockNumber:$,blockHash:Y,index:Q,hash:X,type:J,to:Z,from:M,nonce:G,data:U,signature:W,accessList:V,blobVersionedHashes:O}=this;return{_type:"TransactionResponse",accessList:V,blockNumber:$,blockHash:Y,blobVersionedHashes:O,chainId:N0(this.chainId),data:U,from:M,gasLimit:N0(this.gasLimit),gasPrice:N0(this.gasPrice),hash:X,maxFeePerGas:N0(this.maxFeePerGas),maxPriorityFeePerGas:N0(this.maxPriorityFeePerGas),maxFeePerBlobGas:N0(this.maxFeePerBlobGas),nonce:G,signature:W,to:Z,index:Q,type:J,value:N0(this.value)}}async getBlock(){let $=this.blockNumber;if($==null){const Q=await this.getTransaction();if(Q)$=Q.blockNumber}if($==null)return null;const Y=this.provider.getBlock($);if(Y==null)throw new Error("TODO");return Y}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:Y,blockNumber:Q}=await z0({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});if(Y==null||Y.blockNumber==null)return 0;return Q-Y.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait($,Y){const Q=$==null?1:$,X=Y==null?0:Y;let J=this.#$,Z=-1,M=J===-1?!0:!1;const G=async()=>{if(M)return null;const{blockNumber:O,nonce:D}=await z0({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(D<this.nonce){J=O;return}if(M)return null;const H=await this.getTransaction();if(H&&H.blockNumber!=null)return;if(Z===-1){if(Z=J-3,Z<this.#$)Z=this.#$}while(Z<=O){if(M)return null;const K=await this.provider.getBlock(Z,!0);if(K==null)return;for(let R of K)if(R===this.hash)return;for(let R=0;R<K.length;R++){const I=await K.getTransaction(R);if(I.from===this.from&&I.nonce===this.nonce){if(M)return null;const E=await this.provider.getTransactionReceipt(I.hash);if(E==null)return;if(O-E.blockNumber+1<Q)return;let N="replaced";if(I.data===this.data&&I.to===this.to&&I.value===this.value)N="repriced";else if(I.data==="0x"&&I.from===I.to&&I.value===v7)N="cancelled";L(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:N==="replaced"||N==="cancelled",reason:N,replacement:I.replaceableTransaction(J),hash:I.hash,receipt:E})}}Z++}return},U=(O)=>{if(O==null||O.status!==0)return O;L(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:O.to,from:O.from,data:""},receipt:O})},W=await this.provider.getTransactionReceipt(this.hash);if(Q===0)return U(W);if(W){if(await W.confirmations()>=Q)return U(W)}else if(await G(),Q===0)return null;return await new Promise((O,D)=>{const H=[],K=()=>{H.forEach((I)=>I())};if(H.push(()=>{M=!0}),X>0){const I=setTimeout(()=>{K(),D(l("wait for transaction timeout","TIMEOUT"))},X);H.push(()=>{clearTimeout(I)})}const R=async(I)=>{if(await I.confirmations()>=Q){K();try{O(U(I))}catch(E){D(E)}}};if(H.push(()=>{this.provider.off(this.hash,R)}),this.provider.on(this.hash,R),J>=0){const I=async()=>{try{await G()}catch(E){if(t(E,"TRANSACTION_REPLACED")){K(),D(E);return}}if(!M)this.provider.once("block",I)};H.push(()=>{this.provider.off("block",I)}),this.provider.once("block",I)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return L(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),m7(this)}reorderedEvent($){return L(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),L(!$||$.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),g7(this,$)}replaceableTransaction($){z(Number.isInteger($)&&$>=0,"invalid startBlock","startBlock",$);const Y=new G$(this,this.provider);return Y.#$=$,Y}}class r$ extends x8{interface;fragment;args;constructor($,Y,Q){super($,$.provider);const X=Y.decodeEventLog(Q,$.data,$.topics);T(this,{args:X,fragment:Q,interface:Y})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class c9 extends x8{error;constructor($,Y){super($,$.provider);T(this,{error:Y})}}class uQ extends a${#$;constructor($,Y,Q){super(Q,Y);this.#$=$}get logs(){return super.logs.map(($)=>{const Y=$.topics.length?this.#$.getEvent($.topics[0]):null;if(Y)try{return new r$($,this.#$,Y)}catch(Q){return new c9($,Q)}return $})}}class t$ extends G${#$;constructor($,Y,Q){super(Q,Y);this.#$=$}async wait($,Y){const Q=await super.wait($,Y);if(Q==null)return null;return new uQ(this.#$,this.provider,Q)}}class p9 extends D${log;constructor($,Y,Q,X){super($,Y,Q);T(this,{log:X})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class jY extends p9{constructor($,Y,Q,X,J){super($,Y,Q,new r$(J,$.interface,X));const Z=$.interface.decodeEventLog(X,this.log.data,this.log.topics);T(this,{args:Z,fragment:X})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}var u7=function($){return $&&typeof $.call==="function"},d7=function($){return $&&typeof $.estimateGas==="function"},iQ=function($){return $&&typeof $.resolveName==="function"},l7=function($){return $&&typeof $.sendTransaction==="function"},i7=function($){if($!=null){if(iQ($))return $;if($.provider)return $.provider}return},$9=function($,Y){if($==null)return null;if(typeof $[Y]==="function")return $;if($.provider&&typeof $.provider[Y]==="function")return $.provider;return null},e$=function($){if($==null)return null;return $.provider||null};async function nQ($,Y){const Q=n.dereference($,"overrides");z(typeof Q==="object","invalid overrides parameter","overrides",$);const X=_8(Q);if(z(X.to==null||(Y||[]).indexOf("to")>=0,"cannot override to","overrides.to",X.to),z(X.data==null||(Y||[]).indexOf("data")>=0,"cannot override data","overrides.data",X.data),X.from)X.from=X.from;return X}async function oJ($,Y,Q){const X=$9($,"resolveName"),J=iQ(X)?X:null;return await Promise.all(Y.map((Z,M)=>{return Z.walkAsync(Q[M],(G,U)=>{if(U=n.dereference(U,G),G==="address")return D0(U,J);return U})}))}var t1=function($){const Y=async function(M){const G=await nQ(M,["data"]);if(G.to=await $.getAddress(),G.from)G.from=await D0(G.from,i7($.runner));const U=$.interface,W=S(G.value||c7,"overrides.value")===c7,V=(G.data||"0x")==="0x";if(U.fallback&&!U.fallback.payable&&U.receive&&!V&&!W)z(!1,"cannot send data to receive or send value to non-payable fallback","overrides",M);z(U.fallback||V,"cannot send data to receive-only contract","overrides.data",G.data);const O=U.receive||U.fallback&&U.fallback.payable;return z(O||W,"cannot send value to non-payable fallback","overrides.value",G.value),z(U.fallback||V,"cannot send data to receive-only contract","overrides.data",G.data),G},Q=async function(M){const G=$9($.runner,"call");L(u7(G),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const U=await Y(M);try{return await G.call(U)}catch(W){if(O$(W)&&W.data)throw $.interface.makeError(W.data,U);throw W}},X=async function(M){const G=$.runner;L(l7(G),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const U=await G.sendTransaction(await Y(M)),W=e$($.runner);return new t$($.interface,W,U)},J=async function(M){const G=$9($.runner,"estimateGas");return L(d7(G),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await G.estimateGas(await Y(M))},Z=async(M)=>{return await X(M)};return T(Z,{_contract:$,estimateGas:J,populateTransaction:Y,send:X,staticCall:Q}),Z},e1=function($,Y){const Q=function(...W){const V=$.interface.getFunction(Y,W);return L(V,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y,args:W}}),V},X=async function(...W){const V=Q(...W);let O={};if(V.inputs.length+1===W.length){if(O=await nQ(W.pop()),O.from)O.from=await D0(O.from,i7($.runner))}if(V.inputs.length!==W.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const D=await oJ($.runner,V.inputs,W);return Object.assign({},O,await z0({to:$.getAddress(),data:$.interface.encodeFunctionData(V,D)}))},J=async function(...W){const V=await G(...W);if(V.length===1)return V[0];return V},Z=async function(...W){const V=$.runner;L(l7(V),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const O=await V.sendTransaction(await X(...W)),D=e$($.runner);return new t$($.interface,D,O)},M=async function(...W){const V=$9($.runner,"estimateGas");return L(d7(V),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await V.estimateGas(await X(...W))},G=async function(...W){const V=$9($.runner,"call");L(u7(V),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const O=await X(...W);let D="0x";try{D=await V.call(O)}catch(K){if(O$(K)&&K.data)throw $.interface.makeError(K.data,O);throw K}const H=Q(...W);return $.interface.decodeFunctionResult(H,D)},U=async(...W)=>{if(Q(...W).constant)return await J(...W);return await Z(...W)};return T(U,{name:$.interface.getFunctionName(Y),_contract:$,_key:Y,getFragment:Q,estimateGas:M,populateTransaction:X,send:Z,staticCall:J,staticCallResult:G}),Object.defineProperty(U,"fragment",{configurable:!1,enumerable:!0,get:()=>{const W=$.interface.getFunction(Y);return L(W,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y}}),W}}),U},$6=function($,Y){const Q=function(...J){const Z=$.interface.getEvent(Y,J);return L(Z,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y,args:J}}),Z},X=function(...J){return new n7($,Q(...J),J)};return T(X,{name:$.interface.getEventName(Y),_contract:$,_key:Y,getFragment:Q}),Object.defineProperty(X,"fragment",{configurable:!1,enumerable:!0,get:()=>{const J=$.interface.getEvent(Y);return L(J,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Y}}),J}}),X},Y6=function($,Y){o7.set($[lQ],Y)},Z8=function($){return o7.get($[lQ])},Q6=function($){return $&&typeof $==="object"&&("getTopicFilter"in $)&&typeof $.getTopicFilter==="function"&&$.fragment};async function sJ($,Y){let Q,X=null;if(Array.isArray(Y)){const Z=function(M){if(g(M,32))return M;const G=$.interface.getEvent(M);return z(G,"unknown fragment","name",M),G.topicHash};Q=Y.map((M)=>{if(M==null)return null;if(Array.isArray(M))return M.map(Z);return Z(M)})}else if(Y==="*")Q=[null];else if(typeof Y==="string")if(g(Y,32))Q=[Y];else X=$.interface.getEvent(Y),z(X,"unknown fragment","event",Y),Q=[X.topicHash];else if(Q6(Y))Q=await Y.getTopicFilter();else if("fragment"in Y)X=Y.fragment,Q=[X.topicHash];else z(!1,"unknown event name","event",Y);Q=Q.map((Z)=>{if(Z==null)return null;if(Array.isArray(Z)){const M=Array.from(new Set(Z.map((G)=>G.toLowerCase())).values());if(M.length===1)return M[0];return M.sort(),M}return Z.toLowerCase()});const J=Q.map((Z)=>{if(Z==null)return"null";if(Array.isArray(Z))return Z.join("|");return Z}).join("&");return{fragment:X,tag:J,topics:Q}}async function FY($,Y){const{subs:Q}=Z8($);return Q.get((await sJ($,Y)).tag)||null}async function p7($,Y,Q){const X=e$($.runner);L(X,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:Y});const{fragment:J,tag:Z,topics:M}=await sJ($,Q),{addr:G,subs:U}=Z8($);let W=U.get(Z);if(!W){const O={address:G?G:$,topics:M},D=(I)=>{let E=J;if(E==null)try{E=$.interface.getEvent(I.topics[0])}catch(N){}if(E){const N=E,f=J?$.interface.decodeEventLog(J,I.data,I.topics):[];nJ($,Q,f,(j)=>{return new jY($,j,Q,N,I)})}else nJ($,Q,[],(N)=>{return new p9($,N,Q,I)})};let H=[];W={tag:Z,listeners:[],start:()=>{if(H.length)return;H.push(X.on(O,D))},stop:async()=>{if(H.length==0)return;let I=H;H=[],await Promise.all(I),X.off(O,D)}},U.set(Z,W)}return W}async function X6($,Y,Q,X){await iJ;const J=await FY($,Y);if(!J)return!1;const Z=J.listeners.length;if(J.listeners=J.listeners.filter(({listener:M,once:G})=>{const U=Array.from(Q);if(X)U.push(X(G?null:M));try{M.call($,...U)}catch(W){}return!G}),J.listeners.length===0)J.stop(),Z8($).subs.delete(J.tag);return Z>0}async function nJ($,Y,Q,X){try{await iJ}catch(Z){}const J=X6($,Y,Q,X);return iJ=J,await J}var J6=function(){return m8},c7=BigInt(0);class n7{#$;fragment;constructor($,Y,Q){if(T(this,{fragment:Y}),Y.inputs.length<Q.length)throw new Error("too many arguments");const X=$9($.runner,"resolveName"),J=iQ(X)?X:null;this.#$=async function(){const Z=await Promise.all(Y.inputs.map((M,G)=>{if(Q[G]==null)return null;return M.walkAsync(Q[G],(W,V)=>{if(W==="address"){if(Array.isArray(V))return Promise.all(V.map((O)=>D0(O,J)));return D0(V,J)}return V})}));return $.interface.encodeFilterTopics(Y,Z)}()}getTopicFilter(){return this.#$}}var lQ=Symbol.for("_ethersInternal_contract"),o7=new WeakMap,iJ=Promise.resolve(),dQ=["then"];class m8{target;interface;runner;filters;[lQ];fallback;constructor($,Y,Q,X){if(z(typeof $==="string"||F9($),"invalid value for Contract target","target",$),Q==null)Q=null;const J=D8.from(Y);T(this,{target:$,runner:Q,interface:J}),Object.defineProperty(this,lQ,{value:{}});let Z,M=null,G=null;if(X){const V=e$(Q);G=new t$(this.interface,V,X)}let U=new Map;if(typeof $==="string")if(g($))M=$,Z=Promise.resolve($);else{const V=$9(Q,"resolveName");if(!iQ(V))throw l("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});Z=V.resolveName($).then((O)=>{if(O==null)throw l("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:$});return Z8(this).addr=O,O})}else Z=$.getAddress().then((V)=>{if(V==null)throw new Error("TODO");return Z8(this).addr=V,V});Y6(this,{addrPromise:Z,addr:M,deployTx:G,subs:U});const W=new Proxy({},{get:(V,O,D)=>{if(typeof O==="symbol"||dQ.indexOf(O)>=0)return Reflect.get(V,O,D);try{return this.getEvent(O)}catch(H){if(!t(H,"INVALID_ARGUMENT")||H.argument!=="key")throw H}return},has:(V,O)=>{if(dQ.indexOf(O)>=0)return Reflect.has(V,O);return Reflect.has(V,O)||this.interface.hasEvent(String(O))}});return T(this,{filters:W}),T(this,{fallback:J.receive||J.fallback?t1(this):null}),new Proxy(this,{get:(V,O,D)=>{if(typeof O==="symbol"||(O in V)||dQ.indexOf(O)>=0)return Reflect.get(V,O,D);try{return V.getFunction(O)}catch(H){if(!t(H,"INVALID_ARGUMENT")||H.argument!=="key")throw H}return},has:(V,O)=>{if(typeof O==="symbol"||(O in V)||dQ.indexOf(O)>=0)return Reflect.has(V,O);return V.interface.hasFunction(O)}})}connect($){return new m8(this.target,this.interface,$)}attach($){return new m8($,this.interface,this.runner)}async getAddress(){return await Z8(this).addrPromise}async getDeployedCode(){const $=e$(this.runner);L($,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const Y=await $.getCode(await this.getAddress());if(Y==="0x")return null;return Y}async waitForDeployment(){const $=this.deploymentTransaction();if($)return await $.wait(),this;if(await this.getDeployedCode()!=null)return this;const Q=e$(this.runner);return L(Q!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((X,J)=>{const Z=async()=>{try{if(await this.getDeployedCode()!=null)return X(this);Q.once("block",Z)}catch(M){J(M)}};Z()})}deploymentTransaction(){return Z8(this).deployTx}getFunction($){if(typeof $!=="string")$=$.format();return e1(this,$)}getEvent($){if(typeof $!=="string")$=$.format();return $6(this,$)}async queryTransaction($){throw new Error("@TODO")}async queryFilter($,Y,Q){if(Y==null)Y=0;if(Q==null)Q="latest";const{addr:X,addrPromise:J}=Z8(this),Z=X?X:await J,{fragment:M,topics:G}=await sJ(this,$),U={address:Z,topics:G,fromBlock:Y,toBlock:Q},W=e$(this.runner);return L(W,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await W.getLogs(U)).map((V)=>{let O=M;if(O==null)try{O=this.interface.getEvent(V.topics[0])}catch(D){}if(O)try{return new r$(V,this.interface,O)}catch(D){return new c9(V,D)}return new x8(V,W)})}async on($,Y){const Q=await p7(this,"on",$);return Q.listeners.push({listener:Y,once:!1}),Q.start(),this}async once($,Y){const Q=await p7(this,"once",$);return Q.listeners.push({listener:Y,once:!0}),Q.start(),this}async emit($,...Y){return await nJ(this,$,Y,null)}async listenerCount($){if($){const X=await FY(this,$);if(!X)return 0;return X.listeners.length}const{subs:Y}=Z8(this);let Q=0;for(let{listeners:X}of Y.values())Q+=X.length;return Q}async listeners($){if($){const X=await FY(this,$);if(!X)return[];return X.listeners.map(({listener:J})=>J)}const{subs:Y}=Z8(this);let Q=[];for(let{listeners:X}of Y.values())Q=Q.concat(X.map(({listener:J})=>J));return Q}async off($,Y){const Q=await FY(this,$);if(!Q)return this;if(Y){const X=Q.listeners.map(({listener:J})=>J).indexOf(Y);if(X>=0)Q.listeners.splice(X,1)}if(Y==null||Q.listeners.length===0)Q.stop(),Z8(this).subs.delete(Q.tag);return this}async removeAllListeners($){if($){const Y=await FY(this,$);if(!Y)return this;Y.stop(),Z8(this).subs.delete(Y.tag)}else{const{subs:Y}=Z8(this);for(let{tag:Q,stop:X}of Y.values())X(),Y.delete(Q)}return this}async addListener($,Y){return await this.on($,Y)}async removeListener($,Y){return await this.off($,Y)}static buildClass($){class Y extends m8{constructor(Q,X=null){super(Q,$,X)}}return Y}static from($,Y,Q){if(Q==null)Q=null;return new this($,Y,Q)}}class K8 extends J6(){}class oQ{interface;bytecode;runner;constructor($,Y,Q){const X=D8.from($);if(Y instanceof Uint8Array)Y=q(C(Y));else{if(typeof Y==="object")Y=Y.object;if(!Y.startsWith("0x"))Y="0x"+Y;Y=q(C(Y))}T(this,{bytecode:Y,interface:X,runner:Q||null})}attach($){return new m8($,this.interface,this.runner)}async getDeployTransaction(...$){let Y={};const Q=this.interface.deploy;if(Q.inputs.length+1===$.length)Y=await nQ($.pop());if(Q.inputs.length!==$.length)throw new Error("incorrect number of arguments to constructor");const X=await oJ(this.runner,Q.inputs,$),J=k([this.bytecode,this.interface.encodeDeploy(X)]);return Object.assign({},Y,{data:J})}async deploy(...$){const Y=await this.getDeployTransaction(...$);L(this.runner&&typeof this.runner.sendTransaction==="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const Q=await this.runner.sendTransaction(Y),X=d$(Q);return new m8(X,this.interface,this.runner,Q)}connect($){return new oQ(this.interface,this.bytecode,$)}static fromSolidity($,Y){if(z($!=null,"bad compiler output","output",$),typeof $==="string")$=JSON.parse($);const Q=$.abi;let X="";if($.bytecode)X=$.bytecode;else if($.evm&&$.evm.bytecode)X=$.evm.bytecode;return new this(Q,X,Y)}}var aJ=function($){if($.match(/^ipfs:\/\/ipfs\//i))$=$.substring(12);else if($.match(/^ipfs:\/\//i))$=$.substring(7);else z(!1,"unsupported IPFS format","link",$);return`https://gateway.ipfs.io/ipfs/${$}`};class sQ{name;constructor($){T(this,{name:$})}connect($){return this}supportsCoinType($){return!1}async encodeAddress($,Y){throw new Error("unsupported coin")}async decodeAddress($,Y){throw new Error("unsupported coin")}}var a7=new RegExp("^(ipfs)://(.*)$","i"),s7=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),a7,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class U${provider;address;name;#$;#Y;constructor($,Y,Q){T(this,{provider:$,address:Y,name:Q}),this.#$=null,this.#Y=new K8(Y,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],$)}async supportsWildcard(){if(this.#$==null)this.#$=(async()=>{try{return await this.#Y.supportsInterface("0x9061b923")}catch($){if(t($,"CALL_EXCEPTION"))return!1;throw this.#$=null,$}})();return await this.#$}async#Q($,Y){Y=(Y||[]).slice();const Q=this.#Y.interface;Y.unshift(E$(this.name));let X=null;if(await this.supportsWildcard())X=Q.getFunction($),L(X,"missing fragment","UNKNOWN_ERROR",{info:{funcName:$}}),Y=[TY(this.name,255),Q.encodeFunctionData(X,Y)],$="resolve(bytes,bytes)";Y.push({enableCcipRead:!0});try{const J=await this.#Y[$](...Y);if(X)return Q.decodeFunctionResult(X,J)[0];return J}catch(J){if(!t(J,"CALL_EXCEPTION"))throw J}return null}async getAddress($){if($==null)$=60;if($===60)try{const J=await this.#Q("addr(bytes32)");if(J==null||J===b8)return null;return J}catch(J){if(t(J,"CALL_EXCEPTION"))return null;throw J}if($>=0&&$<2147483648){let J=$+2147483648;const Z=await this.#Q("addr(bytes32,uint)",[J]);if(g(Z,20))return P(Z)}let Y=null;for(let J of this.provider.plugins){if(!(J instanceof sQ))continue;if(J.supportsCoinType($)){Y=J;break}}if(Y==null)return null;const Q=await this.#Q("addr(bytes32,uint)",[$]);if(Q==null||Q==="0x")return null;const X=await Y.decodeAddress($,Q);if(X!=null)return X;L(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${$})`,info:{coinType:$,data:Q}})}async getText($){const Y=await this.#Q("text(bytes32,string)",[$]);if(Y==null||Y==="0x")return null;return Y}async getContentHash(){const $=await this.#Q("contenthash(bytes32)");if($==null||$==="0x")return null;const Y=$.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(Y){const X=Y[1]==="e3010170"?"ipfs":"ipns",J=parseInt(Y[4],16);if(Y[5].length===J*2)return`${X}://${f$("0x"+Y[2])}`}const Q=$.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(Q&&Q[1].length===64)return`bzz://${Q[1]}`;L(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:$}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const $=[{type:"name",value:this.name}];try{const Y=await this.getText("avatar");if(Y==null)return $.push({type:"!avatar",value:""}),{url:null,linkage:$};$.push({type:"avatar",value:Y});for(let Q=0;Q<s7.length;Q++){const X=Y.match(s7[Q]);if(X==null)continue;const J=X[1].toLowerCase();switch(J){case"https":case"data":return $.push({type:"url",value:Y}),{linkage:$,url:Y};case"ipfs":{const Z=aJ(Y);return $.push({type:"ipfs",value:Y}),$.push({type:"url",value:Z}),{linkage:$,url:Z}}case"erc721":case"erc1155":{const Z=J==="erc721"?"tokenURI(uint256)":"uri(uint256)";$.push({type:J,value:Y});const M=await this.getAddress();if(M==null)return $.push({type:"!owner",value:""}),{url:null,linkage:$};const G=(X[2]||"").split("/");if(G.length!==2)return $.push({type:`!${J}caip`,value:X[2]||""}),{url:null,linkage:$};const U=G[1],W=new K8(G[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(J==="erc721"){const K=await W.ownerOf(U);if(M!==K)return $.push({type:"!owner",value:K}),{url:null,linkage:$};$.push({type:"owner",value:K})}else if(J==="erc1155"){const K=await W.balanceOf(M,U);if(!K)return $.push({type:"!balance",value:"0"}),{url:null,linkage:$};$.push({type:"balance",value:K.toString()})}let V=await W[Z](U);if(V==null||V==="0x")return $.push({type:"!metadata-url",value:""}),{url:null,linkage:$};if($.push({type:"metadata-url-base",value:V}),J==="erc1155")V=V.replace("{id}",w0(U,32).substring(2)),$.push({type:"metadata-url-expanded",value:V});if(V.match(/^ipfs:/i))V=aJ(V);$.push({type:"metadata-url",value:V});let O={};const D=await new e(V).send();D.assertOk();try{O=D.bodyJson}catch(K){try{$.push({type:"!metadata",value:D.bodyText})}catch(R){const I=D.body;if(I)$.push({type:"!metadata",value:q(I)});return{url:null,linkage:$}}return{url:null,linkage:$}}if(!O)return $.push({type:"!metadata",value:""}),{url:null,linkage:$};$.push({type:"metadata",value:JSON.stringify(O)});let H=O.image;if(typeof H!=="string")return $.push({type:"!imageUrl",value:""}),{url:null,linkage:$};if(H.match(/^(https:\/\/|data:)/i));else{if(H.match(a7)==null)return $.push({type:"!imageUrl-ipfs",value:H}),{url:null,linkage:$};$.push({type:"imageUrl-ipfs",value:H}),H=aJ(H)}return $.push({type:"url",value:H}),{linkage:$,url:H}}}}}catch(Y){}return{linkage:$,url:null}}static async getEnsAddress($){const Y=await $.getNetwork(),Q=Y.getPlugin("org.ethers.plugins.network.Ens");return L(Q,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:Y}}),Q.address}static async#X($,Y){const Q=await U$.getEnsAddress($);try{const J=await new K8(Q,["function resolver(bytes32) view returns (address)"],$).resolver(E$(Y),{enableCcipRead:!0});if(J===b8)return null;return J}catch(X){throw X}return null}static async fromName($,Y){let Q=Y;while(!0){if(Q===""||Q===".")return null;if(Y!=="eth"&&Q==="eth")return null;const X=await U$.#X($,Q);if(X!=null){const J=new U$($,X,Y);if(Q!==Y&&!await J.supportsWildcard())return null;return J}Q=Q.split(".").slice(1).join(".")}}}function s($,Y){return function(Q){if(Q==null)return Y;return $(Q)}}function wY($,Y){return(Q)=>{if(Y&&Q==null)return null;if(!Array.isArray(Q))throw new Error("not an array");return Q.map((X)=>$(X))}}function _Y($,Y){return(Q)=>{const X={};for(let J in $){let Z=J;if(Y&&(J in Y)&&!(Z in Q)){for(let M of Y[J])if(M in Q){Z=M;break}}try{const M=$[J](Q[Z]);if(M!==void 0)X[J]=M}catch(M){const G=M instanceof Error?M.message:"not-an-error";L(!1,`invalid value for value.${J} (${G})`,"BAD_DATA",{value:Q})}}return X}}function Z6($){switch($){case!0:case"true":return!0;case!1:case"false":return!1}z(!1,`invalid boolean; ${JSON.stringify($)}`,"value",$)}function u9($){return z(g($,!0),"invalid data","value",$),$}function g0($){return z(g($,32),"invalid hash","value",$),$}function t7($){return M6($)}function e7($){const Y=G6($);return Y.transactions=$.transactions.map((Q)=>{if(typeof Q==="string")return Q;return rJ(Q)}),Y}function W6($){return U6($)}function $M($){return V6($)}function rJ($){if($.to&&S($.to)===r7)$.to="0x0000000000000000000000000000000000000000";const Y=_Y({hash:g0,index:s(_,void 0),type:(Q)=>{if(Q==="0x"||Q==null)return 0;return _(Q)},accessList:s(d0,null),blobVersionedHashes:s(wY(g0,!0),null),authorizationList:s(wY((Q)=>{return{address:P(Q.address),chainId:S(Q.chainId),nonce:S(Q.nonce),signature:Z0.from(Q.signature?Q.signature:Q)}},!1),null),blockHash:s(g0,null),blockNumber:s(_,null),transactionIndex:s(_,null),from:P,gasPrice:s(S),maxPriorityFeePerGas:s(S),maxFeePerGas:s(S),maxFeePerBlobGas:s(S,null),gasLimit:S,to:s(P,null),value:S,nonce:_,data:u9,creates:s(P,null),chainId:s(S,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})($);if(Y.to==null&&Y.creates==null)Y.creates=d$(Y);if(($.type===1||$.type===2)&&$.accessList==null)Y.accessList=[];if($.signature)Y.signature=Z0.from($.signature);else Y.signature=Z0.from($);if(Y.chainId==null){const Q=Y.signature.legacyChainId;if(Q!=null)Y.chainId=Q}if(Y.blockHash&&S(Y.blockHash)===r7)Y.blockHash=null;return Y}var r7=BigInt(0),M6=_Y({address:P,blockHash:g0,blockNumber:_,data:u9,index:_,removed:s(Z6,!1),topics:wY(g0),transactionHash:g0,transactionIndex:_},{index:["logIndex"]}),G6=_Y({hash:s(g0),parentHash:g0,parentBeaconBlockRoot:s(g0,null),number:_,timestamp:_,nonce:s(u9),difficulty:S,gasLimit:S,gasUsed:S,stateRoot:s(g0,null),receiptsRoot:s(g0,null),blobGasUsed:s(S,null),excessBlobGas:s(S,null),miner:s(P),prevRandao:s(g0,null),extraData:u9,baseFeePerGas:s(S)},{prevRandao:["mixHash"]}),U6=_Y({transactionIndex:_,blockNumber:_,transactionHash:g0,address:P,topics:wY(g0),data:u9,index:_,blockHash:g0},{index:["logIndex"]}),V6=_Y({to:s(P,null),from:s(P,null),contractAddress:s(P,null),index:_,root:s(q),gasUsed:S,blobGasUsed:s(S,null),logsBloom:s(u9),blockHash:g0,hash:g0,logs:wY(W6),blockNumber:_,cumulativeGasUsed:S,effectiveGasPrice:s(S),blobGasPrice:s(S,null),status:s(_),type:s(_,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});var z6="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class c8{name;constructor($){T(this,{name:$})}clone(){return new c8(this.name)}}class Y9 extends c8{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor($,Y){if($==null)$=0;super(`org.ethers.network.plugins.GasCost#${$||0}`);const Q={effectiveBlock:$};function X(J,Z){let M=(Y||{})[J];if(M==null)M=Z;z(typeof M==="number",`invalud value for ${J}`,"costs",Y),Q[J]=M}X("txBase",21000),X("txCreate",32000),X("txDataZero",4),X("txDataNonzero",16),X("txAccessListStorageKey",1900),X("txAccessListAddress",2400),T(this,Q)}clone(){return new Y9(this.effectiveBlock,this)}}class Q9 extends c8{address;targetNetwork;constructor($,Y){super("org.ethers.plugins.network.Ens");T(this,{address:$||z6,targetNetwork:Y==null?1:Y})}clone(){return new Q9(this.address,this.targetNetwork)}}class aQ extends c8{#$;get feeDataFunc(){return this.#$}constructor($){super("org.ethers.plugins.network.FeeData");this.#$=$}async getFeeData($){return await this.#$($)}clone(){return new aQ(this.#$)}}class xY extends c8{#$;#Y;get url(){return this.#$}get processFunc(){return this.#Y}constructor($,Y){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");this.#$=$,this.#Y=Y}clone(){return this}}var YM=function($,Y){const Q=String($);if(!Q.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${$}`);const X=Q.split(".");if(X.length===1)X.push("");if(X.length!==2)throw new Error(`invalid gwei value: ${$}`);while(X[1].length<Y)X[1]+="0";if(X[1].length>9){let J=BigInt(X[1].substring(0,9));if(!X[1].substring(9).match(/^0+$/))J++;X[1]=J.toString()}return BigInt(X[0]+X[1])},QM=function($){return new xY($,async(Y,Q,X)=>{X.setHeader("User-Agent","ethers");let J;try{const[Z,M]=await Promise.all([X.send(),Y()]);J=Z;const G=J.bodyJson.standard;return{gasPrice:M.gasPrice,maxFeePerGas:YM(G.maxFee,9),maxPriorityFeePerGas:YM(G.maxPriorityFee,9)}}catch(Z){L(!1,`error encountered with polygon gas station (${JSON.stringify(X.url)})`,"SERVER_ERROR",{request:X,response:J,error:Z})}})},O6=function(){if(XM)return;XM=!0;function $(Y,Q,X){const J=function(){const Z=new p(Y,Q);if(X.ensNetwork!=null)Z.attachPlugin(new Q9(null,X.ensNetwork));return Z.attachPlugin(new Y9),(X.plugins||[]).forEach((M)=>{Z.attachPlugin(M)}),Z};if(p.register(Y,J),p.register(Q,J),X.altNames)X.altNames.forEach((Z)=>{p.register(Z,J)})}$("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),$("ropsten",3,{ensNetwork:3}),$("rinkeby",4,{ensNetwork:4}),$("goerli",5,{ensNetwork:5}),$("kovan",42,{ensNetwork:42}),$("sepolia",11155111,{ensNetwork:11155111}),$("holesky",17000,{ensNetwork:17000}),$("classic",61,{}),$("classicKotti",6,{}),$("arbitrum",42161,{ensNetwork:1}),$("arbitrum-goerli",421613,{}),$("arbitrum-sepolia",421614,{}),$("base",8453,{ensNetwork:1}),$("base-goerli",84531,{}),$("base-sepolia",84532,{}),$("bnb",56,{ensNetwork:1}),$("bnbt",97,{}),$("linea",59144,{ensNetwork:1}),$("linea-goerli",59140,{}),$("linea-sepolia",59141,{}),$("matic",137,{ensNetwork:1,plugins:[QM("https://gasstation.polygon.technology/v2")]}),$("matic-amoy",80002,{}),$("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[QM("https://gasstation-testnet.polygon.technology/v2")]}),$("optimism",10,{ensNetwork:1,plugins:[]}),$("optimism-goerli",420,{}),$("optimism-sepolia",11155420,{}),$("xdai",100,{ensNetwork:1})},tJ=new Map;class p{#$;#Y;#Q;constructor($,Y){this.#$=$,this.#Y=S(Y),this.#Q=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#$}set name($){this.#$=$}get chainId(){return this.#Y}set chainId($){this.#Y=S($,"chainId")}matches($){if($==null)return!1;if(typeof $==="string"){try{return this.chainId===S($)}catch(Y){}return this.name===$}if(typeof $==="number"||typeof $==="bigint"){try{return this.chainId===S($)}catch(Y){}return!1}if(typeof $==="object"){if($.chainId!=null){try{return this.chainId===S($.chainId)}catch(Y){}return!1}if($.name!=null)return this.name===$.name;return!1}return!1}get plugins(){return Array.from(this.#Q.values())}attachPlugin($){if(this.#Q.get($.name))throw new Error(`cannot replace existing plugin: ${$.name} `);return this.#Q.set($.name,$.clone()),this}getPlugin($){return this.#Q.get($)||null}getPlugins($){return this.plugins.filter((Y)=>Y.name.split("#")[0]===$)}clone(){const $=new p(this.name,this.chainId);return this.plugins.forEach((Y)=>{$.attachPlugin(Y.clone())}),$}computeIntrinsicGas($){const Y=this.getPlugin("org.ethers.plugins.network.GasCost")||new Y9;let Q=Y.txBase;if($.to==null)Q+=Y.txCreate;if($.data)for(let X=2;X<$.data.length;X+=2)if($.data.substring(X,X+2)==="00")Q+=Y.txDataZero;else Q+=Y.txDataNonzero;if($.accessList){const X=d0($.accessList);for(let J in X)Q+=Y.txAccessListAddress+Y.txAccessListStorageKey*X[J].storageKeys.length}return Q}static from($){if(O6(),$==null)return p.from("mainnet");if(typeof $==="number")$=BigInt($);if(typeof $==="string"||typeof $==="bigint"){const Y=tJ.get($);if(Y)return Y();if(typeof $==="bigint")return new p("unknown",$);z(!1,"unknown network","network",$)}if(typeof $.clone==="function")return $.clone();if(typeof $==="object"){z(typeof $.name==="string"&&typeof $.chainId==="number","invalid network object name or chainId","network",$);const Y=new p($.name,$.chainId);if($.ensAddress||$.ensNetwork!=null)Y.attachPlugin(new Q9($.ensAddress,$.ensNetwork));return Y}z(!1,"invalid network","network",$)}static register($,Y){if(typeof $==="number")$=BigInt($);const Q=tJ.get($);if(Q)z(!1,`conflicting network for ${JSON.stringify(Q.name)}`,"nameOrChainId",$);tJ.set($,Y)}}var XM=!1;var eJ=function($){return JSON.parse(JSON.stringify($))};class $Z{#$;#Y;#Q;#X;constructor($){this.#$=$,this.#Y=null,this.#Q=4000,this.#X=-2}get pollingInterval(){return this.#Q}set pollingInterval($){this.#Q=$}async#J(){try{const $=await this.#$.getBlockNumber();if(this.#X===-2){this.#X=$;return}if($!==this.#X){for(let Y=this.#X+1;Y<=$;Y++){if(this.#Y==null)return;await this.#$.emit("block",Y)}this.#X=$}}catch($){}if(this.#Y==null)return;this.#Y=this.#$._setTimeout(this.#J.bind(this),this.#Q)}start(){if(this.#Y)return;this.#Y=this.#$._setTimeout(this.#J.bind(this),this.#Q),this.#J()}stop(){if(!this.#Y)return;this.#$._clearTimeout(this.#Y),this.#Y=null}pause($){if(this.stop(),$)this.#X=-2}resume(){this.start()}}class rQ{#$;#Y;#Q;constructor($){this.#$=$,this.#Q=!1,this.#Y=(Y)=>{this._poll(Y,this.#$)}}async _poll($,Y){throw new Error("sub-classes must override this")}start(){if(this.#Q)return;this.#Q=!0,this.#Y(-2),this.#$.on("block",this.#Y)}stop(){if(!this.#Q)return;this.#Q=!1,this.#$.off("block",this.#Y)}pause($){this.stop()}resume(){this.start()}}class YZ extends rQ{#$;#Y;constructor($,Y){super($);this.#$=Y,this.#Y=-2}pause($){if($)this.#Y=-2;super.pause($)}async _poll($,Y){const Q=await Y.getBlock(this.#$);if(Q==null)return;if(this.#Y===-2)this.#Y=Q.number;else if(Q.number>this.#Y)Y.emit(this.#$,Q.number),this.#Y=Q.number}}class QZ extends rQ{#$;constructor($,Y){super($);this.#$=eJ(Y)}async _poll($,Y){throw new Error("@TODO")}}class XZ extends rQ{#$;constructor($,Y){super($);this.#$=Y}async _poll($,Y){const Q=await Y.getTransactionReceipt(this.#$);if(Q)Y.emit(this.#$,Q)}}class X9{#$;#Y;#Q;#X;#J;constructor($,Y){this.#$=$,this.#Y=eJ(Y),this.#Q=this.#M.bind(this),this.#X=!1,this.#J=-2}async#M($){if(this.#J===-2)return;const Y=eJ(this.#Y);Y.fromBlock=this.#J+1,Y.toBlock=$;const Q=await this.#$.getLogs(Y);if(Q.length===0){if(this.#J<$-60)this.#J=$-60;return}for(let X of Q)this.#$.emit(this.#Y,X),this.#J=X.blockNumber}start(){if(this.#X)return;if(this.#X=!0,this.#J===-2)this.#$.getBlockNumber().then(($)=>{this.#J=$});this.#$.on("block",this.#Q)}stop(){if(!this.#X)return;this.#X=!1,this.#$.off("block",this.#Q)}pause($){if(this.stop(),$)this.#J=-2}resume(){this.start()}}var tQ=function($){return $&&typeof $.then==="function"},eQ=function($,Y){return $+":"+JSON.stringify(Y,(Q,X)=>{if(X==null)return"null";if(typeof X==="bigint")return`bigint:${X.toString()}`;if(typeof X==="string")return X.toLowerCase();if(typeof X==="object"&&!Array.isArray(X)){const J=Object.keys(X);return J.sort(),J.reduce((Z,M)=>{return Z[M]=X[M],Z},{})}return X})},L6=function($){return JSON.parse(JSON.stringify($))},MZ=function($){return $=Array.from(new Set($).values()),$.sort(),$};async function JZ($,Y){if($==null)throw new Error("invalid event");if(Array.isArray($))$={topics:$};if(typeof $==="string")switch($){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:$,tag:$}}if(g($,32)){const Q=$.toLowerCase();return{type:"transaction",tag:eQ("tx",{hash:Q}),hash:Q}}if($.orphan){const Q=$;return{type:"orphan",tag:eQ("orphan",Q),filter:L6(Q)}}if($.address||$.topics){const Q=$,X={topics:(Q.topics||[]).map((J)=>{if(J==null)return null;if(Array.isArray(J))return MZ(J.map((Z)=>Z.toLowerCase()));return J.toLowerCase()})};if(Q.address){const J=[],Z=[],M=(G)=>{if(g(G))J.push(G);else Z.push((async()=>{J.push(await D0(G,Y))})())};if(Array.isArray(Q.address))Q.address.forEach(M);else M(Q.address);if(Z.length)await Promise.all(Z);X.address=MZ(J.map((G)=>G.toLowerCase()))}return{filter:X,tag:eQ("event",X),type:"event"}}z(!1,"unknown ProviderEvent","event",$)}var ZZ=function(){return(new Date()).getTime()},H6=function($,Y){try{const Q=GZ($,Y);if(Q)return k0(Q)}catch(Q){}return null},GZ=function($,Y){if($==="0x")return null;try{const Q=_(r($,Y,Y+32)),X=_(r($,Q,Q+32));return r($,Q+32,Q+32+X)}catch(Q){}return null},JM=function($){const Y=X0($);if(Y.length>32)throw new Error("internal; should not happen");const Q=new Uint8Array(32);return Q.set(Y,32-Y.length),Q},I6=function($){if($.length%32===0)return $;const Y=new Uint8Array(Math.ceil($.length/32)*32);return Y.set($),Y},C6=function($){const Y=[];let Q=0;for(let X=0;X<$.length;X++)Y.push(q6),Q+=32;for(let X=0;X<$.length;X++){const J=C($[X]);Y[X]=JM(Q),Y.push(JM(J.length)),Y.push(I6(J)),Q+=32+Math.ceil(J.length/32)*32}return k(Y)},E6=function($){const Y={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};L(a0($)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const Q=r($,0,32);L(r(Q,0,12)===r(ZM,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),Y.sender=r(Q,12);try{const X=[],J=_(r($,32,64)),Z=_(r($,J,J+32)),M=r($,J+32);for(let G=0;G<Z;G++){const U=H6(M,G*32);if(U==null)throw new Error("abort");X.push(U)}Y.urls=X}catch(X){L(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const X=GZ($,64);if(X==null)throw new Error("abort");Y.calldata=X}catch(X){L(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}L(r($,100,128)===r(ZM,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),Y.selector=r($,96,100);try{const X=GZ($,128);if(X==null)throw new Error("abort");Y.extraData=X}catch(X){L(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return Y.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((X)=>Y[X]),Y},D6=BigInt(2),K6=10;class W${name;constructor($){T(this,{name:$})}start(){}stop(){}pause($){}resume(){}}var R6={cacheTimeout:250,pollingInterval:4000};class p8{#$;#Y;#Q;#X;#J;#M;#Z;#G;#z;#W;#K;#L;constructor($,Y){if(this.#L=Object.assign({},R6,Y||{}),$==="any")this.#M=!0,this.#J=null;else if($){const Q=p.from($);this.#M=!1,this.#J=Promise.resolve(Q),setTimeout(()=>{this.emit("network",Q,null)},0)}else this.#M=!1,this.#J=null;this.#G=-1,this.#Z=new Map,this.#$=new Map,this.#Y=new Map,this.#Q=null,this.#X=!1,this.#z=1,this.#W=new Map,this.#K=!1}get pollingInterval(){return this.#L.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Y.values())}attachPlugin($){if(this.#Y.get($.name))throw new Error(`cannot replace existing plugin: ${$.name} `);return this.#Y.set($.name,$.connect(this)),this}getPlugin($){return this.#Y.get($)||null}get disableCcipRead(){return this.#K}set disableCcipRead($){this.#K=!!$}async#U($){const Y=this.#L.cacheTimeout;if(Y<0)return await this._perform($);const Q=eQ($.method,$);let X=this.#Z.get(Q);if(!X)X=this._perform($),this.#Z.set(Q,X),setTimeout(()=>{if(this.#Z.get(Q)===X)this.#Z.delete(Q)},Y);return await X}async ccipReadFetch($,Y,Q){if(this.disableCcipRead||Q.length===0||$.to==null)return null;const X=$.to.toLowerCase(),J=Y.toLowerCase(),Z=[];for(let M=0;M<Q.length;M++){const G=Q[M],U=G.replace("{sender}",X).replace("{data}",J),W=new e(U);if(G.indexOf("{data}")===-1)W.body={data:J,sender:X};this.emit("debug",{action:"sendCcipReadFetchRequest",request:W,index:M,urls:Q});let V="unknown error",O;try{O=await W.send()}catch(D){Z.push(D.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:W,result:{error:D}});continue}try{const D=O.bodyJson;if(D.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:W,result:D}),D.data;if(D.message)V=D.message;this.emit("debug",{action:"receiveCcipReadFetchError",request:W,result:D})}catch(D){}L(O.statusCode<400||O.statusCode>=500,`response not found during CCIP fetch: ${V}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:$,info:{url:G,errorMessage:V}}),Z.push(V)}L(!1,`error encountered during CCIP fetch: ${Z.map((M)=>JSON.stringify(M)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:$,info:{urls:Q,errorMessages:Z}})}_wrapBlock($,Y){return new PY(e7($),this)}_wrapLog($,Y){return new x8(t7($),this)}_wrapTransactionReceipt($,Y){return new a$($M($),this)}_wrapTransactionResponse($,Y){return new G$(rJ($),this)}_detectNetwork(){L(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform($){L(!1,`unsupported method: ${$.method}`,"UNSUPPORTED_OPERATION",{operation:$.method,info:$})}async getBlockNumber(){const $=_(await this.#U({method:"getBlockNumber"}),"%response");if(this.#G>=0)this.#G=$;return $}_getAddress($){return D0($,this)}_getBlockTag($){if($==null)return"latest";switch($){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return $}if(g($)){if(g($,32))return $;return B0($)}if(typeof $==="bigint")$=_($,"blockTag");if(typeof $==="number"){if($>=0)return B0($);if(this.#G>=0)return B0(this.#G+$);return this.getBlockNumber().then((Y)=>B0(Y+$))}z(!1,"invalid blockTag","blockTag",$)}_getFilter($){const Y=($.topics||[]).map((G)=>{if(G==null)return null;if(Array.isArray(G))return MZ(G.map((U)=>U.toLowerCase()));return G.toLowerCase()}),Q="blockHash"in $?$.blockHash:void 0,X=(G,U,W)=>{let V=void 0;switch(G.length){case 0:break;case 1:V=G[0];break;default:G.sort(),V=G}if(Q){if(U!=null||W!=null)throw new Error("invalid filter")}const O={};if(V)O.address=V;if(Y.length)O.topics=Y;if(U)O.fromBlock=U;if(W)O.toBlock=W;if(Q)O.blockHash=Q;return O};let J=[];if($.address)if(Array.isArray($.address))for(let G of $.address)J.push(this._getAddress(G));else J.push(this._getAddress($.address));let Z=void 0;if("fromBlock"in $)Z=this._getBlockTag($.fromBlock);let M=void 0;if("toBlock"in $)M=this._getBlockTag($.toBlock);if(J.filter((G)=>typeof G!=="string").length||Z!=null&&typeof Z!=="string"||M!=null&&typeof M!=="string")return Promise.all([Promise.all(J),Z,M]).then((G)=>{return X(G[0],G[1],G[2])});return X(J,Z,M)}_getTransactionRequest($){const Y=_8($),Q=[];if(["to","from"].forEach((X)=>{if(Y[X]==null)return;const J=D0(Y[X],this);if(tQ(J))Q.push(async function(){Y[X]=await J}());else Y[X]=J}),Y.blockTag!=null){const X=this._getBlockTag(Y.blockTag);if(tQ(X))Q.push(async function(){Y.blockTag=await X}());else Y.blockTag=X}if(Q.length)return async function(){return await Promise.all(Q),Y}();return Y}async getNetwork(){if(this.#J==null){const X=(async()=>{try{const J=await this._detectNetwork();return this.emit("network",J,null),J}catch(J){if(this.#J===X)this.#J=null;throw J}})();return this.#J=X,(await X).clone()}const $=this.#J,[Y,Q]=await Promise.all([$,this._detectNetwork()]);if(Y.chainId!==Q.chainId)if(this.#M){if(this.emit("network",Q,Y),this.#J===$)this.#J=Promise.resolve(Q)}else L(!1,`network changed: ${Y.chainId} => ${Q.chainId} `,"NETWORK_ERROR",{event:"changed"});return Y.clone()}async getFeeData(){const $=await this.getNetwork(),Y=async()=>{const{_block:X,gasPrice:J,priorityFee:Z}=await z0({_block:this.#H("latest",!1),gasPrice:(async()=>{try{const W=await this.#U({method:"getGasPrice"});return S(W,"%response")}catch(W){}return null})(),priorityFee:(async()=>{try{const W=await this.#U({method:"getPriorityFee"});return S(W,"%response")}catch(W){}return null})()});let M=null,G=null;const U=this._wrapBlock(X,$);if(U&&U.baseFeePerGas)G=Z!=null?Z:BigInt("1000000000"),M=U.baseFeePerGas*D6+G;return new m9(J,M,G)},Q=$.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(Q){const X=new e(Q.url),J=await Q.processFunc(Y,this,X);return new m9(J.gasPrice,J.maxFeePerGas,J.maxPriorityFeePerGas)}return await Y()}async estimateGas($){let Y=this._getTransactionRequest($);if(tQ(Y))Y=await Y;return S(await this.#U({method:"estimateGas",transaction:Y}),"%response")}async#V($,Y,Q){L(Q<K6,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},$,{blockTag:Y,enableCcipRead:!0})});const X=_8($);try{return q(await this._perform({method:"call",transaction:X,blockTag:Y}))}catch(J){if(!this.disableCcipRead&&O$(J)&&J.data&&Q>=0&&Y==="latest"&&X.to!=null&&r(J.data,0,4)==="0x556f1830"){const Z=J.data,M=await D0(X.to,this);let G;try{G=E6(r(J.data,4))}catch(V){L(!1,V.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:X,info:{data:Z}})}L(G.sender.toLowerCase()===M.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:Z,reason:"OffchainLookup",transaction:X,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:G.errorArgs}});const U=await this.ccipReadFetch(X,G.calldata,G.urls);L(U!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:X,info:{data:J.data,errorArgs:G.errorArgs}});const W={to:M,data:k([G.selector,C6([U,G.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:W});try{const V=await this.#V(W,Y,Q+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},W),result:V}),V}catch(V){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},W),error:V}),V}}throw J}}async#O($){const{value:Y}=await z0({network:this.getNetwork(),value:$});return Y}async call($){const{tx:Y,blockTag:Q}=await z0({tx:this._getTransactionRequest($),blockTag:this._getBlockTag($.blockTag)});return await this.#O(this.#V(Y,Q,$.enableCcipRead?0:-1))}async#D($,Y,Q){let X=this._getAddress(Y),J=this._getBlockTag(Q);if(typeof X!=="string"||typeof J!=="string")[X,J]=await Promise.all([X,J]);return await this.#O(this.#U(Object.assign($,{address:X,blockTag:J})))}async getBalance($,Y){return S(await this.#D({method:"getBalance"},$,Y),"%response")}async getTransactionCount($,Y){return _(await this.#D({method:"getTransactionCount"},$,Y),"%response")}async getCode($,Y){return q(await this.#D({method:"getCode"},$,Y))}async getStorage($,Y,Q){const X=S(Y,"position");return q(await this.#D({method:"getStorage",position:X},$,Q))}async broadcastTransaction($){const{blockNumber:Y,hash:Q,network:X}=await z0({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:$}),network:this.getNetwork()}),J=j0.from($);if(J.hash!==Q)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(J,X).replaceableTransaction(Y)}async#H($,Y){if(g($,32))return await this.#U({method:"getBlock",blockHash:$,includeTransactions:Y});let Q=this._getBlockTag($);if(typeof Q!=="string")Q=await Q;return await this.#U({method:"getBlock",blockTag:Q,includeTransactions:Y})}async getBlock($,Y){const{network:Q,params:X}=await z0({network:this.getNetwork(),params:this.#H($,!!Y)});if(X==null)return null;return this._wrapBlock(X,Q)}async getTransaction($){const{network:Y,params:Q}=await z0({network:this.getNetwork(),params:this.#U({method:"getTransaction",hash:$})});if(Q==null)return null;return this._wrapTransactionResponse(Q,Y)}async getTransactionReceipt($){const{network:Y,params:Q}=await z0({network:this.getNetwork(),params:this.#U({method:"getTransactionReceipt",hash:$})});if(Q==null)return null;if(Q.gasPrice==null&&Q.effectiveGasPrice==null){const X=await this.#U({method:"getTransaction",hash:$});if(X==null)throw new Error("report this; could not find tx or effectiveGasPrice");Q.effectiveGasPrice=X.gasPrice}return this._wrapTransactionReceipt(Q,Y)}async getTransactionResult($){const{result:Y}=await z0({network:this.getNetwork(),result:this.#U({method:"getTransactionResult",hash:$})});if(Y==null)return null;return q(Y)}async getLogs($){let Y=this._getFilter($);if(tQ(Y))Y=await Y;const{network:Q,params:X}=await z0({network:this.getNetwork(),params:this.#U({method:"getLogs",filter:Y})});return X.map((J)=>this._wrapLog(J,Q))}_getProvider($){L(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver($){return await U$.fromName(this,$)}async getAvatar($){const Y=await this.getResolver($);if(Y)return await Y.getAvatar();return null}async resolveName($){const Y=await this.getResolver($);if(Y)return await Y.getAddress();return null}async lookupAddress($){$=P($);const Y=E$($.substring(2).toLowerCase()+".addr.reverse");try{const Q=await U$.getEnsAddress(this),J=await new K8(Q,["function resolver(bytes32) view returns (address)"],this).resolver(Y);if(J==null||J===b8)return null;const M=await new K8(J,["function name(bytes32) view returns (string)"],this).name(Y);if(await this.resolveName(M)!==$)return null;return M}catch(Q){if(t(Q,"BAD_DATA")&&Q.value==="0x")return null;if(t(Q,"CALL_EXCEPTION"))return null;throw Q}return null}async waitForTransaction($,Y,Q){const X=Y!=null?Y:1;if(X===0)return this.getTransactionReceipt($);return new Promise(async(J,Z)=>{let M=null;const G=async(U)=>{try{const W=await this.getTransactionReceipt($);if(W!=null){if(U-W.blockNumber+1>=X){if(J(W),M)clearTimeout(M),M=null;return}}}catch(W){console.log("EEE",W)}this.once("block",G)};if(Q!=null)M=setTimeout(()=>{if(M==null)return;M=null,this.off("block",G),Z(l("timeout","TIMEOUT",{reason:"timeout"}))},Q);G(await this.getBlockNumber())})}async waitForBlock($){L(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout($){const Y=this.#W.get($);if(!Y)return;if(Y.timer)clearTimeout(Y.timer);this.#W.delete($)}_setTimeout($,Y){if(Y==null)Y=0;const Q=this.#z++,X=()=>{this.#W.delete(Q),$()};if(this.paused)this.#W.set(Q,{timer:null,func:X,time:Y});else{const J=setTimeout(X,Y);this.#W.set(Q,{timer:J,func:X,time:ZZ()})}return Q}_forEachSubscriber($){for(let Y of this.#$.values())$(Y.subscriber)}_getSubscriber($){switch($.type){case"debug":case"error":case"network":return new W$($.type);case"block":{const Y=new $Z(this);return Y.pollingInterval=this.pollingInterval,Y}case"safe":case"finalized":return new YZ(this,$.type);case"event":return new X9(this,$.filter);case"transaction":return new XZ(this,$.hash);case"orphan":return new QZ(this,$.filter)}throw new Error(`unsupported event: ${$.type}`)}_recoverSubscriber($,Y){for(let Q of this.#$.values())if(Q.subscriber===$){if(Q.started)Q.subscriber.stop();if(Q.subscriber=Y,Q.started)Y.start();if(this.#Q!=null)Y.pause(this.#Q);break}}async#R($,Y){let Q=await JZ($,this);if(Q.type==="event"&&Y&&Y.length>0&&Y[0].removed===!0)Q=await JZ({orphan:"drop-log",log:Y[0]},this);return this.#$.get(Q.tag)||null}async#I($){const Y=await JZ($,this),Q=Y.tag;let X=this.#$.get(Q);if(!X)X={subscriber:this._getSubscriber(Y),tag:Q,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#$.set(Q,X);return X}async on($,Y){const Q=await this.#I($);if(Q.listeners.push({listener:Y,once:!1}),!Q.started){if(Q.subscriber.start(),Q.started=!0,this.#Q!=null)Q.subscriber.pause(this.#Q)}return this}async once($,Y){const Q=await this.#I($);if(Q.listeners.push({listener:Y,once:!0}),!Q.started){if(Q.subscriber.start(),Q.started=!0,this.#Q!=null)Q.subscriber.pause(this.#Q)}return this}async emit($,...Y){const Q=await this.#R($,Y);if(!Q||Q.listeners.length===0)return!1;const X=Q.listeners.length;if(Q.listeners=Q.listeners.filter(({listener:J,once:Z})=>{const M=new D$(this,Z?null:J,$);try{J.call(this,...Y,M)}catch(G){}return!Z}),Q.listeners.length===0){if(Q.started)Q.subscriber.stop();this.#$.delete(Q.tag)}return X>0}async listenerCount($){if($){const Q=await this.#R($);if(!Q)return 0;return Q.listeners.length}let Y=0;for(let{listeners:Q}of this.#$.values())Y+=Q.length;return Y}async listeners($){if($){const Q=await this.#R($);if(!Q)return[];return Q.listeners.map(({listener:X})=>X)}let Y=[];for(let{listeners:Q}of this.#$.values())Y=Y.concat(Q.map(({listener:X})=>X));return Y}async off($,Y){const Q=await this.#R($);if(!Q)return this;if(Y){const X=Q.listeners.map(({listener:J})=>J).indexOf(Y);if(X>=0)Q.listeners.splice(X,1)}if(!Y||Q.listeners.length===0){if(Q.started)Q.subscriber.stop();this.#$.delete(Q.tag)}return this}async removeAllListeners($){if($){const{tag:Y,started:Q,subscriber:X}=await this.#I($);if(Q)X.stop();this.#$.delete(Y)}else for(let[Y,{started:Q,subscriber:X}]of this.#$){if(Q)X.stop();this.#$.delete(Y)}return this}async addListener($,Y){return await this.on($,Y)}async removeListener($,Y){return this.off($,Y)}get destroyed(){return this.#X}destroy(){this.removeAllListeners();for(let $ of this.#W.keys())this._clearTimeout($);this.#X=!0}get paused(){return this.#Q!=null}set paused($){if(!!$===this.paused)return;if(this.paused)this.resume();else this.pause(!1)}pause($){if(this.#G=-1,this.#Q!=null){if(this.#Q==!!$)return;L(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((Y)=>Y.pause($)),this.#Q=!!$;for(let Y of this.#W.values()){if(Y.timer)clearTimeout(Y.timer);Y.time=ZZ()-Y.time}}resume(){if(this.#Q==null)return;this._forEachSubscriber(($)=>$.resume()),this.#Q=null;for(let $ of this.#W.values()){let Y=$.time;if(Y<0)Y=0;$.time=ZZ(),setTimeout($.func,Y)}}}var q6=new Uint8Array([]),ZM="0x0000000000000000000000000000000000000000000000000000000000000000";var J9=function($,Y){if($.provider)return $.provider;L(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:Y})};async function MM($,Y){let Q=_8(Y);if(Q.to!=null)Q.to=D0(Q.to,$);if(Q.from!=null){const X=Q.from;Q.from=Promise.all([$.getAddress(),D0(X,$)]).then(([J,Z])=>{return z(J.toLowerCase()===Z.toLowerCase(),"transaction from mismatch","tx.from",Z),J})}else Q.from=$.getAddress();return await z0(Q)}class u8{provider;constructor($){T(this,{provider:$||null})}async getNonce($){return J9(this,"getTransactionCount").getTransactionCount(await this.getAddress(),$)}async populateCall($){return await MM(this,$)}async populateTransaction($){const Y=J9(this,"populateTransaction"),Q=await MM(this,$);if(Q.nonce==null)Q.nonce=await this.getNonce("pending");if(Q.gasLimit==null)Q.gasLimit=await this.estimateGas(Q);const X=await this.provider.getNetwork();if(Q.chainId!=null){const Z=S(Q.chainId);z(Z===X.chainId,"transaction chainId mismatch","tx.chainId",$.chainId)}else Q.chainId=X.chainId;const J=Q.maxFeePerGas!=null||Q.maxPriorityFeePerGas!=null;if(Q.gasPrice!=null&&(Q.type===2||J))z(!1,"eip-1559 transaction do not support gasPrice","tx",$);else if((Q.type===0||Q.type===1)&&J)z(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",$);if((Q.type===2||Q.type==null)&&(Q.maxFeePerGas!=null&&Q.maxPriorityFeePerGas!=null))Q.type=2;else if(Q.type===0||Q.type===1){const Z=await Y.getFeeData();if(L(Z.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),Q.gasPrice==null)Q.gasPrice=Z.gasPrice}else{const Z=await Y.getFeeData();if(Q.type==null)if(Z.maxFeePerGas!=null&&Z.maxPriorityFeePerGas!=null){if(Q.authorizationList&&Q.authorizationList.length)Q.type=4;else Q.type=2;if(Q.gasPrice!=null){const M=Q.gasPrice;delete Q.gasPrice,Q.maxFeePerGas=M,Q.maxPriorityFeePerGas=M}else{if(Q.maxFeePerGas==null)Q.maxFeePerGas=Z.maxFeePerGas;if(Q.maxPriorityFeePerGas==null)Q.maxPriorityFeePerGas=Z.maxPriorityFeePerGas}}else if(Z.gasPrice!=null){if(L(!J,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),Q.gasPrice==null)Q.gasPrice=Z.gasPrice;Q.type=0}else L(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else if(Q.type===2||Q.type===3||Q.type===4){if(Q.maxFeePerGas==null)Q.maxFeePerGas=Z.maxFeePerGas;if(Q.maxPriorityFeePerGas==null)Q.maxPriorityFeePerGas=Z.maxPriorityFeePerGas}}return await z0(Q)}async populateAuthorization($){const Y=Object.assign({},$);if(Y.chainId==null)Y.chainId=(await J9(this,"getNetwork").getNetwork()).chainId;if(Y.nonce==null)Y.nonce=await this.getNonce();return Y}async estimateGas($){return J9(this,"estimateGas").estimateGas(await this.populateCall($))}async call($){return J9(this,"call").call(await this.populateCall($))}async resolveName($){return await J9(this,"resolveName").resolveName($)}async sendTransaction($){const Y=J9(this,"sendTransaction"),Q=await this.populateTransaction($);delete Q.from;const X=j0.from(Q);return await Y.broadcastTransaction(await this.signTransaction(X))}authorize($){L(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}class d9 extends u8{address;constructor($,Y){super(Y);T(this,{address:$})}async getAddress(){return this.address}connect($){return new d9(this.address,$)}#$($,Y){L(!1,`VoidSigner cannot sign ${$}`,"UNSUPPORTED_OPERATION",{operation:Y})}async signTransaction($){this.#$("transactions","signTransaction")}async signMessage($){this.#$("messages","signMessage")}async signTypedData($,Y,Q){this.#$("typed-data","signTypedData")}}function l0($){if(GM.has($))return;GM.add($),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${$} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("==========================")}var GM=new Set;var T6=function($){return JSON.parse(JSON.stringify($))};class UZ{#$;#Y;#Q;#X;#J;#M;constructor($){this.#$=$,this.#Y=null,this.#Q=this.#Z.bind(this),this.#X=!1,this.#J=null,this.#M=!1}_subscribe($){throw new Error("subclasses must override this")}_emitResults($,Y){throw new Error("subclasses must override this")}_recover($){throw new Error("subclasses must override this")}async#Z($){try{if(this.#Y==null)this.#Y=this._subscribe(this.#$);let Y=null;try{Y=await this.#Y}catch(J){if(!t(J,"UNSUPPORTED_OPERATION")||J.operation!=="eth_newFilter")throw J}if(Y==null){this.#Y=null,this.#$._recoverSubscriber(this,this._recover(this.#$));return}const Q=await this.#$.getNetwork();if(!this.#J)this.#J=Q;if(this.#J.chainId!==Q.chainId)throw new Error("chaid changed");if(this.#M)return;const X=await this.#$.send("eth_getFilterChanges",[Y]);await this._emitResults(this.#$,X)}catch(Y){console.log("@TODO",Y)}this.#$.once("block",this.#Q)}#G(){const $=this.#Y;if($)this.#Y=null,$.then((Y)=>{if(this.#$.destroyed)return;this.#$.send("eth_uninstallFilter",[Y])})}start(){if(this.#X)return;this.#X=!0,this.#Z(-2)}stop(){if(!this.#X)return;this.#X=!1,this.#M=!0,this.#G(),this.#$.off("block",this.#Q)}pause($){if($)this.#G();this.#$.off("block",this.#Q)}resume(){this.start()}}class WZ extends UZ{#$;constructor($,Y){super($);this.#$=T6(Y)}_recover($){return new X9($,this.#$)}async _subscribe($){return await $.send("eth_newFilter",[this.#$])}async _emitResults($,Y){for(let Q of Y)$.emit(this.#$,$._wrapLog(Q,$._network))}}class VZ extends UZ{async _subscribe($){return await $.send("eth_newPendingTransactionFilter",[])}async _emitResults($,Y){for(let Q of Y)$.emit("pending",Q)}}var $X=function($){if($==null||N6.indexOf(typeof $)>=0)return $;if(typeof $.getAddress==="function")return $;if(Array.isArray($))return $.map($X);if(typeof $==="object")return Object.keys($).reduce((Y,Q)=>{return Y[Q]=$[Q],Y},{});throw new Error(`should not happen: ${$} (${typeof $})`)},S6=function($){return new Promise((Y)=>{setTimeout(Y,$)})},l9=function($){if($)return $.toLowerCase();return $},UM=function($){return $&&typeof $.pollingInterval==="number"},zZ=function($){if($==null)return null;if(typeof $.message==="string"&&$.message.match(/revert/i)&&g($.data))return{message:$.message,data:$.data};if(typeof $==="object"){for(let Y in $){const Q=zZ($[Y]);if(Q)return Q}return null}if(typeof $==="string")try{return zZ(JSON.parse($))}catch(Y){}return null},OZ=function($,Y){if($==null)return;if(typeof $.message==="string")Y.push($.message);if(typeof $==="object")for(let Q in $)OZ($[Q],Y);if(typeof $==="string")try{return OZ(JSON.parse($),Y)}catch(Q){}},B6=function($){const Y=[];return OZ($,Y),Y},N6="bigint,boolean,function,number,string,symbol".split(/,/g),WM={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4000};class i9 extends u8{address;constructor($,Y){super($);Y=P(Y),T(this,{address:Y})}connect($){L(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction($){return await this.populateCall($)}async sendUncheckedTransaction($){const Y=$X($),Q=[];if(Y.from){const J=Y.from;Q.push((async()=>{const Z=await D0(J,this.provider);z(Z!=null&&Z.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",$),Y.from=Z})())}else Y.from=this.address;if(Y.gasLimit==null)Q.push((async()=>{Y.gasLimit=await this.provider.estimateGas({...Y,from:this.address})})());if(Y.to!=null){const J=Y.to;Q.push((async()=>{Y.to=await D0(J,this.provider)})())}if(Q.length)await Promise.all(Q);const X=this.provider.getRpcTransaction(Y);return this.provider.send("eth_sendTransaction",[X])}async sendTransaction($){const Y=await this.provider.getBlockNumber(),Q=await this.sendUncheckedTransaction($);return await new Promise((X,J)=>{const Z=[1000,100];let M=0;const G=async()=>{try{const U=await this.provider.getTransaction(Q);if(U!=null){X(U.replaceableTransaction(Y));return}}catch(U){if(t(U,"CANCELLED")||t(U,"BAD_DATA")||t(U,"NETWORK_ERROR")||t(U,"UNSUPPORTED_OPERATION")){if(U.info==null)U.info={};U.info.sendTransactionHash=Q,J(U);return}if(t(U,"INVALID_ARGUMENT")){if(M++,U.info==null)U.info={};if(U.info.sendTransactionHash=Q,M>10){J(U);return}}this.provider.emit("error",l("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:U}))}this.provider._setTimeout(()=>{G()},Z.pop()||4000)};G()})}async signTransaction($){const Y=$X($);if(Y.from){const X=await D0(Y.from,this.provider);z(X!=null&&X.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",$),Y.from=X}else Y.from=this.address;const Q=this.provider.getRpcTransaction(Y);return await this.provider.send("eth_signTransaction",[Q])}async signMessage($){const Y=typeof $==="string"?i($):$;return await this.provider.send("personal_sign",[q(Y),this.address.toLowerCase()])}async signTypedData($,Y,Q){const X=$X(Q),J=await T0.resolveNames($,Y,X,async(Z)=>{const M=await D0(Z);return z(M!=null,"TypedData does not support null address","value",Z),M});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(T0.getPayload(J.domain,Y,J.value))])}async unlock($){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),$,null])}async _legacySignMessage($){const Y=typeof $==="string"?i($):$;return await this.provider.send("eth_sign",[this.address.toLowerCase(),q(Y)])}}class n9 extends p8{#$;#Y;#Q;#X;#J;#M;#Z;#G(){if(this.#X)return;const $=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#X=setTimeout(()=>{this.#X=null;const Y=this.#Q;this.#Q=[];while(Y.length){const Q=[Y.shift()];while(Y.length){if(Q.length===this.#$.batchMaxCount)break;if(Q.push(Y.shift()),JSON.stringify(Q.map((J)=>J.payload)).length>this.#$.batchMaxSize){Y.unshift(Q.pop());break}}(async()=>{const X=Q.length===1?Q[0].payload:Q.map((J)=>J.payload);this.emit("debug",{action:"sendRpcPayload",payload:X});try{const J=await this._send(X);this.emit("debug",{action:"receiveRpcResult",result:J});for(let{resolve:Z,reject:M,payload:G}of Q){if(this.destroyed){M(l("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:G.method}));continue}const U=J.filter((W)=>W.id===G.id)[0];if(U==null){const W=l("missing response for request","BAD_DATA",{value:J,info:{payload:G}});this.emit("error",W),M(W);continue}if("error"in U){M(this.getRpcError(G,U));continue}Z(U.result)}}catch(J){this.emit("debug",{action:"receiveRpcError",error:J});for(let{reject:Z}of Q)Z(J)}})()}},$)}constructor($,Y){super($,Y);this.#Y=1,this.#$=Object.assign({},WM,Y||{}),this.#Q=[],this.#X=null,this.#M=null,this.#Z=null;{let X=null;const J=new Promise((Z)=>{X=Z});this.#J={promise:J,resolve:X}}const Q=this._getOption("staticNetwork");if(typeof Q==="boolean"){if(z(!Q||$!=="any","staticNetwork cannot be used on special network 'any'","options",Y),Q&&$!=null)this.#M=p.from($)}else if(Q)z($==null||Q.matches($),"staticNetwork MUST match network object","options",Y),this.#M=Q}_getOption($){return this.#$[$]}get _network(){return L(this.#M,"network is not available yet","NETWORK_ERROR"),this.#M}async _perform($){if($.method==="call"||$.method==="estimateGas"){let Q=$.transaction;if(Q&&Q.type!=null&&S(Q.type)){if(Q.maxFeePerGas==null&&Q.maxPriorityFeePerGas==null){const X=await this.getFeeData();if(X.maxFeePerGas==null&&X.maxPriorityFeePerGas==null)$=Object.assign({},$,{transaction:Object.assign({},Q,{type:void 0})})}}}const Y=this.getRpcRequest($);if(Y!=null)return await this.send(Y.method,Y.args);return super._perform($)}async _detectNetwork(){const $=this._getOption("staticNetwork");if($)if($===!0){if(this.#M)return this.#M}else return $;if(this.#Z)return await this.#Z;if(this.ready)return this.#Z=(async()=>{try{const Y=p.from(S(await this.send("eth_chainId",[])));return this.#Z=null,Y}catch(Y){throw this.#Z=null,Y}})(),await this.#Z;return this.#Z=(async()=>{const Y={id:this.#Y++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:Y});let Q;try{Q=(await this._send(Y))[0],this.#Z=null}catch(X){throw this.#Z=null,this.emit("debug",{action:"receiveRpcError",error:X}),X}if(this.emit("debug",{action:"receiveRpcResult",result:Q}),("result"in Q))return p.from(S(Q.result));throw this.getRpcError(Y,Q)})(),await this.#Z}_start(){if(this.#J==null||this.#J.resolve==null)return;this.#J.resolve(),this.#J=null,(async()=>{while(this.#M==null&&!this.destroyed)try{this.#M=await this._detectNetwork()}catch($){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",l("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:$}})),await S6(1000)}this.#G()})()}async _waitUntilReady(){if(this.#J==null)return;return await this.#J.promise}_getSubscriber($){if($.type==="pending")return new VZ(this);if($.type==="event"){if(this._getOption("polling"))return new X9(this,$.filter);return new WZ(this,$.filter)}if($.type==="orphan"&&$.filter.orphan==="drop-log")return new W$("orphan");return super._getSubscriber($)}get ready(){return this.#J==null}getRpcTransaction($){const Y={};if(["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((Q)=>{if($[Q]==null)return;let X=Q;if(Q==="gasLimit")X="gas";Y[X]=B0(S($[Q],`tx.${Q}`))}),["from","to","data"].forEach((Q)=>{if($[Q]==null)return;Y[Q]=q($[Q])}),$.accessList)Y.accessList=d0($.accessList);if($.blobVersionedHashes)Y.blobVersionedHashes=$.blobVersionedHashes.map((Q)=>Q.toLowerCase());if($.authorizationList)Y.authorizationList=$.authorizationList.map((Q)=>{const X=_9(Q);return{address:X.address,nonce:B0(X.nonce),chainId:B0(X.chainId),yParity:B0(X.signature.yParity),r:B0(X.signature.r),s:B0(X.signature.s)}});return Y}getRpcRequest($){switch($.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[l9($.address),$.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[l9($.address),$.blockTag]};case"getCode":return{method:"eth_getCode",args:[l9($.address),$.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[l9($.address),"0x"+$.position.toString(16),$.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[$.signedTransaction]};case"getBlock":if("blockTag"in $)return{method:"eth_getBlockByNumber",args:[$.blockTag,!!$.includeTransactions]};else if("blockHash"in $)return{method:"eth_getBlockByHash",args:[$.blockHash,!!$.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[$.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[$.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction($.transaction),$.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction($.transaction)]};case"getLogs":if($.filter&&$.filter.address!=null)if(Array.isArray($.filter.address))$.filter.address=$.filter.address.map(l9);else $.filter.address=l9($.filter.address);return{method:"eth_getLogs",args:[$.filter]}}return null}getRpcError($,Y){const{method:Q}=$,{error:X}=Y;if(Q==="eth_estimateGas"&&X.message){const M=X.message;if(!M.match(/revert/i)&&M.match(/insufficient funds/i))return l("insufficient funds","INSUFFICIENT_FUNDS",{transaction:$.params[0],info:{payload:$,error:X}});else if(M.match(/nonce/i)&&M.match(/too low/i))return l("nonce has already been used","NONCE_EXPIRED",{transaction:$.params[0],info:{payload:$,error:X}})}if(Q==="eth_call"||Q==="eth_estimateGas"){const M=zZ(X),G=O8.getBuiltinCallException(Q==="eth_call"?"call":"estimateGas",$.params[0],M?M.data:null);return G.info={error:X,payload:$},G}const J=JSON.stringify(B6(X));if(typeof X.message==="string"&&X.message.match(/user denied|ethers-user-denied/i))return l("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[Q]||"unknown",reason:"rejected",info:{payload:$,error:X}});if(Q==="eth_sendRawTransaction"||Q==="eth_sendTransaction"){const M=$.params[0];if(J.match(/insufficient funds|base fee exceeds gas limit/i))return l("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:M,info:{error:X}});if(J.match(/nonce/i)&&J.match(/too low/i))return l("nonce has already been used","NONCE_EXPIRED",{transaction:M,info:{error:X}});if(J.match(/replacement transaction/i)&&J.match(/underpriced/i))return l("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:M,info:{error:X}});if(J.match(/only replay-protected/i))return l("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:Q,info:{transaction:M,info:{error:X}}})}let Z=!!J.match(/the method .* does not exist/i);if(!Z){if(X&&X.details&&X.details.startsWith("Unauthorized method:"))Z=!0}if(Z)return l("unsupported operation","UNSUPPORTED_OPERATION",{operation:$.method,info:{error:X,payload:$}});return l("could not coalesce error","UNKNOWN_ERROR",{error:X,payload:$})}send($,Y){if(this.destroyed)return Promise.reject(l("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:$}));const Q=this.#Y++,X=new Promise((J,Z)=>{this.#Q.push({resolve:J,reject:Z,payload:{method:$,params:Y,id:Q,jsonrpc:"2.0"}})});return this.#G(),X}async getSigner($){if($==null)$=0;const Y=this.send("eth_accounts",[]);if(typeof $==="number"){const X=await Y;if($>=X.length)throw new Error("no such account");return new i9(this,X[$])}const{accounts:Q}=await z0({network:this.getNetwork(),accounts:Y});$=P($);for(let X of Q)if(P(X)===$)return new i9(this,$);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((Y)=>new i9(this,Y))}destroy(){if(this.#X)clearTimeout(this.#X),this.#X=null;for(let{payload:$,reject:Y}of this.#Q)Y(l("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:$.method}));this.#Q=[],super.destroy()}}class YX extends n9{#$;constructor($,Y){super($,Y);let Q=this._getOption("pollingInterval");if(Q==null)Q=WM.pollingInterval;this.#$=Q}_getSubscriber($){const Y=super._getSubscriber($);if(UM(Y))Y.pollingInterval=this.#$;return Y}get pollingInterval(){return this.#$}set pollingInterval($){if(!Number.isInteger($)||$<0)throw new Error("invalid interval");this.#$=$,this._forEachSubscriber((Y)=>{if(UM(Y))Y.pollingInterval=this.#$})}}class R0 extends YX{#$;constructor($,Y,Q){if($==null)$="http://localhost:8545";super(Y,Q);if(typeof $==="string")this.#$=new e($);else this.#$=$.clone()}_getConnection(){return this.#$.clone()}async send($,Y){return await this._start(),await super.send($,Y)}async _send($){const Y=this._getConnection();Y.body=JSON.stringify($),Y.setHeader("content-type","application/json");const Q=await Y.send();Q.assertOk();let X=Q.bodyJson;if(!Array.isArray(X))X=[X];return X}}var A6=function($){switch($){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}z(!1,"unsupported network","network",$)},QX="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class Z9 extends R0{apiKey;constructor($,Y){if($==null)$="mainnet";const Q=p.from($);if(Y==null)Y=QX;const X={polling:!0,staticNetwork:Q},J=Z9.getRequest(Q,Y);super(J,Q,X);T(this,{apiKey:Y})}_getProvider($){try{return new Z9($,this.apiKey)}catch(Y){}return super._getProvider($)}static getRequest($,Y){if(Y==null)Y=QX;const Q=new e(`https://${A6($.name)}/${Y}`);if(Q.allowGzip=!0,Y===QX)Q.retryFunc=async(X,J,Z)=>{return l0("AnkrProvider"),!0};return Q}getRpcError($,Y){if($.method==="eth_sendRawTransaction"){if(Y&&Y.error&&Y.error.message==="INTERNAL_ERROR: could not replace existing tx")Y.error.message="replacement transaction underpriced"}return super.getRpcError($,Y)}isCommunityResource(){return this.apiKey===QX}}var P6=function($){switch($){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}z(!1,"unsupported network","network",$)},XX="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class M9 extends R0{apiKey;constructor($,Y){if($==null)$="mainnet";const Q=p.from($);if(Y==null)Y=XX;const X=M9.getRequest(Q,Y);super(X,Q,{staticNetwork:Q});T(this,{apiKey:Y})}_getProvider($){try{return new M9($,this.apiKey)}catch(Y){}return super._getProvider($)}async _perform($){if($.method==="getTransactionResult"){const{trace:Y,tx:Q}=await z0({trace:this.send("trace_transaction",[$.hash]),tx:this.getTransaction($.hash)});if(Y==null||Q==null)return null;let X,J=!1;try{X=Y[0].result.output,J=Y[0].error==="Reverted"}catch(Z){}if(X)return L(!J,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:X,reason:null,transaction:Q,invocation:null,revert:null}),X;L(!1,"could not parse trace result","BAD_DATA",{value:Y})}return await super._perform($)}isCommunityResource(){return this.apiKey===XX}static getRequest($,Y){if(Y==null)Y=XX;const Q=new e(`https://${P6($.name)}/v2/${Y}`);if(Q.allowGzip=!0,Y===XX)Q.retryFunc=async(X,J,Z)=>{return l0("alchemy"),!0};return Q}}var JX=function($){switch($){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}z(!1,"unsupported network","network",$)},j6=function($){switch($){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}z(!1,"unsupported network","network",$)};class G9 extends R0{apiKey;constructor($,Y){if($==null)$="mainnet";const Q=p.from($);if(Y==null)Y=JX(Q.name);const X=G9.getRequest(Q,Y);super(X,Q,{staticNetwork:Q});T(this,{apiKey:Y})}_getProvider($){try{return new G9($,this.apiKey)}catch(Y){}return super._getProvider($)}isCommunityResource(){return this.apiKey===JX(this._network.name)}static getRequest($,Y){if(Y==null)Y=JX($.name);const Q=new e(`https://${j6($.name)}/${Y}`);if(Q.allowGzip=!0,Y===JX($.name))Q.retryFunc=async(X,J,Z)=>{return l0("ChainstackProvider"),!0};return Q}}class fY extends R0{constructor($){if($==null)$="mainnet";const Y=p.from($);z(Y.name==="mainnet","unsupported network","network",$);super("https://cloudflare-eth.com/",Y,{staticNetwork:Y})}}var F6=function($){return $&&typeof $.then==="function"},VM=2000,zM="org.ethers.plugins.provider.Etherscan";class ZX extends c8{baseUrl;constructor($){super(zM);T(this,{baseUrl:$})}clone(){return new ZX(this.baseUrl)}}var w6=["enableCcipRead"],_6=1;class hY extends p8{network;apiKey;#$;constructor($,Y){const Q=Y!=null?Y:null;super();const X=p.from($);this.#$=X.getPlugin(zM),T(this,{apiKey:Q,network:X}),this.getBaseUrl()}getBaseUrl(){if(this.#$)return this.#$.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";default:}z(!1,"unsupported network","network",this.network)}getUrl($,Y){const Q=Object.keys(Y).reduce((J,Z)=>{const M=Y[Z];if(M!=null)J+=`&${Z}=${M}`;return J},""),X=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${$}${Q}${X}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData($,Y){return Y.module=$,Y.apikey=this.apiKey,Y}async detectNetwork(){return this.network}async fetch($,Y,Q){const X=_6++,J=Q?this.getPostUrl():this.getUrl($,Y),Z=Q?this.getPostData($,Y):null;this.emit("debug",{action:"sendRequest",id:X,url:J,payload:Z});const M=new e(J);if(M.setThrottleParams({slotInterval:1000}),M.retryFunc=(W,V,O)=>{if(this.isCommunityResource())l0("Etherscan");return Promise.resolve(!0)},M.processFunc=async(W,V)=>{const O=V.hasBody()?JSON.parse(k0(V.body)):{},D=(typeof O.result==="string"?O.result:"").toLowerCase().indexOf("rate limit")>=0;if($==="proxy"){if(O&&O.status==0&&O.message=="NOTOK"&&D)this.emit("debug",{action:"receiveError",id:X,reason:"proxy-NOTOK",error:O}),V.throwThrottleError(O.result,VM)}else if(D)this.emit("debug",{action:"receiveError",id:X,reason:"null result",error:O.result}),V.throwThrottleError(O.result,VM);return V},Z)M.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),M.body=Object.keys(Z).map((W)=>`${W}=${Z[W]}`).join("&");const G=await M.send();try{G.assertOk()}catch(W){this.emit("debug",{action:"receiveError",id:X,error:W,reason:"assertOk"}),L(!1,"response error","SERVER_ERROR",{request:M,response:G})}if(!G.hasBody())this.emit("debug",{action:"receiveError",id:X,error:"missing body",reason:"null body"}),L(!1,"missing response","SERVER_ERROR",{request:M,response:G});const U=JSON.parse(k0(G.body));if($==="proxy"){if(U.jsonrpc!="2.0")this.emit("debug",{action:"receiveError",id:X,result:U,reason:"invalid JSON-RPC"}),L(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:M,response:G,info:{result:U}});if(U.error)this.emit("debug",{action:"receiveError",id:X,result:U,reason:"JSON-RPC error"}),L(!1,"error response","SERVER_ERROR",{request:M,response:G,info:{result:U}});return this.emit("debug",{action:"receiveRequest",id:X,result:U}),U.result}else{if(U.status==0&&(U.message==="No records found"||U.message==="No transactions found"))return this.emit("debug",{action:"receiveRequest",id:X,result:U}),U.result;if(U.status!=1||typeof U.message==="string"&&!U.message.match(/^OK/))this.emit("debug",{action:"receiveError",id:X,result:U}),L(!1,"error response","SERVER_ERROR",{request:M,response:G,info:{result:U}});return this.emit("debug",{action:"receiveRequest",id:X,result:U}),U.result}}_getTransactionPostData($){const Y={};for(let Q in $){if(w6.indexOf(Q)>=0)continue;if($[Q]==null)continue;let X=$[Q];if(Q==="type"&&X===0)continue;if(Q==="blockTag"&&X==="latest")continue;if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[Q])X=B0(X);else if(Q==="accessList")X="["+d0(X).map((J)=>{return`{address:"${J.address}",storageKeys:["${J.storageKeys.join('","')}"]}`}).join(",")+"]";else if(Q==="blobVersionedHashes"){if(X.length===0)continue;L(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:$}})}else X=q(X);Y[Q]=X}return Y}_checkError($,Y,Q){let X="";if(t(Y,"SERVER_ERROR")){try{X=Y.info.result.error.message}catch(J){}if(!X)try{X=Y.info.message}catch(J){}}if($.method==="estimateGas"){if(!X.match(/revert/i)&&X.match(/insufficient funds/i))L(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:$.transaction})}if($.method==="call"||$.method==="estimateGas"){if(X.match(/execution reverted/i)){let J="";try{J=Y.info.result.error.data}catch(M){}const Z=O8.getBuiltinCallException($.method,$.transaction,J);throw Z.info={request:$,error:Y},Z}}if(X){if($.method==="broadcastTransaction"){const J=j0.from($.signedTransaction);if(X.match(/replacement/i)&&X.match(/underpriced/i))L(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:J});if(X.match(/insufficient funds/))L(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:J});if(X.match(/same hash was already imported|transaction nonce is too low|nonce too low/))L(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:J})}}throw Y}async _detectNetwork(){return this.network}async _perform($){switch($.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";else if(this.network.name==="optimism")return"1000000";else throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:$.address,tag:$.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:$.address,tag:$.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:$.address,tag:$.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:$.address,position:$.position,tag:$.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:$.signedTransaction},!0).catch((Y)=>{return this._checkError($,Y,$.signedTransaction)});case"getBlock":if("blockTag"in $)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:$.blockTag,boolean:$.includeTransactions?"true":"false"});L(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:$.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:$.hash});case"call":{if($.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const Y=this._getTransactionPostData($.transaction);Y.module="proxy",Y.action="eth_call";try{return await this.fetch("proxy",Y,!0)}catch(Q){return this._checkError($,Q,$.transaction)}}case"estimateGas":{const Y=this._getTransactionPostData($.transaction);Y.module="proxy",Y.action="eth_estimateGas";try{return await this.fetch("proxy",Y,!0)}catch(Q){return this._checkError($,Q,$.transaction)}}default:break}return super._perform($)}async getNetwork(){return this.network}async getEtherPrice(){if(this.network.name!=="mainnet")return 0;return parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract($){let Y=this._getAddress($);if(F6(Y))Y=await Y;try{const Q=await this.fetch("contract",{action:"getabi",address:Y}),X=JSON.parse(Q);return new K8(Y,X,this)}catch(Q){return null}}isCommunityResource(){return this.apiKey==null}}var x6=function(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof window!=="undefined")return window;throw new Error("unable to locate global object")},OM=x6().WebSocket;class o9{#$;#Y;get filter(){return JSON.parse(this.#Y)}#Q;#X;#J;constructor($,Y){this.#$=$,this.#Y=JSON.stringify(Y),this.#Q=null,this.#X=null,this.#J=null}start(){this.#Q=this.#$.send("eth_subscribe",this.filter).then(($)=>{return this.#$._register($,this),$})}stop(){this.#Q.then(($)=>{if(this.#$.destroyed)return;this.#$.send("eth_unsubscribe",[$])}),this.#Q=null}pause($){L($,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#X=!!$}resume(){this.#X=null}_handleMessage($){if(this.#Q==null)return;if(this.#X===null){let Y=this.#J;if(Y==null)Y=this._emit(this.#$,$);else Y=Y.then(async()=>{await this._emit(this.#$,$)});this.#J=Y.then(()=>{if(this.#J===Y)this.#J=null})}}async _emit($,Y){throw new Error("sub-classes must implemente this; _emit")}}class MX extends o9{constructor($){super($,["newHeads"])}async _emit($,Y){$.emit("block",parseInt(Y.number))}}class GX extends o9{constructor($){super($,["newPendingTransactions"])}async _emit($,Y){$.emit("pending",Y)}}class UX extends o9{#$;get logFilter(){return JSON.parse(this.#$)}constructor($,Y){super($,["logs",Y]);this.#$=JSON.stringify(Y)}async _emit($,Y){$.emit(this.logFilter,$._wrapLog(Y,$._network))}}class kY extends n9{#$;#Y;#Q;constructor($,Y){const Q=Object.assign({},Y!=null?Y:{});if(z(Q.batchMaxCount==null||Q.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",Y),Q.batchMaxCount=1,Q.staticNetwork==null)Q.staticNetwork=!0;super($,Q);this.#$=new Map,this.#Y=new Map,this.#Q=new Map}_getSubscriber($){switch($.type){case"close":return new W$("close");case"block":return new MX(this);case"pending":return new GX(this);case"event":return new UX(this,$.filter);case"orphan":if($.filter.orphan==="drop-log")return new W$("drop-log")}return super._getSubscriber($)}_register($,Y){this.#Y.set($,Y);const Q=this.#Q.get($);if(Q){for(let X of Q)Y._handleMessage(X);this.#Q.delete($)}}async _send($){z(!Array.isArray($),"WebSocket does not support batch send","payload",$);const Y=new Promise((Q,X)=>{this.#$.set($.id,{payload:$,resolve:Q,reject:X})});return await this._waitUntilReady(),await this._write(JSON.stringify($)),[await Y]}async _processMessage($){const Y=JSON.parse($);if(Y&&typeof Y==="object"&&("id"in Y)){const Q=this.#$.get(Y.id);if(Q==null){this.emit("error",l("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:Y}));return}this.#$.delete(Y.id),Q.resolve(Y)}else if(Y&&Y.method==="eth_subscription"){const Q=Y.params.subscription,X=this.#Y.get(Q);if(X)X._handleMessage(Y.params.result);else{let J=this.#Q.get(Q);if(J==null)J=[],this.#Q.set(Q,J);J.push(Y.params.result)}}else{this.emit("error",l("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:Y}));return}}async _write($){throw new Error("sub-classes must override this")}}class U9 extends kY{#$;#Y;get websocket(){if(this.#Y==null)throw new Error("websocket closed");return this.#Y}constructor($,Y,Q){super(Y,Q);if(typeof $==="string")this.#$=()=>{return new OM($)},this.#Y=this.#$();else if(typeof $==="function")this.#$=$,this.#Y=$();else this.#$=null,this.#Y=$;this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(X){console.log("failed to start WebsocketProvider",X)}},this.websocket.onmessage=(X)=>{this._processMessage(X.data)}}async _write($){this.websocket.send($)}async destroy(){if(this.#Y!=null)this.#Y.close(),this.#Y=null;super.destroy()}}var f6=function($){switch($){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}z(!1,"unsupported network","network",$)},bY="84842078b09946638c03157f83405213";class WX extends U9{projectId;projectSecret;constructor($,Y){const Q=new N$($,Y),X=Q._getConnection();L(!X.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const J=X.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(J,Q._network);T(this,{projectId:Q.projectId,projectSecret:Q.projectSecret})}isCommunityResource(){return this.projectId===bY}}class N$ extends R0{projectId;projectSecret;constructor($,Y,Q){if($==null)$="mainnet";const X=p.from($);if(Y==null)Y=bY;if(Q==null)Q=null;const J=N$.getRequest(X,Y,Q);super(J,X,{staticNetwork:X});T(this,{projectId:Y,projectSecret:Q})}_getProvider($){try{return new N$($,this.projectId,this.projectSecret)}catch(Y){}return super._getProvider($)}isCommunityResource(){return this.projectId===bY}static getWebSocketProvider($,Y){return new WX($,Y)}static getRequest($,Y,Q){if(Y==null)Y=bY;if(Q==null)Q=null;const X=new e(`https://${f6($.name)}/v3/${Y}`);if(X.allowGzip=!0,Q)X.setCredentials("",Q);if(Y===bY)X.retryFunc=async(J,Z,M)=>{return l0("InfuraProvider"),!0};return X}}var h6=function($){switch($){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}z(!1,"unsupported network","network",$)},VX="919b412a057b5e9c9b6dce193c5a60242d6efadb";class W9 extends R0{token;constructor($,Y){if($==null)$="mainnet";const Q=p.from($);if(Y==null)Y=VX;const X=W9.getRequest(Q,Y);super(X,Q,{staticNetwork:Q});T(this,{token:Y})}_getProvider($){try{return new W9($,this.token)}catch(Y){}return super._getProvider($)}isCommunityResource(){return this.token===VX}static getRequest($,Y){if(Y==null)Y=VX;const Q=new e(`https://${h6($.name)}/${Y}`);if(Q.allowGzip=!0,Y===VX)Q.retryFunc=async(X,J,Z)=>{return l0("QuickNodeProvider"),!0};return Q}}var y6=function($){for(let Y=$.length-1;Y>0;Y--){const Q=Math.floor(Math.random()*(Y+1)),X=$[Y];$[Y]=$[Q],$[Q]=X}},v6=function($){return new Promise((Y)=>{setTimeout(Y,$)})},RZ=function(){return(new Date()).getTime()},DZ=function($){return JSON.stringify($,(Y,Q)=>{if(typeof Q==="bigint")return{type:"bigint",value:Q.toString()};return Q})};async function g6($,Y){while($.blockNumber<0||$.blockNumber<Y){if(!$._updateNumber)$._updateNumber=(async()=>{try{const Q=await $.provider.getBlockNumber();if(Q>$.blockNumber)$.blockNumber=Q}catch(Q){$.blockNumber=-2,$._lastFatalError=Q,$._lastFatalErrorTimestamp=RZ()}$._updateNumber=null})();if(await $._updateNumber,$.outOfSync++,$._lastFatalError)break}}var s9=function($){if($==null)return"null";if(Array.isArray($))return"["+$.map(s9).join(",")+"]";if(typeof $==="object"&&typeof $.toJSON==="function")return s9($.toJSON());switch(typeof $){case"boolean":case"symbol":return $.toString();case"bigint":case"number":return BigInt($).toString();case"string":return JSON.stringify($);case"object":{const Y=Object.keys($);return Y.sort(),"{"+Y.map((Q)=>`${JSON.stringify(Q)}:${s9($[Q])}`).join(",")+"}"}}throw console.log("Could not serialize",$),new Error("Hmm...")},KZ=function($,Y){if("error"in Y){const X=Y.error;let J;if(t(X,"CALL_EXCEPTION"))J=s9(Object.assign({},X,{shortMessage:void 0,reason:void 0,info:void 0}));else J=s9(X);return{tag:J,value:X}}const Q=Y.result;return{tag:s9(Q),value:Q}},zX=function($,Y){const Q=new Map;for(let{value:J,tag:Z,weight:M}of Y){const G=Q.get(Z)||{value:J,weight:0};G.weight+=M,Q.set(Z,G)}let X=null;for(let J of Q.values())if(J.weight>=$&&(!X||J.weight>X.weight))X=J;if(X)return X.value;return},HZ=function($,Y){let Q=0;const X=new Map;let J=null;const Z=[];for(let{value:G,tag:U,weight:W}of Y)if(G instanceof Error){const V=X.get(U)||{value:G,weight:0};if(V.weight+=W,X.set(U,V),J==null||V.weight>J.weight)J=V}else Z.push(BigInt(G)),Q+=W;if(Q<$){if(J&&J.weight>=$)return J.value;return}Z.sort((G,U)=>G<U?-1:U>G?1:0);const M=Math.floor(Z.length/2);if(Z.length%2)return Z[M];return(Z[M-1]+Z[M]+k6)/b6},LZ=function($,Y){const Q=zX($,Y);if(Q!==void 0)return Q;for(let X of Y)if(X.value)return X.value;return},m6=function($,Y){if($===1)return _(HZ($,Y),"%internal");const Q=new Map,X=(M,G)=>{const U=Q.get(M)||{result:M,weight:0};U.weight+=G,Q.set(M,U)};for(let{weight:M,value:G}of Y){const U=_(G);X(U-1,M),X(U,M),X(U+1,M)}let J=0,Z=void 0;for(let{weight:M,result:G}of Q.values())if(M>=$&&(M>J||Z!=null&&M===J&&G>Z))J=M,Z=G;return Z},k6=BigInt("1"),b6=BigInt("2"),DM={stallTimeout:400,priority:1,weight:1},KM={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};class yY extends p8{quorum;eventQuorum;eventWorkers;#$;#Y;#Q;constructor($,Y,Q){super(Y,Q);if(this.#$=$.map((X)=>{if(X instanceof p8)return Object.assign({provider:X},DM,KM);else return Object.assign({},DM,X,KM)}),this.#Y=-2,this.#Q=null,Q&&Q.quorum!=null)this.quorum=Q.quorum;else this.quorum=Math.ceil(this.#$.reduce((X,J)=>{return X+=J.weight,X},0)/2);this.eventQuorum=1,this.eventWorkers=1,z(this.quorum<=this.#$.reduce((X,J)=>X+J.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#$.map(($)=>{const Y=Object.assign({},$);for(let Q in Y)if(Q[0]==="_")delete Y[Q];return Y})}async _detectNetwork(){return p.from(S(await this._perform({method:"chainId"})))}async _translatePerform($,Y){switch(Y.method){case"broadcastTransaction":return await $.broadcastTransaction(Y.signedTransaction);case"call":return await $.call(Object.assign({},Y.transaction,{blockTag:Y.blockTag}));case"chainId":return(await $.getNetwork()).chainId;case"estimateGas":return await $.estimateGas(Y.transaction);case"getBalance":return await $.getBalance(Y.address,Y.blockTag);case"getBlock":{const Q="blockHash"in Y?Y.blockHash:Y.blockTag;return await $.getBlock(Q,Y.includeTransactions)}case"getBlockNumber":return await $.getBlockNumber();case"getCode":return await $.getCode(Y.address,Y.blockTag);case"getGasPrice":return(await $.getFeeData()).gasPrice;case"getPriorityFee":return(await $.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await $.getLogs(Y.filter);case"getStorage":return await $.getStorage(Y.address,Y.position,Y.blockTag);case"getTransaction":return await $.getTransaction(Y.hash);case"getTransactionCount":return await $.getTransactionCount(Y.address,Y.blockTag);case"getTransactionReceipt":return await $.getTransactionReceipt(Y.hash);case"getTransactionResult":return await $.getTransactionResult(Y.hash)}}#X($){const Y=Array.from($).map((X)=>X.config),Q=this.#$.slice();y6(Q),Q.sort((X,J)=>X.priority-J.priority);for(let X of Q){if(X._lastFatalError)continue;if(Y.indexOf(X)===-1)return X}return null}#J($,Y){const Q=this.#X($);if(Q==null)return null;const X={config:Q,result:null,didBump:!1,perform:null,staller:null},J=RZ();return X.perform=(async()=>{try{Q.requests++;const M=await this._translatePerform(Q.provider,Y);X.result={result:M}}catch(M){Q.errorResponses++,X.result={error:M}}const Z=RZ()-J;Q._totalTime+=Z,Q.rollingDuration=0.95*Q.rollingDuration+0.05*Z,X.perform=null})(),X.staller=(async()=>{await v6(Q.stallTimeout),X.staller=null})(),$.add(X),X}async#M(){let $=this.#Q;if(!$){const Y=[];this.#$.forEach((Q)=>{Y.push((async()=>{if(await g6(Q,0),!Q._lastFatalError)Q._network=await Q.provider.getNetwork()})())}),this.#Q=$=(async()=>{await Promise.all(Y);let Q=null;for(let X of this.#$){if(X._lastFatalError)continue;const J=X._network;if(Q==null)Q=J.chainId;else if(J.chainId!==Q)L(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await $}async#Z($,Y){const Q=[];for(let X of $)if(X.result!=null){const{tag:J,value:Z}=KZ(Y.method,X.result);Q.push({tag:J,value:Z,weight:X.config.weight})}if(Q.reduce((X,J)=>X+J.weight,0)<this.quorum)return;switch(Y.method){case"getBlockNumber":{if(this.#Y===-2)this.#Y=Math.ceil(_(HZ(this.quorum,this.#$.filter((J)=>!J._lastFatalError).map((J)=>({value:J.blockNumber,tag:_(J.blockNumber).toString(),weight:J.weight})))));const X=m6(this.quorum,Q);if(X===void 0)return;if(X>this.#Y)this.#Y=X;return this.#Y}case"getGasPrice":case"getPriorityFee":case"estimateGas":return HZ(this.quorum,Q);case"getBlock":if(("blockTag"in Y)&&Y.blockTag==="pending")return LZ(this.quorum,Q);return zX(this.quorum,Q);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return zX(this.quorum,Q);case"broadcastTransaction":return LZ(this.quorum,Q)}L(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${DZ(Y.method)})`})}async#G($,Y){if($.size===0)throw new Error("no runners?!");const Q=[];let X=0;for(let Z of $){if(Z.perform)Q.push(Z.perform);if(Z.staller){Q.push(Z.staller);continue}if(Z.didBump)continue;Z.didBump=!0,X++}const J=await this.#Z($,Y);if(J!==void 0){if(J instanceof Error)throw J;return J}for(let Z=0;Z<X;Z++)this.#J($,Y);return L(Q.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:Y,results:Array.from($).map((Z)=>DZ(Z.result))}}),await Promise.race(Q),await this.#G($,Y)}async _perform($){if($.method==="broadcastTransaction"){const J=this.#$.map((G)=>null),Z=this.#$.map(async({provider:G,weight:U},W)=>{try{const V=await G._perform($);J[W]=Object.assign(KZ($.method,{result:V}),{weight:U})}catch(V){J[W]=Object.assign(KZ($.method,{error:V}),{weight:U})}});while(!0){const G=J.filter((V)=>V!=null);for(let{value:V}of G)if(!(V instanceof Error))return V;const U=zX(this.quorum,J.filter((V)=>V!=null));if(t(U,"INSUFFICIENT_FUNDS"))throw U;const W=Z.filter((V,O)=>J[O]==null);if(W.length===0)break;await Promise.race(W)}const M=LZ(this.quorum,J);if(L(M!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:$,results:J.map(DZ)}}),M instanceof Error)throw M;return M}await this.#M();const Y=new Set;let Q=0;while(!0){const J=this.#J(Y,$);if(J==null)break;if(Q+=J.config.weight,Q>=this.quorum)break}const X=await this.#G(Y,$);for(let J of Y)if(J.perform&&J.result==null)J.config.lateResponses++;return X}async destroy(){for(let{provider:$}of this.#$)$.destroy();super.destroy()}}var c6=function($){return $&&typeof $.send==="function"&&typeof $.close==="function"};function LM($,Y){if(Y==null)Y={};const Q=(M)=>{if(Y[M]==="-")return!1;if(typeof Y.exclusive==="string")return M===Y.exclusive;if(Array.isArray(Y.exclusive))return Y.exclusive.indexOf(M)!==-1;return!0};if(typeof $==="string"&&$.match(/^https?:/))return new R0($);if(typeof $==="string"&&$.match(/^wss?:/)||c6($))return new U9($);let X=null;try{X=p.from($)}catch(M){}const J=[];if(Q("publicPolygon")&&X){if(X.name==="matic")J.push(new R0("https://polygon-rpc.com/",X,{staticNetwork:X}));else if(X.name==="matic-amoy")J.push(new R0("https://rpc-amoy.polygon.technology/",X,{staticNetwork:X}))}if(Q("alchemy"))try{J.push(new M9($,Y.alchemy))}catch(M){}if(Q("ankr")&&Y.ankr!=null)try{J.push(new Z9($,Y.ankr))}catch(M){}if(Q("chainstack"))try{J.push(new G9($,Y.chainstack))}catch(M){}if(Q("cloudflare"))try{J.push(new fY($))}catch(M){}if(Q("etherscan"))try{J.push(new hY($,Y.etherscan))}catch(M){}if(Q("infura"))try{let M=Y.infura,G=void 0;if(typeof M==="object")G=M.projectSecret,M=M.projectId;J.push(new N$($,M,G))}catch(M){}if(Q("quicknode"))try{let M=Y.quicknode;J.push(new W9($,M))}catch(M){}if(L(J.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),J.length===1)return J[0];let Z=Math.floor(J.length/2);if(Z>2)Z=2;if(X&&p6.indexOf(X.name)!==-1)Z=1;if(Y&&Y.quorum)Z=Y.quorum;return new yY(J,void 0,{quorum:Z})}var p6="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");class OX extends u8{signer;#$;#Y;constructor($){super($.provider);T(this,{signer:$}),this.#$=null,this.#Y=0}async getAddress(){return this.signer.getAddress()}connect($){return new OX(this.signer.connect($))}async getNonce($){if($==="pending"){if(this.#$==null)this.#$=super.getNonce("pending");const Y=this.#Y;return await this.#$+Y}return super.getNonce($)}increment(){this.#Y++}reset(){this.#Y=0,this.#$=null}async sendTransaction($){const Y=this.getNonce("pending");return this.increment(),$=await this.signer.populateTransaction($),$.nonce=await Y,await this.signer.sendTransaction($)}signTransaction($){return this.signer.signTransaction($)}signMessage($){return this.signer.signMessage($)}signTypedData($,Y,Q){return this.signer.signTypedData($,Y,Q)}}class S$ extends YX{#$;#Y;constructor($,Y,Q){const X=Object.assign({},Q!=null?Q:{},{batchMaxCount:1});z($&&$.request,"invalid EIP-1193 provider","ethereum",$);super(Y,X);if(this.#Y=null,Q&&Q.providerInfo)this.#Y=Q.providerInfo;this.#$=async(J,Z)=>{const M={method:J,params:Z};this.emit("debug",{action:"sendEip1193Request",payload:M});try{const G=await $.request(M);return this.emit("debug",{action:"receiveEip1193Result",result:G}),G}catch(G){const U=new Error(G.message);throw U.code=G.code,U.data=G.data,U.payload=M,this.emit("debug",{action:"receiveEip1193Error",error:U}),U}}}get providerInfo(){return this.#Y}async send($,Y){return await this._start(),await super.send($,Y)}async _send($){z(!Array.isArray($),"EIP-1193 does not support batch request","payload",$);try{const Y=await this.#$($.method,$.params||[]);return[{id:$.id,result:Y}]}catch(Y){return[{id:$.id,error:{code:Y.code,data:Y.data,message:Y.message}}]}}getRpcError($,Y){switch(Y=JSON.parse(JSON.stringify(Y)),Y.error.code||-1){case 4001:Y.error.message=`ethers-user-denied: ${Y.error.message}`;break;case 4200:Y.error.message=`ethers-unsupported: ${Y.error.message}`;break}return super.getRpcError($,Y)}async hasSigner($){if($==null)$=0;const Y=await this.send("eth_accounts",[]);if(typeof $==="number")return Y.length>$;return $=$.toLowerCase(),Y.filter((Q)=>Q.toLowerCase()===$).length!==0}async getSigner($){if($==null)$=0;if(!await this.hasSigner($))try{await this.#$("eth_requestAccounts",[])}catch(Y){const Q=Y.payload;throw this.getRpcError(Q,{id:Q.id,error:Y})}return await super.getSigner($)}static async discover($){if($==null)$={};if($.provider)return new S$($.provider);const Y=$.window?$.window:typeof window!=="undefined"?window:null;if(Y==null)return null;const Q=$.anyProvider;if(Q&&Y.ethereum)return new S$(Y.ethereum);if(!(("addEventListener"in Y)&&("dispatchEvent"in Y)&&("removeEventListener"in Y)))return null;const X=$.timeout?$.timeout:300;if(X===0)return null;return await new Promise((J,Z)=>{let M=[];const G=(V)=>{if(M.push(V.detail),Q)U()},U=()=>{if(clearTimeout(W),M.length)if($&&$.filter){const V=$.filter(M.map((O)=>Object.assign({},O.info)));if(V==null)J(null);else if(V instanceof S$)J(V);else{let O=null;if(V.uuid)O=M.filter((H)=>V.uuid===H.info.uuid)[0];if(O){const{provider:D,info:H}=O;J(new S$(D,void 0,{providerInfo:H}))}else Z(l("filter returned unknown info","UNSUPPORTED_OPERATION",{value:V}))}}else{const{provider:V,info:O}=M[0];J(new S$(V,void 0,{providerInfo:O}))}else J(null);Y.removeEventListener("eip6963:announceProvider",G)},W=setTimeout(()=>{U()},X);Y.addEventListener("eip6963:announceProvider",G),Y.dispatchEvent(new Event("eip6963:requestProvider"))})}}var u6=function($){switch($){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}z(!1,"unsupported network","network",$)};class vY extends R0{apiKey;constructor($,Y){if($==null)$="mainnet";const Q=p.from($);if(Y==null)Y=null;const X=vY.getRequest(Q);super(X,Q,{staticNetwork:Q});T(this,{apiKey:Y})}_getProvider($){try{return new vY($,this.apiKey)}catch(Y){}return super._getProvider($)}isCommunityResource(){return this.apiKey===null}getRpcRequest($){const Y=super.getRpcRequest($);if(Y&&Y.method==="eth_estimateGas"&&Y.args.length==1)Y.args=Y.args.slice(),Y.args.push("latest");return Y}getRpcError($,Y){const Q=Y?Y.error:null;if(Q&&Q.code===-32015&&!g(Q.data||"",!0)){const X={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"};let J="";if(Q.message==="VM execution error.")J=X[Q.data]||"";else if(X[Q.message||""])J=X[Q.message||""];if(J)Q.message+=` (reverted: ${Q.data})`,Q.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+J}else if(Q&&Q.code===-32000){if(Q.message==="wrong transaction nonce")Q.message+=" (nonce too low)"}return super.getRpcError($,Y)}static getRequest($){const Y=new e(u6($.name));return Y.allowGzip=!0,Y}}var d6=function($){switch($){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}z(!1,"unsupported network","network",$)},DX="62e1ad51b37b8e00394bda3b";class gY extends R0{applicationId;applicationSecret;constructor($,Y,Q){if($==null)$="mainnet";const X=p.from($);if(Y==null)Y=DX;if(Q==null)Q=null;const J={staticNetwork:X},Z=gY.getRequest(X,Y,Q);super(Z,X,J);T(this,{applicationId:Y,applicationSecret:Q})}_getProvider($){try{return new gY($,this.applicationId,this.applicationSecret)}catch(Y){}return super._getProvider($)}static getRequest($,Y,Q){if(Y==null)Y=DX;const X=new e(`https://${d6($.name)}/v1/lb/${Y}`);if(X.allowGzip=!0,Q)X.setCredentials("",Q);if(Y===DX)X.retryFunc=async(J,Z,M)=>{return l0("PocketProvider"),!0};return X}isCommunityResource(){return this.applicationId===DX}}var RM=void 0;class B$ extends u8{address;#$;constructor($,Y){super(Y);z($&&typeof $.sign==="function","invalid private key","privateKey","[ REDACTED ]"),this.#$=$;const Q=y8(this.signingKey.publicKey);T(this,{address:Q})}get signingKey(){return this.#$}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect($){return new B$(this.#$,$)}async signTransaction($){$=_8($);const{to:Y,from:Q}=await z0({to:$.to?D0($.to,this):void 0,from:$.from?D0($.from,this):void 0});if(Y!=null)$.to=Y;if(Q!=null)$.from=Q;if($.from!=null)z(P($.from)===this.address,"transaction from address mismatch","tx.from",$.from),delete $.from;const X=j0.from($);return X.signature=this.signingKey.sign(X.unsignedHash),X.serialized}async signMessage($){return this.signMessageSync($)}signMessageSync($){return this.signingKey.sign(v9($)).serialized}authorizeSync($){z(typeof $.address==="string","invalid address for authorizeSync","auth.address",$);const Y=this.signingKey.sign(f9($));return Object.assign({},{address:P($.address),nonce:S($.nonce||0),chainId:S($.chainId||0)},{signature:Y})}async authorize($){return $=Object.assign({},$,{address:await D0($.address,this)}),this.authorizeSync(await this.populateAuthorization($))}async signTypedData($,Y,Q){const X=await T0.resolveNames($,Y,Q,async(J)=>{L(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:J}});const Z=await this.provider.resolveName(J);return L(Z!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:J}),Z});return this.signingKey.sign(T0.hash(X.domain,Y,X.value)).serialized}}var HM=function($,Y){let Q=97;return $.reduce((X,J)=>{if(J===Y)Q++;else if(J.match(l6))X.push(String.fromCharCode(Q)+J);else Q=97,X.push(J);return X},[])};function i6($,Y){for(let J=KX.length-1;J>=0;J--)$=$.split(KX[J]).join(Y.substring(2*J,2*J+2));const Q=[],X=$.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(J,Z,M,G)=>{if(M)for(let U=parseInt(M);U>=0;U--)Q.push(";");else Q.push(Z.toLowerCase());return""});if(X)throw new Error(`leftovers: ${JSON.stringify(X)}`);return HM(HM(Q,";"),":")}function LX($){return z($[0]==="0","unsupported auwl data","data",$),i6($.substring(1+2*KX.length),$.substring(1,1+2*KX.length))}var KX=" !#$%&'()*+,-./<=>?@[]^_`{|}~",l6=/^[a-z]*$/i;class mY{locale;constructor($){T(this,{locale:$})}split($){return $.toLowerCase().split(/\s+/g)}join($){return $.join(" ")}}class V9 extends mY{#$;#Y;constructor($,Y,Q){super($);this.#$=Y,this.#Y=Q,this.#Q=null}get _data(){return this.#$}_decodeWords(){return LX(this.#$)}#Q;#X(){if(this.#Q==null){const $=this._decodeWords();if(y0($.join("\n")+"\n")!==this.#Y)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#Q=$}return this.#Q}getWord($){const Y=this.#X();return z($>=0&&$<Y.length,`invalid word index: ${$}`,"index",$),Y[$]}getWordIndex($){return this.#X().indexOf($)}}var n6="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",o6="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60",IZ=null;class M8 extends V9{constructor(){super("en",n6,o6)}static wordlist(){if(IZ==null)IZ=new M8;return IZ}}var IM=function($){return(1<<$)-1<<8-$&255},s6=function($){return(1<<$)-1&255},qZ=function($,Y){if(_$("NFKD"),Y==null)Y=M8.wordlist();const Q=Y.split($);z(Q.length%3===0&&Q.length>=12&&Q.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const X=new Uint8Array(Math.ceil(11*Q.length/8));let J=0;for(let W=0;W<Q.length;W++){let V=Y.getWordIndex(Q[W].normalize("NFKD"));z(V>=0,`invalid mnemonic word at index ${W}`,"mnemonic","[ REDACTED ]");for(let O=0;O<11;O++){if(V&1<<10-O)X[J>>3]|=1<<7-J%8;J++}}const Z=32*Q.length/3,M=Q.length/3,G=IM(M),U=C(C0(X.slice(0,Z/8)))[0]&G;return z(U===(X[X.length-1]&G),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),q(X.slice(0,Z/8))},CZ=function($,Y){if(z($.length%4===0&&$.length>=16&&$.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),Y==null)Y=M8.wordlist();const Q=[0];let X=11;for(let M=0;M<$.length;M++)if(X>8)Q[Q.length-1]<<=8,Q[Q.length-1]|=$[M],X-=8;else Q[Q.length-1]<<=X,Q[Q.length-1]|=$[M]>>8-X,Q.push($[M]&s6(8-X)),X+=3;const J=$.length/4,Z=parseInt(C0($).substring(2,4),16)&IM(J);return Q[Q.length-1]<<=J,Q[Q.length-1]|=Z>>8-J,Y.join(Q.map((M)=>Y.getWord(M)))},EZ={};class d8{phrase;password;wordlist;entropy;constructor($,Y,Q,X,J){if(X==null)X="";if(J==null)J=M8.wordlist();h0($,EZ,"Mnemonic"),T(this,{phrase:Q,password:X,wordlist:J,entropy:Y})}computeSeed(){const $=i("mnemonic"+this.password,"NFKD");return _0(i(this.phrase,"NFKD"),$,2048,64,"sha512")}static fromPhrase($,Y,Q){const X=qZ($,Q);return $=CZ(C(X),Q),new d8(EZ,X,$,Y,Q)}static fromEntropy($,Y,Q){const X=C($,"entropy"),J=CZ(X,Q);return new d8(EZ,q(X),J,Y,Q)}static entropyToPhrase($,Y){const Q=C($,"entropy");return CZ(Q,Y)}static phraseToEntropy($,Y){return qZ($,Y)}static isValidMnemonic($,Y){try{return qZ($,Y),!0}catch(Q){}return!1}}var NZ=function($){const Y=[];for(let Q=0;Q<$.length;Q+=4)Y.push($[Q]<<24|$[Q+1]<<16|$[Q+2]<<8|$[Q+3]);return Y};/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var m0=function($,Y,Q,X){if(Q==="a"&&!X)throw new TypeError("Private accessor was defined without a getter");if(typeof Y==="function"?$!==Y||!X:!Y.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?X:Q==="a"?X.call($):X?X.value:Y.get($)},TZ=function($,Y,Q,X,J){if(X==="m")throw new TypeError("Private method is not writable");if(X==="a"&&!J)throw new TypeError("Private accessor was defined without a setter");if(typeof Y==="function"?$!==Y||!J:!Y.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?J.call($,Q):J?J.value=Q:Y.set($,Q),Q},HX,R8,l8,a6={16:10,24:12,32:14},r6=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],L8=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],RX=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],t6=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],e6=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],$W=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],YW=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],QW=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],XW=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],JW=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239000,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],ZW=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998000,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],MW=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],GW=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],UW=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239000,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],WW=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998000,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];class IX{get key(){return m0(this,HX,"f").slice()}constructor($){if(HX.set(this,void 0),R8.set(this,void 0),l8.set(this,void 0),!(this instanceof IX))throw Error("AES must be instanitated with `new`");TZ(this,HX,new Uint8Array($),"f");const Y=a6[this.key.length];if(Y==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");TZ(this,l8,[],"f"),TZ(this,R8,[],"f");for(let W=0;W<=Y;W++)m0(this,l8,"f").push([0,0,0,0]),m0(this,R8,"f").push([0,0,0,0]);const Q=(Y+1)*4,X=this.key.length/4,J=NZ(this.key);let Z;for(let W=0;W<X;W++)Z=W>>2,m0(this,l8,"f")[Z][W%4]=J[W],m0(this,R8,"f")[Y-Z][W%4]=J[W];let M=0,G=X,U;while(G<Q){if(U=J[X-1],J[0]^=L8[U>>16&255]<<24^L8[U>>8&255]<<16^L8[U&255]<<8^L8[U>>24&255]^r6[M]<<24,M+=1,X!=8)for(let D=1;D<X;D++)J[D]^=J[D-1];else{for(let D=1;D<X/2;D++)J[D]^=J[D-1];U=J[X/2-1],J[X/2]^=L8[U&255]^L8[U>>8&255]<<8^L8[U>>16&255]<<16^L8[U>>24&255]<<24;for(let D=X/2+1;D<X;D++)J[D]^=J[D-1]}let W=0,V,O;while(W<X&&G<Q)V=G>>2,O=G%4,m0(this,l8,"f")[V][O]=J[W],m0(this,R8,"f")[Y-V][O]=J[W++],G++}for(let W=1;W<Y;W++)for(let V=0;V<4;V++)U=m0(this,R8,"f")[W][V],m0(this,R8,"f")[W][V]=MW[U>>24&255]^GW[U>>16&255]^UW[U>>8&255]^WW[U&255]}encrypt($){if($.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const Y=m0(this,l8,"f").length-1,Q=[0,0,0,0];let X=NZ($);for(let M=0;M<4;M++)X[M]^=m0(this,l8,"f")[0][M];for(let M=1;M<Y;M++){for(let G=0;G<4;G++)Q[G]=t6[X[G]>>24&255]^e6[X[(G+1)%4]>>16&255]^$W[X[(G+2)%4]>>8&255]^YW[X[(G+3)%4]&255]^m0(this,l8,"f")[M][G];X=Q.slice()}const J=new Uint8Array(16);let Z=0;for(let M=0;M<4;M++)Z=m0(this,l8,"f")[Y][M],J[4*M]=(L8[X[M]>>24&255]^Z>>24)&255,J[4*M+1]=(L8[X[(M+1)%4]>>16&255]^Z>>16)&255,J[4*M+2]=(L8[X[(M+2)%4]>>8&255]^Z>>8)&255,J[4*M+3]=(L8[X[(M+3)%4]&255]^Z)&255;return J}decrypt($){if($.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const Y=m0(this,R8,"f").length-1,Q=[0,0,0,0];let X=NZ($);for(let M=0;M<4;M++)X[M]^=m0(this,R8,"f")[0][M];for(let M=1;M<Y;M++){for(let G=0;G<4;G++)Q[G]=QW[X[G]>>24&255]^XW[X[(G+3)%4]>>16&255]^JW[X[(G+2)%4]>>8&255]^ZW[X[(G+1)%4]&255]^m0(this,R8,"f")[M][G];X=Q.slice()}const J=new Uint8Array(16);let Z=0;for(let M=0;M<4;M++)Z=m0(this,R8,"f")[Y][M],J[4*M]=(RX[X[M]>>24&255]^Z>>24)&255,J[4*M+1]=(RX[X[(M+3)%4]>>16&255]^Z>>16)&255,J[4*M+2]=(RX[X[(M+2)%4]>>8&255]^Z>>8)&255,J[4*M+3]=(RX[X[(M+1)%4]&255]^Z)&255;return J}}HX=new WeakMap,R8=new WeakMap,l8=new WeakMap;class cY{constructor($,Y,Q){if(Q&&!(this instanceof Q))throw new Error(`${$} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new IX(Y)},name:{enumerable:!0,value:$}})}}var qX=function($,Y,Q,X,J){if(X==="m")throw new TypeError("Private method is not writable");if(X==="a"&&!J)throw new TypeError("Private accessor was defined without a setter");if(typeof Y==="function"?$!==Y||!J:!Y.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?J.call($,Q):J?J.value=Q:Y.set($,Q),Q},a9=function($,Y,Q,X){if(Q==="a"&&!X)throw new TypeError("Private accessor was defined without a getter");if(typeof Y==="function"?$!==Y||!X:!Y.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?X:Q==="a"?X.call($):X?X.value:Y.get($)},pY,V$;class uY extends cY{constructor($,Y){super("ECC",$,uY);if(pY.set(this,void 0),V$.set(this,void 0),Y){if(Y.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");qX(this,pY,new Uint8Array(Y),"f")}else qX(this,pY,new Uint8Array(16),"f");qX(this,V$,this.iv,"f")}get iv(){return new Uint8Array(a9(this,pY,"f"))}encrypt($){if($.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const Y=new Uint8Array($.length);for(let Q=0;Q<$.length;Q+=16){for(let X=0;X<16;X++)a9(this,V$,"f")[X]^=$[Q+X];qX(this,V$,this.aes.encrypt(a9(this,V$,"f")),"f"),Y.set(a9(this,V$,"f"),Q)}return Y}decrypt($){if($.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const Y=new Uint8Array($.length);for(let Q=0;Q<$.length;Q+=16){const X=this.aes.decrypt($.subarray(Q,Q+16));for(let J=0;J<16;J++)Y[Q+J]=X[J]^a9(this,V$,"f")[J],a9(this,V$,"f")[J]=$[Q+J]}return Y}}pY=new WeakMap,V$=new WeakMap;var r9=function($,Y,Q,X,J){if(X==="m")throw new TypeError("Private method is not writable");if(X==="a"&&!J)throw new TypeError("Private accessor was defined without a setter");if(typeof Y==="function"?$!==Y||!J:!Y.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return X==="a"?J.call($,Q):J?J.value=Q:Y.set($,Q),Q},H8=function($,Y,Q,X){if(Q==="a"&&!X)throw new TypeError("Private accessor was defined without a getter");if(typeof Y==="function"?$!==Y||!X:!Y.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Q==="m"?X:Q==="a"?X.call($):X?X.value:Y.get($)},dY,z9,I8;class A$ extends cY{constructor($,Y){super("CTR",$,A$);if(dY.set(this,void 0),z9.set(this,void 0),I8.set(this,void 0),r9(this,I8,new Uint8Array(16),"f"),H8(this,I8,"f").fill(0),r9(this,dY,H8(this,I8,"f"),"f"),r9(this,z9,16,"f"),Y==null)Y=1;if(typeof Y==="number")this.setCounterValue(Y);else this.setCounterBytes(Y)}get counter(){return new Uint8Array(H8(this,I8,"f"))}setCounterValue($){if(!Number.isInteger($)||$<0||$>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let Y=15;Y>=0;--Y)H8(this,I8,"f")[Y]=$%256,$=Math.floor($/256)}setCounterBytes($){if($.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");H8(this,I8,"f").set($)}increment(){for(let $=15;$>=0;$--)if(H8(this,I8,"f")[$]===255)H8(this,I8,"f")[$]=0;else{H8(this,I8,"f")[$]++;break}}encrypt($){var Y,Q;const X=new Uint8Array($);for(let J=0;J<X.length;J++){if(H8(this,z9,"f")===16)r9(this,dY,this.aes.encrypt(H8(this,I8,"f")),"f"),r9(this,z9,0,"f"),this.increment();X[J]^=H8(this,dY,"f")[r9(this,z9,(Q=H8(this,z9,"f"),Y=Q++,Q),"f"),Y]}return X}decrypt($){return this.encrypt($)}}dY=new WeakMap,z9=new WeakMap,I8=new WeakMap;function SZ($){if($.length<16)throw new TypeError("PKCS#7 invalid length");const Y=$[$.length-1];if(Y>16)throw new TypeError("PKCS#7 padding byte out of range");const Q=$.length-Y;for(let X=0;X<Y;X++)if($[Q+X]!==Y)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array($.subarray(0,Q))}function BZ($){if(typeof $==="string"&&!$.startsWith("0x"))$="0x"+$;return O0($)}function t9($,Y){$=String($);while($.length<Y)$="0"+$;return $}function O9($){if(typeof $==="string")return i($,"NFKC");return O0($)}function H0($,Y){const Q=Y.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);z(Q!=null,"invalid path","path",Y);const X=Q[1],J=Q[3],Z=Q[4]==="!";let M=$;for(let G of X.toLowerCase().split(".")){if(Array.isArray(M)){if(!G.match(/^[0-9]+$/))break;M=M[parseInt(G)]}else if(typeof M==="object"){let U=null;for(let W in M)if(W.toLowerCase()===G){U=M[W];break}M=U}else M=null;if(M==null)break}if(z(!Z||M!=null,"missing required value","path",X),J&&M!=null){if(J==="int"){if(typeof M==="string"&&M.match(/^-?[0-9]+$/))return parseInt(M);else if(Number.isSafeInteger(M))return M}if(J==="number"){if(typeof M==="string"&&M.match(/^-?[0-9.]*$/))return parseFloat(M)}if(J==="data"){if(typeof M==="string")return BZ(M)}if(J==="array"&&Array.isArray(M))return M;if(J===typeof M)return M;z(!1,`wrong type found for ${J} `,"path",X)}return M}function lY($){try{const Y=JSON.parse($);if((Y.version!=null?parseInt(Y.version):0)===3)return!0}catch(Y){}return!1}var VW=function($,Y,Q){if(H0($,"crypto.cipher:string")==="aes-128-ctr"){const J=H0($,"crypto.cipherparams.iv:data!"),Z=new A$(Y,J);return q(Z.decrypt(Q))}L(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})},CX=function($,Y){const Q=C(Y),X=H0($,"crypto.ciphertext:data!"),J=q(v(k([Q.slice(16,32),X]))).substring(2);z(J===H0($,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const Z=VW($,Q.slice(0,16),X),M=y8(Z);if($.address){let W=$.address.toLowerCase();if(!W.startsWith("0x"))W="0x"+W;z(P(W)===M,"keystore address/privateKey mismatch","address",$.address)}const G={address:M,privateKey:Z};if(H0($,"x-ethers.version:string")==="0.1"){const W=Q.slice(32,64),V=H0($,"x-ethers.mnemonicCiphertext:data!"),O=H0($,"x-ethers.mnemonicCounter:data!"),D=new A$(W,O);G.mnemonic={path:H0($,"x-ethers.path:string")||CM,locale:H0($,"x-ethers.locale:string")||"en",entropy:q(C(D.decrypt(V)))}}return G},EM=function($){const Y=H0($,"crypto.kdf:string");if(Y&&typeof Y==="string"){if(Y.toLowerCase()==="scrypt"){const Q=H0($,"crypto.kdfparams.salt:data!"),X=H0($,"crypto.kdfparams.n:int!"),J=H0($,"crypto.kdfparams.r:int!"),Z=H0($,"crypto.kdfparams.p:int!");z(X>0&&(X&X-1)===0,"invalid kdf.N","kdf.N",X),z(J>0&&Z>0,"invalid kdf","kdf",Y);const M=H0($,"crypto.kdfparams.dklen:int!");return z(M===32,"invalid kdf.dklen","kdf.dflen",M),{name:"scrypt",salt:Q,N:X,r:J,p:Z,dkLen:64}}else if(Y.toLowerCase()==="pbkdf2"){const Q=H0($,"crypto.kdfparams.salt:data!"),X=H0($,"crypto.kdfparams.prf:string!"),J=X.split("-").pop();z(J==="sha256"||J==="sha512","invalid kdf.pdf","kdf.pdf",X);const Z=H0($,"crypto.kdfparams.c:int!"),M=H0($,"crypto.kdfparams.dklen:int!");return z(M===32,"invalid kdf.dklen","kdf.dklen",M),{name:"pbkdf2",salt:Q,count:Z,dkLen:M,algorithm:J}}}z(!1,"unsupported key-derivation function","kdf",Y)};function EX($,Y){const Q=JSON.parse($),X=O9(Y),J=EM(Q);if(J.name==="pbkdf2"){const{salt:O,count:D,dkLen:H,algorithm:K}=J,R=_0(X,O,D,H,K);return CX(Q,R)}L(J.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:J});const{salt:Z,N:M,r:G,p:U,dkLen:W}=J,V=P8(X,Z,M,G,U,W);return CX(Q,V)}var qM=function($){return new Promise((Y)=>{setTimeout(()=>{Y()},$)})};async function TX($,Y,Q){const X=JSON.parse($),J=O9(Y),Z=EM(X);if(Z.name==="pbkdf2"){if(Q)Q(0),await qM(0);const{salt:D,count:H,dkLen:K,algorithm:R}=Z,I=_0(J,D,H,K,R);if(Q)Q(1),await qM(0);return CX(X,I)}L(Z.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:Z});const{salt:M,N:G,r:U,p:W,dkLen:V}=Z,O=await A8(J,M,G,U,W,V,Q);return CX(X,O)}var TM=function($){const Y=$.salt!=null?C($.salt,"options.salt"):x0(32);let Q=1<<17,X=8,J=1;if($.scrypt){if($.scrypt.N)Q=$.scrypt.N;if($.scrypt.r)X=$.scrypt.r;if($.scrypt.p)J=$.scrypt.p}return z(typeof Q==="number"&&Q>0&&Number.isSafeInteger(Q)&&(BigInt(Q)&BigInt(Q-1))===BigInt(0),"invalid scrypt N parameter","options.N",Q),z(typeof X==="number"&&X>0&&Number.isSafeInteger(X),"invalid scrypt r parameter","options.r",X),z(typeof J==="number"&&J>0&&Number.isSafeInteger(J),"invalid scrypt p parameter","options.p",J),{name:"scrypt",dkLen:32,salt:Y,N:Q,r:X,p:J}},NM=function($,Y,Q,X){const J=C(Q.privateKey,"privateKey"),Z=X.iv!=null?C(X.iv,"options.iv"):x0(16);z(Z.length===16,"invalid options.iv length","options.iv",X.iv);const M=X.uuid!=null?C(X.uuid,"options.uuid"):x0(16);z(M.length===16,"invalid options.uuid length","options.uuid",X.iv);const G=$.slice(0,16),U=$.slice(16,32),W=new A$(G,Z),V=C(W.encrypt(J)),O=v(k([U,V])),D={address:Q.address.substring(2).toLowerCase(),id:WY(M),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:q(Z).substring(2)},ciphertext:q(V).substring(2),kdf:"scrypt",kdfparams:{salt:q(Y.salt).substring(2),n:Y.N,dklen:32,p:Y.p,r:Y.r},mac:O.substring(2)}};if(Q.mnemonic){const H=X.client!=null?X.client:`ethers/${QY}`,K=Q.mnemonic.path||CM,R=Q.mnemonic.locale||"en",I=$.slice(32,64),E=C(Q.mnemonic.entropy,"account.mnemonic.entropy"),N=x0(16),f=new A$(I,N),j=C(f.encrypt(E)),A=new Date,x="UTC--"+(A.getUTCFullYear()+"-"+t9(A.getUTCMonth()+1,2)+"-"+t9(A.getUTCDate(),2)+"T"+t9(A.getUTCHours(),2)+"-"+t9(A.getUTCMinutes(),2)+"-"+t9(A.getUTCSeconds(),2)+".0Z--")+D.address;D["x-ethers"]={client:H,gethFilename:x,path:K,locale:R,mnemonicCounter:q(N).substring(2),mnemonicCiphertext:q(j).substring(2),version:"0.1"}}return JSON.stringify(D)};function e9($,Y,Q){if(Q==null)Q={};const X=O9(Y),J=TM(Q),Z=P8(X,J.salt,J.N,J.r,J.p,64);return NM(C(Z),J,$,Q)}async function $Y($,Y,Q){if(Q==null)Q={};const X=O9(Y),J=TM(Q),Z=await A8(X,J.salt,J.N,J.r,J.p,64,Q.progressCallback);return NM(C(Z),J,$,Q)}var CM="m/44'/60'/0'/0/0";var NX=function($,Y){let Q="";while($)Q=DW[$%16]+Q,$=Math.trunc($/16);while(Q.length<Y*2)Q="0"+Q;return"0x"+Q},AZ=function($){const Y=C($),Q=r(C0(C0(Y)),0,4),X=k([Y,Q]);return f$(X)},SM=function($,Y,Q,X){const J=new Uint8Array(37);if($&n8)L(X!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),J.set(C(X),1);else J.set(C(Q));for(let M=24;M>=0;M-=8)J[33+(M>>3)]=$>>24-M&255;const Z=C(S8("sha512",Y,J));return{IL:Z.slice(0,32),IR:Z.slice(32)}},BM=function($,Y){const Q=Y.split("/");if(z(Q.length>0,"invalid path","path",Y),Q[0]==="m")z($.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${$.depth}`,"path",Y),Q.shift();let X=$;for(let J=0;J<Q.length;J++){const Z=Q[J];if(Z.match(/^[0-9]+'$/)){const M=parseInt(Z.substring(0,Z.length-1));z(M<n8,"invalid path index",`path[${J}]`,Z),X=X.deriveChild(n8+M)}else if(Z.match(/^[0-9]+$/)){const M=parseInt(Z);z(M<n8,"invalid path index",`path[${J}]`,Z),X=X.deriveChild(M)}else z(!1,"invalid path component",`path[${J}]`,Z)}return X};function AM($){const Y=_($,"index");return z(Y>=0&&Y<n8,"invalid account index","index",Y),`m/44'/60'/${Y}'/0/0`}function PM($){const Y=_($,"index");return z(Y>=0&&Y<n8,"invalid account index","index",Y),`m/44'/60'/0'/0/${Y}`}var iY="m/44'/60'/0'/0/0",zW=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),n8=2147483648,OW=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),DW="0123456789abcdef",i8={};class o0 extends B${publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor($,Y,Q,X,J,Z,M,G,U){super(Y,U);h0($,i8,"HDNodeWallet"),T(this,{publicKey:Y.compressedPublicKey});const W=r(B8(C0(this.publicKey)),0,4);T(this,{parentFingerprint:Q,fingerprint:W,chainCode:X,path:J,index:Z,depth:M}),T(this,{mnemonic:G})}connect($){return new o0(i8,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,$)}#$(){const $={address:this.address,privateKey:this.privateKey},Y=this.mnemonic;if(this.path&&Y&&Y.wordlist.locale==="en"&&Y.password==="")$.mnemonic={path:this.path,locale:"en",entropy:Y.entropy};return $}async encrypt($,Y){return await $Y(this.#$(),$,{progressCallback:Y})}encryptSync($){return e9(this.#$(),$)}get extendedKey(){return L(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),AZ(k(["0x0488ADE4",NX(this.depth,1),this.parentFingerprint,NX(this.index,4),this.chainCode,k(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new D9(i8,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild($){const Y=_($,"index");z(Y<=4294967295,"invalid index","index",Y);let Q=this.path;if(Q){if(Q+="/"+(Y&~n8),Y&n8)Q+="'"}const{IR:X,IL:J}=SM(Y,this.chainCode,this.publicKey,this.privateKey),Z=new E0(w0((U8(J)+BigInt(this.privateKey))%OW,32));return new o0(i8,Z,this.fingerprint,q(X),Q,Y,this.depth+1,this.mnemonic,this.provider)}derivePath($){return BM(this,$)}static#Y($,Y){z(q8($),"invalid seed","seed","[REDACTED]");const Q=C($,"seed");z(Q.length>=16&&Q.length<=64,"invalid seed","seed","[REDACTED]");const X=C(S8("sha512",zW,Q)),J=new E0(q(X.slice(0,32)));return new o0(i8,J,"0x00000000",q(X.slice(32)),"m",0,0,Y,null)}static fromExtendedKey($){const Y=X0(JY($));z(Y.length===82||AZ(Y.slice(0,78))===$,"invalid extended key","extendedKey","[ REDACTED ]");const Q=Y[4],X=q(Y.slice(5,9)),J=parseInt(q(Y.slice(9,13)).substring(2),16),Z=q(Y.slice(13,45)),M=Y.slice(45,78);switch(q(Y.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const G=q(M);return new D9(i8,y8(G),G,X,Z,null,J,Q,null)}case"0x0488ade4":case"0x04358394 ":if(M[0]!==0)break;return new o0(i8,new E0(M.slice(1)),X,Z,null,J,Q,null,null)}z(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom($,Y,Q){if($==null)$="";if(Y==null)Y=iY;if(Q==null)Q=M8.wordlist();const X=d8.fromEntropy(x0(16),$,Q);return o0.#Y(X.computeSeed(),X).derivePath(Y)}static fromMnemonic($,Y){if(!Y)Y=iY;return o0.#Y($.computeSeed(),$).derivePath(Y)}static fromPhrase($,Y,Q,X){if(Y==null)Y="";if(Q==null)Q=iY;if(X==null)X=M8.wordlist();const J=d8.fromPhrase($,Y,X);return o0.#Y(J.computeSeed(),J).derivePath(Q)}static fromSeed($){return o0.#Y($,null)}}class D9 extends d9{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor($,Y,Q,X,J,Z,M,G,U){super(Y,U);h0($,i8,"HDNodeVoidWallet"),T(this,{publicKey:Q});const W=r(B8(C0(Q)),0,4);T(this,{publicKey:Q,fingerprint:W,parentFingerprint:X,chainCode:J,path:Z,index:M,depth:G})}connect($){return new D9(i8,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,$)}get extendedKey(){return L(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),AZ(k(["0x0488B21E",NX(this.depth,1),this.parentFingerprint,NX(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild($){const Y=_($,"index");z(Y<=4294967295,"invalid index","index",Y);let Q=this.path;if(Q){if(Q+="/"+(Y&~n8),Y&n8)Q+="'"}const{IR:X,IL:J}=SM(Y,this.chainCode,this.publicKey,null),Z=E0.addPoints(J,this.publicKey,!0),M=y8(Z);return new D9(i8,M,Z,this.fingerprint,q(X),Q,Y,this.depth+1,this.provider)}derivePath($){return BM(this,$)}}function nY($){try{if(JSON.parse($).encseed)return!0}catch(Y){}return!1}function oY($,Y){const Q=JSON.parse($),X=O9(Y),J=P(H0(Q,"ethaddr:string!")),Z=BZ(H0(Q,"encseed:string!"));z(Z&&Z.length%16===0,"invalid encseed","json",$);const M=C(_0(X,X,2000,32,"sha256")).slice(0,16),G=Z.slice(0,16),U=Z.slice(16),W=new uY(M,G),V=SZ(C(W.decrypt(U)));let O="";for(let D=0;D<V.length;D++)O+=String.fromCharCode(V[D]);return{address:J,privateKey:y0(O)}}var jM=function($){return new Promise((Y)=>{setTimeout(()=>{Y()},$)})};class K9 extends B${constructor($,Y){if(typeof $==="string"&&!$.startsWith("0x"))$="0x"+$;let Q=typeof $==="string"?new E0($):$;super(Q,Y)}connect($){return new K9(this.signingKey,$)}async encrypt($,Y){const Q={address:this.address,privateKey:this.privateKey};return await $Y(Q,$,{progressCallback:Y})}encryptSync($){const Y={address:this.address,privateKey:this.privateKey};return e9(Y,$)}static#$($){if(z($,"invalid JSON wallet","json","[ REDACTED ]"),("mnemonic"in $)&&$.mnemonic&&$.mnemonic.locale==="en"){const Q=d8.fromEntropy($.mnemonic.entropy),X=o0.fromMnemonic(Q,$.mnemonic.path);if(X.address===$.address&&X.privateKey===$.privateKey)return X;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const Y=new K9($.privateKey);return z(Y.address===$.address,"address/privateKey mismatch","json","[ REDACTED ]"),Y}static async fromEncryptedJson($,Y,Q){let X=null;if(lY($))X=await TX($,Y,Q);else if(nY($)){if(Q)Q(0),await jM(0);if(X=oY($,Y),Q)Q(1),await jM(0)}return K9.#$(X)}static fromEncryptedJsonSync($,Y){let Q=null;if(lY($))Q=EX($,Y);else if(nY($))Q=oY($,Y);else z(!1,"invalid JSON wallet","json","[ REDACTED ]");return K9.#$(Q)}static createRandom($){const Y=o0.createRandom();if($)return Y.connect($);return Y}static fromPhrase($,Y){const Q=o0.fromPhrase($);if(Y)return Q.connect(Y);return Q}}function FM($,Y){const Q=(1<<$)-1,X=[];let J=0,Z=0,M=0;for(let G=0;G<Y.length;G++){J=J<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(Y[G]),Z+=6;while(Z>=$){const U=J>>Z-$;if(J&=(1<<Z-$)-1,Z-=$,U===0)M+=Q;else X.push(U+M),M=0}}return X}function wM($,Y){let Q=LX($).join(",");return Y.split(/,/g).forEach((X)=>{const J=X.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);z(J!==null,"internal error parsing accents","accents",Y);let Z=0;const M=FM(parseInt(J[3]),J[4]),G=parseInt(J[2]),U=new RegExp(`([${J[1]}])`,"g");Q=Q.replace(U,(W,V)=>{if(--M[Z]===0)V=String.fromCharCode(V.charCodeAt(0),G),Z++;return V})}),Q.split(",")}class PZ extends V9{#$;constructor($,Y,Q,X){super($,Y,X);this.#$=Q}get _accent(){return this.#$}_decodeWords(){return wM(this._data,this._accent)}}var _M={en:M8.wordlist()};class jZ{constructor($,Y,Q,X=[]){if(!$||typeof $.signMessage!=="function"||typeof $.getAddress!=="function")throw new Error("SoftwareSecurityManager: Se requiere un signer v\xE1lido de js.");if(this.signer=$,this.localUserEthAddress=null,!Y)throw new Error("SoftwareSecurityManager: dbInstance (GraphDB) es requerida.");if(!Q||typeof Q.mapChangeTypeToRbacAction!=="function"||typeof Q.can!=="function")throw new Error("SoftwareSecurityManager: rbacFunctions con m\xE9todos 'can' y 'mapChangeTypeToRbacAction' es requerido.");this.gdb=Y,this.rbac=Q,this.superAdminEthereumAddresses=(X||[]).map((J)=>{try{return P(J)}catch(Z){return console.warn(`SSM: Direcci\xF3n superadmin inv\xE1lida omitida: ${J}`),null}}).filter(Boolean),this._initializedPromise=this._initialize()}async _initialize(){this.localUserEthAddress=P(await this.signer.getAddress()),console.log(`SSM: SoftwareSecurityManager inicializado para ${this.localUserEthAddress}. SuperAdmins: ${this.superAdminEthereumAddresses.join(", ")}`)}async ready(){return this._initializedPromise}_canonicalizeDataForSigning($){return JSON.stringify($,Object.keys($).sort())}async signOutgoingOperations($){if(await this.ready(),!this.localUserEthAddress)return console.warn("SSM: Usuario ETH local no establecido. No se pueden firmar."),[];const Y=[];for(let Q of $){const X={...Q,originUser:this.localUserEthAddress},J=this._canonicalizeDataForSigning(X);try{const Z=await this.signer.signMessage(i(J));Y.push({...X,originEthAddress:this.localUserEthAddress,signature:Z})}catch(Z){console.error(`SSM: Error al firmar op para ${this.localUserEthAddress}:`,Z.message)}}return Y}async verifyIncomingOperations($){await this.ready();const Y=[];for(let Q of $){let X=!1,J=null,Z=null;if(Q.signature&&Q.originEthAddress){const{signature:M,originEthAddress:G,...U}=Q;Z=U;try{J=P(G)}catch(W){console.warn(`SSM: originEthAddress '${G}' en op entrante no es v\xE1lida. Descartada.`)}if(J&&Z){const W=this._canonicalizeDataForSigning(Z);try{const V=NY(i(W),M);if(P(V)===J){console.log(`SSM: Firma V\xC1LIDA de ${J}. Verificando permisos...`);const O=Z.type;if(O==="put"&&Z.id?.startsWith("user:")&&Z.value?.role)if(this.superAdminEthereumAddresses.includes(J))X=!0,console.log(`SSM: 'assignRole' P2P OK para superadmin ${J}.`);else console.warn(`SSM: 'assignRole' P2P por ${J} (NO superadmin). Descartado.`);else{const K=(await this.gdb.get(`user:${J}`)).result;if(K?.value?.role)if(K.value.expiresAt&&new Date(K.value.expiresAt)<new Date)console.warn(`SSM: Rol para ${J} caducado. Op '${O}' descartada.`);else{const R=this.rbac.mapChangeTypeToRbacAction(O,Z);if(this.rbac.can(K.value.role,R))X=!0,console.log(`SSM: Permiso RBAC OK para ${J} (rol ${K.value.role}) para '${R}'.`);else console.warn(`SSM: ${J} (rol ${K.value.role}) SIN permiso RBAC para '${R}'. Descartado.`)}else console.warn(`SSM: Sin nodo/rol en GDB para ${J} para op '${O}'. Descartado.`)}}else console.warn(`SSM: Firma INV\xC1LIDA o no coincide. Recuperada: ${P(V)}, Esperada: ${J}. Descartada.`)}catch(V){console.error("SSM: Error verificando firma o permisos:",V.message,Q)}}}else console.warn("SSM: Op P2P sin firma o sin originEthAddress. Descartada:",Q);if(X&&Z)Y.push(Z)}return{validatedOperations:Y,unverifiedOperations:[]}}async encryptDataForSelf($){if(await this.ready(),!this.signer||!this.localUserEthAddress)throw new Error("Billetera no cargada.");try{const Y=C(this.signer.privateKey),Q=i("self-encrypt-salt"),X=await _0(Y,Q,256,32,"sha256"),J=JSON.stringify($),Z=x0(16),M=await crypto.subtle.importKey("raw",C(X),{name:"AES-GCM",length:256},!1,["encrypt"]),G=await crypto.subtle.encrypt({name:"AES-GCM",iv:Z},M,i(J));return JSON.stringify({iv:q(Z),encrypted:q(new Uint8Array(G)),type:"aes-gcm-self"})}catch(Y){throw console.error("SSM: Error en encryptDataForSelf:",Y),Y}}async decryptDataForSelf($){if(await this.ready(),!this.signer||!this.localUserEthAddress)throw new Error("Billetera no cargada.");try{const{iv:Y,encrypted:Q,type:X}=JSON.parse($);if(X!=="aes-gcm-self")throw new Error("Tipo de cifrado no soportado para descifrado self");const J=C(this.signer.privateKey),Z=i("self-encrypt-salt"),M=await _0(J,Z,256,32,"sha256"),G=await crypto.subtle.importKey("raw",C(M),{name:"AES-GCM",length:256},!1,["decrypt"]),U=await crypto.subtle.decrypt({name:"AES-GCM",iv:C(Y)},G,C(Q));return JSON.parse(k0(new Uint8Array(U)))}catch(Y){throw console.error("SSM: Error en decryptDataForSelf:",Y),Y}}}var sY=function($){return btoa(String.fromCharCode(...new Uint8Array($))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},AX=function($){let Y=$.replace(/-/g,"+").replace(/_/g,"/");while(Y.length%4)Y+="=";return Uint8Array.from(atob(Y),(Q)=>Q.charCodeAt(0)).buffer},SX="gdb_ethereum_material_encrypted_webauthn",BX="gdb_webauthn_registration_details";class FZ{constructor(){this.signer=null,this.address=null,this.mnemonic=null,this.webAuthnCredentialId=null,this.webAuthnOriginalChallenge=null}async createNewEthereumIdentity(){const $=G8.Wallet.createRandom();return this.mnemonic=$.mnemonic.phrase,console.log("SWM: Nueva identidad Ethereum generada (mnem\xF3nica y clave privada en memoria)."),{address:await $.getAddress(),mnemonic:this.mnemonic,privateKey:$.privateKey}}async _encryptEthereumPrivateKey($,Y){const Q=crypto.getRandomValues(new Uint8Array(12)),X=G8.getBytes($),J=await crypto.subtle.encrypt({name:"AES-GCM",iv:Q},Y,X);return JSON.stringify({iv:sY(Q.buffer),ciphertext:sY(J)})}async _decryptEthereumPrivateKey($,Y){const{iv:Q,ciphertext:X}=JSON.parse($),J=AX(Q),Z=AX(X),M=await crypto.subtle.decrypt({name:"AES-GCM",iv:J},Y,Z);return G8.hexlify(new Uint8Array(M))}async _deriveEncryptionKeyFromWebAuthn($,Y){const Q=await crypto.subtle.importKey("raw",Y,{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:$,iterations:1e5,hash:"SHA-256"},Q,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async registerAndProtectWithWebAuthn($){if(!navigator.credentials||!navigator.credentials.create)return console.error("SWM: WebAuthn no soportado por este navegador."),!1;const Y=crypto.getRandomValues(new Uint8Array(32));this.webAuthnOriginalChallenge=Y.buffer.slice(0);try{const Q={publicKey:{challenge:Y,rp:{name:"GDB Software Wallet App",id:window.location.hostname},user:{id:G8.getBytes(G8.keccak256(G8.computePublicKey($,!0))).slice(0,16),name:`user-${G8.computeAddress($).slice(0,10)}`,displayName:"GDB User"},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"preferred"},timeout:60000,attestation:"none"}},X=await navigator.credentials.create(Q);if(!X||!X.rawId)throw new Error("Registro WebAuthn fall\xF3 o fue cancelado por el usuario.");this.webAuthnCredentialId=X.rawId;const J=await this._deriveEncryptionKeyFromWebAuthn(this.webAuthnCredentialId,this.webAuthnOriginalChallenge),Z=await this._encryptEthereumPrivateKey($,J);return localStorage.setItem(SX,Z),localStorage.setItem(BX,JSON.stringify({credentialId:sY(this.webAuthnCredentialId),originalChallenge:sY(this.webAuthnOriginalChallenge)})),console.log("SWM: WebAuthn registrado y clave Ethereum cifrada."),await this.loginWithWebAuthn()}catch(Q){return console.error("SWM: Error durante el registro WebAuthn:",Q),this.webAuthnCredentialId=null,this.webAuthnOriginalChallenge=null,localStorage.removeItem(SX),localStorage.removeItem(BX),!1}}async loginWithWebAuthn(){if(!navigator.credentials||!navigator.credentials.get)return console.error("SWM: WebAuthn no soportado."),null;const $=localStorage.getItem(BX),Y=localStorage.getItem(SX);if(!$||!Y)return console.warn("SWM: No hay registro WebAuthn o material Ethereum guardado para login."),null;let Q;try{Q=JSON.parse($)}catch(M){return console.error("SWM: Error parseando registrationDetails de localStorage",M),null}if(!Q.credentialId||!Q.originalChallenge)return console.error("SWM: registrationDetails de localStorage est\xE1 incompleto."),null;const X=AX(Q.credentialId),J=AX(Q.originalChallenge),Z=J.slice(0);try{const M={publicKey:{challenge:Z,allowCredentials:[{type:"public-key",id:X}],userVerification:"preferred",timeout:60000}},G=await navigator.credentials.get(M);if(!G||!G.rawId||!G.response)throw new Error("Autenticaci\xF3n WebAuthn fall\xF3 o fue cancelada por el usuario.");if(sY(G.rawId)!==Q.credentialId)throw new Error("El ID de la credencial WebAuthn no coincide con el almacenado.");const U=await this._deriveEncryptionKeyFromWebAuthn(G.rawId,J),W=await this._decryptEthereumPrivateKey(Y,U),V=new G8.Wallet(W);return this.signer=V,this.address=await V.getAddress(),this.webAuthnCredentialId=G.rawId,this.webAuthnOriginalChallenge=J,this.mnemonic=null,console.log(`SWM: Sesi\xF3n iniciada con WebAuthn para ${this.address}`),this.address}catch(M){return console.error("SWM: Error durante el login WebAuthn:",M),this.signer=null,this.address=null,null}}async loadWalletFromMnemonic($){try{const Y=G8.Wallet.fromPhrase($);return this.signer=Y,this.address=await Y.getAddress(),this.mnemonic=$,this.webAuthnCredentialId=null,this.webAuthnOriginalChallenge=null,console.log(`SWM: Billetera cargada desde mnem\xF3nica para ${this.address}.`),{address:this.address,privateKey:Y.privateKey,mnemonic:$}}catch(Y){return console.error("SWM: Error al cargar billetera desde mnem\xF3nica:",Y),this.signer=null,this.address=null,this.mnemonic=null,null}}hasWebAuthnRegistration(){return localStorage.getItem(BX)!==null&&localStorage.getItem(SX)!==null}logout(){this.signer=null,this.address=null,this.mnemonic=null,this.webAuthnCredentialId=null,this.webAuthnOriginalChallenge=null,console.log("SWM: Sesi\xF3n de billetera cerrada.")}getSigner(){return this.signer}getAddress(){return this.address}getMnemonicForDisplay(){return this.mnemonic}}function TI($){if(typeof $!=="object"||$===null)throw new Error("RBAC: Los roles personalizados deben ser un objeto v\xE1lido.");YY=$,console.log("RBAC: Roles personalizados establecidos.")}function wZ($,Y,Q=new Set){const X=YY;if(!X[$])return!1;if(Q.has($))return!1;if(Q.add($),X[$].can&&X[$].can.includes(Y))return!0;if(X[$].inherits&&Array.isArray(X[$].inherits))return X[$].inherits.some((J)=>wZ(J,Y,new Set(Q)));return!1}function KW($,Y={}){if($==="put"||$==="insert"||$==="update")return"write";if($==="remove")return"delete";if($==="link")return"link";if($==="sync"||$==="syncReceive")return"sync";return console.warn(`RBAC: Tipo de cambio desconocido '${$}' para mapeo RBAC gen\xE9rico.`),"unknown"}function NI($){if(typeof $==="function")jX=$;else jX=null}var PX=function(){if(jX)jX({isActive:f8,activeAddress:u?u.getAddress():null})};async function SI(){if(await aY(),!u)throw console.error("RBAC: SWM no instanciado en startNewUserRegistration"),new Error("Error interno: Gestor de billetera no disponible.");const $=await u.createNewEthereumIdentity();return console.log("RBAC: Nueva identidad Ethereum generada. El usuario debe guardar mnem\xF3nica y puede registrar WebAuthn."),$}async function BI($){if(!u)throw console.error("RBAC: SWM no instanciado en protectCurrentIdentityWithWebAuthn"),new Error("Error interno: Gestor de billetera no disponible.");if(!$)throw console.error("RBAC: No se proporcion\xF3 clave privada para proteger con WebAuthn."),new Error("No se proporcion\xF3 clave privada para proteger.");const Y=await u.registerAndProtectWithWebAuthn($);if(Y&&M0)return await FX(M0,z$),u.getAddress();else if(!Y){if(console.warn("RBAC: El registro o el login interno de WebAuthn fall\xF3."),!f8)await aY();return null}return null}async function AI(){if(!u)throw console.error("RBAC: SWM no instanciado en loginCurrentUserWithWebAuthn"),new Error("Error interno: Gestor de billetera no disponible.");const $=await u.loginWithWebAuthn();if($&&M0)await FX(M0,z$);else if(!$)await aY();return $}async function PI($){if(await aY(),!u)throw console.error("RBAC: SoftwareWalletManager no est\xE1 instanciado en loginOrRecoverUserWithMnemonic."),new Error("Error cr\xEDtico: El gestor de billetera no est\xE1 disponible.");console.log("RBAC: Intentando cargar desde mnem\xF3nica con SWM:",u);const Y=await u.loadWalletFromMnemonic($);if(Y&&M0)return await FX(M0,z$),console.log(`RBAC: Sesi\xF3n iniciada con mnem\xF3nica para ${Y.address}. WebAuthn se puede registrar opcionalmente.`),Y;else if(Y&&!M0)return console.warn("RBAC: Identidad cargada desde mnem\xF3nica, pero no hay contexto GDB para inicializar la sesi\xF3n de seguridad completa. SWM tiene el signer."),Y;else if(!Y)console.error("RBAC: Fall\xF3 el inicio de sesi\xF3n/recuperaci\xF3n con mnem\xF3nica."),await aY();return null}function jI(){if(!u)return console.warn("RBAC: SWM no instanciado en hasExistingWebAuthnRegistration"),!1;return u.hasWebAuthnRegistration()}function FI(){if(!u)return console.warn("RBAC: SWM no instanciado en getMnemonicForDisplay"),null;return u.getMnemonicForDisplay()}function wI(){if(!f8||!u)return!1;return!!(u.getSigner()&&u.webAuthnCredentialId)}async function FX($,Y){if(!$)throw console.error("RBAC _initializeSecuritySession: Se requiere instancia de GraphDB."),new Error("RBAC: Se requiere instancia de GraphDB.");if(!u)return console.error("RBAC: SWM no instanciado en _initializeSecuritySession"),f8=!1,PX(),!1;const Q=u.getSigner();if(!Q)return console.error("RBAC Error: No hay billetera activa en SoftwareWalletManager."),f8=!1,PX(),!1;M0=$;const X=u.getAddress();z$=(Y||[]).map((M)=>{try{return P(M)}catch(G){return console.warn(`RBAC: Direcci\xF3n superadmin inv\xE1lida omitida: ${M}`),null}}).filter((M)=>M!==null);const J=u.webAuthnCredentialId?"WebAuthn":"Mnem\xF3nica";if(console.log(`RBAC: Inicializando seguridad para ETH (${J}): ${X}`),s0=new jZ(Q,M0,{can:wZ,mapChangeTypeToRbacAction:KW},z$),await s0.ready(),M0.securityManager=s0,M0.sendData&&!M0._originalSendDataByRBAC)M0._originalSendDataByRBAC=M0.sendData.bind(M0),M0.sendData=async(M)=>{if(!s0)return M0._originalSendDataByRBAC(M);await s0.ready();const G=await s0.signOutgoingOperations(M);return M0._originalSendDataByRBAC(G)},console.log("RBAC: GDB sendData envuelto para firmas.");const Z=`user:${X}`;try{await M0.ready;const M=await M0.get(Z),G=M.result&&M.result.value||{};let U=G.role;if(!U)U=Object.keys(YY).includes("user")?"user":Object.keys(YY)[Object.keys(YY).length-1];if(G.role!==U||!M.result||G.ethAddress!==X)await M0.put({...G,ethAddress:X,role:U},Z),console.log(`RBAC: Nodo para ETH Address ${X} (rol '${U}') asegurado en GDB.`);else console.log(`RBAC: Nodo para ETH Address ${X} ya existe y est\xE1 actualizado.`)}catch(M){console.error(`RBAC: Error al interactuar con el nodo de usuario ${Z} en GDB:`,M)}return f8=!0,PX(),console.log(`RBAC: Seguridad P2P configurada y activa para ${X}.`),!0}async function _I($,Y=[]){if(M0=$,z$=Y,console.log("RBAC: Contexto de seguridad (GDB y SuperAdmins) establecido."),!u)return console.warn("RBAC: SWM no instanciado en createSecurityContext"),!1;if(u.getSigner()&&u.getAddress())return console.log("RBAC: Sesi\xF3n ya activa en SWM, re-inicializando seguridad completa con GDB."),await FX($,Y);return!1}async function aY(){if(console.log("RBAC: Solicitando desactivaci\xF3n de seguridad P2P."),M0&&M0._originalSendDataByRBAC)M0.sendData=M0._originalSendDataByRBAC,delete M0._originalSendDataByRBAC,console.log("RBAC: GDB sendData restaurado a original.");if(M0)M0.securityManager=null;if(u)u.logout();s0=null,f8=!1,PX(),console.log("RBAC: Seguridad desactivada.")}var fM=function(){if(!u)throw new Error("RBAC: SWM no instanciado en _getCurrentActiveEthAddressForRbac");if(!f8||!u.getAddress())throw new Error("RBAC: La seguridad no est\xE1 activa o no hay usuario ETH identificado.");return u.getAddress()};async function xI($,Y,Q,X=null){if(!$||!Y||!Q)throw new Error("RBAC assignRole: db, targetUserEthAddress, y role son requeridos.");await $.ready;const J=fM();let Z;try{Z=P(Y)}catch(V){throw new Error(`RBAC assignRole: targetUserEthAddress '${Y}' no es v\xE1lida.`)}if(!YY[Q])throw new Error(`RBAC: El rol '${Q}' no existe.`);const M=`user:${Z}`,G=await $.get(M),W={...G.result&&G.result.value||{},ethAddress:Z,role:Q,assignedByEthAddress:J,expiresAt:X?new Date(X).toISOString():null};await $.put(W,M),console.log(`RBAC: Solicitud de asignaci\xF3n de rol '${Q}' a ETH Address '${Z}' enviada.`)}async function LW(){if(!u)return!1;if(!f8||!u.getAddress()||!z$||z$.length===0)return!1;const $=u.getAddress();return z$.includes(P($))}async function RW($,Y,Q="desconocida"){let X;try{X=P(Y)}catch(M){throw new Error(`RBAC: Direcci\xF3n ETH '${Y}' inv\xE1lida para op '${Q}'.`)}await $.ready;const J=await $.get(`user:${X}`);if(!J.result||!J.result.value||!J.result.value.role)throw new Error(`RBAC: No se encontr\xF3 rol para ETH ${X} (op: ${Q}).`);const Z=J.result.value;if(Z.expiresAt&&new Date(Z.expiresAt)<new Date)throw new Error(`RBAC: Rol para ETH ${X} ha caducado.`);return Z.role}async function xM($,Y,Q){const X=await RW($,Y,Q);if(!wZ(X,Q))throw new Error(`RBAC: Usuario ETH ${Y} (rol ${X}) no tiene permiso para '${Q}'.`)}async function fI($,Y,Q){if(!$||!Y||!Q)throw new Error("RBAC executeWithPermission: db, operationName, y actionCallback son requeridos.");const X=fM();let J=!1;if(Y==="assignRole")if(await LW())J=!0,console.log(`RBAC: ${X} autorizado para 'assignRole' por config superadmin.`);else await xM($,X,Y),J=!0,console.log(`RBAC: ${X} autorizado para '${Y}' por rol en GDB.`);else await xM($,X,Y),J=!0,console.log(`RBAC: ${X} autorizado para '${Y}' por rol en GDB.`);if(!J)throw new Error(`RBAC: ETH ${X} NO TIENE PERMISO para '${Y}'.`);return await Q(X)}function hI(){if(!u)return null;return f8?u.getAddress():null}function kI(){if(!u)return!1;return f8&&u.getSigner()!==null}async function bI($){if(!s0||typeof s0.encryptDataForSelf!=="function")throw new Error("RBAC: M\xF3dulo de seguridad no activo o no soporta cifrado (self).");return await s0.ready(),await s0.encryptDataForSelf($)}async function yI($){if(!s0||typeof s0.decryptDataForSelf!=="function")throw new Error("RBAC: M\xF3dulo de seguridad no activo o no soporta descifrado (self).");return await s0.ready(),await s0.decryptDataForSelf($)}var YY={superadmin:{can:["assignRole","deleteAny"],inherits:["admin"]},admin:{can:["delete"],inherits:["manager"]},manager:{can:["publish"],inherits:["user"]},user:{can:["write","link","sync"],inherits:["guest"]},guest:{can:["read"]}},M0=null,u;try{u=new FZ,console.log("RBAC: SoftwareWalletManager instanciado correctamente.")}catch($){console.error("RBAC: \xA1ERROR GRAVE AL INSTANCIAR SoftwareWalletManager!",$)}var s0=null,z$=[],f8=!1,jX=null;export{SI as startNewUserRegistration,NI as setSecurityStateChangeCallback,TI as setCustomRoles,BI as protectCurrentIdentityWithWebAuthn,KW as mapChangeTypeToRbacAction,PI as loginOrRecoverUserWithMnemonic,AI as loginCurrentUserWithWebAuthn,kI as isSecurityActive,wI as isCurrentSessionProtectedByWebAuthn,jI as hasExistingWebAuthnRegistration,FI as getMnemonicForDisplayAfterRegistrationOrRecovery,hI as getActiveEthAddress,fI as executeWithPermission,bI as encryptDataForCurrentUser,yI as decryptDataForCurrentUser,_I as createSecurityContext,aY as clearSecurity,wZ as can,xI as assignRole};
